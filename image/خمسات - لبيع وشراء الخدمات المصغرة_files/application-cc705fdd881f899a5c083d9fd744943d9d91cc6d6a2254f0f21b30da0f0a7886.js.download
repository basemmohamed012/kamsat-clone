function text_truncate(e,t,n){return null==t&&(t=100),null==n&&(n="..."),e.length>t?e.substring(0,t-n.length)+n:e}function enable_btn(e){var t=$(e).attr("data-title");$(e).html(t),$(e).attr("disabled",!1)}function disable_btn(e){var t=$(e).html();$(e).html("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$(e).attr("disabled",!0),$(e).attr("data-title",t)}function isElementInViewport(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function array_unique_values(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))}function merge_object(e,t){for(var n in t)e[n]=t[n];return e}function clean_object(e){for(var t in e)null!==e[t]&&void 0!==e[t]||delete e[t];return e}function hsoub_grs(e){var t="",n=e/10;for(i=0;i<n;i++)t+=Math.random().toString(36).substr(2,10);return t}function update_total_price(){var e=[],t=parseInt($("#service_base_price").val()),n=parseInt($("#service_quantity").val()),i=$("#service_id").val(),o=$("#user_id").val(),r=parseInt($("#user_credit").val());$.each($(".service_upgrade_check:checked"),(function(){var n=$(this);e.push(n.val()),t+=parseInt(n.closest("tr").find(".service_upgrade_price").attr("data-price"))}));var a=t*n;$("#paypal_payment").length&&($('#paypal_payment input[name="quantity"]').val(n),$('#paypal_payment input[name="custom"]').val(o+":"+i+":"+e.join(":"))),$("#khamsat_payment").length&&($('#khamsat_payment input[name="quantity"]').val(n),$('#khamsat_payment input[name="custom"]').val(o+":"+i+":"+e.join(":")),a>r?$("#khamsat_payment").fadeOut(1):$("#khamsat_payment").fadeIn(1)),$("#show_cc_form").length&&($('#cc_payment_form input[name="quantity"]').val(n),$('#cc_payment_form input[name="custom"]').val(o+":"+i+":"+e.join(":"))),$(".order_price").text(t),$(".total_order_price").text(a)}function getSubCategories(e,t,n=!1){var i="";i=n?"/admin/ajax/sub_category":"/ajax/sub_category",$.ajax({url:i,method:"POST",dataType:"json",data:{category_name:e}}).done((function(e){var n=$(t)[0].selectize;n.clear(),n.clearOptions(),n.load((function(t){var i=[],o=!1;e.sub_categories.forEach((e=>{"true"==escapeHtml(e.disable)&&(o=!0),i.push({disable:o,itemName:escapeHtml(e.title),itemValue:escapeHtml(e.name),itemNested:escapeHtml(e.nested)}),o=!1})),n.refreshOptions(),t(i)}))}))}function loadSubCategories(e,t){$("#new-service-form").length>0||$("#admin_service_edit").length>0?getSubCategories(e,t):getSubCategories(e,t,!0)}function labnolIframe(){var e=document.createElement("iframe"),t="https://www.youtube.com/embed/ID?autoplay=1";e.setAttribute("src",t.replace("ID",this.dataset.id)+this.dataset.ido),e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","1"),this.appendChild(e)}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function __guard__(e,t){return null!=e?t(e):void 0}function __guardMethod__(e,t,n){return null!=e&&"function"==typeof e[t]?n(e,t):void 0}function RecordRTC(e,t){function n(n){return n&&(t=new RecordRTCConfiguration(e,n)),t.disableLogs||console.log("started recording "+t.type+" stream."),h?(h.clearRecordedData(),h.record(),d("recording"),p.recordingDuration&&c(),p):(i((function(){p.recordingDuration&&c()})),p)}function i(n){n&&(t.initCallback=function(){n(),n=t.initCallback=null});var i=new GetRecorderType(e,t);(h=new i(e,t)).record(),d("recording"),t.disableLogs||console.log("Initialized recorderType:",h.constructor.name,"for output-type:",t.type)}function o(e){function n(n){if(h){Object.keys(h).forEach((function(e){"function"!=typeof h[e]&&(p[e]=h[e])}));var i=h.blob;if(!i){if(!n)throw"Recording failed.";h.blob=i=n}if(i&&!t.disableLogs&&console.log(i.type,"->",bytesToSize(i.size)),e){var o;try{o=URL.createObjectURL(i)}catch(e){}"function"==typeof e.call?e.call(p,o):e(o)}t.autoWriteToDisk&&l((function(e){var n={};n[t.type+"Blob"]=e,DiskStorage.Store(n)}))}else"function"==typeof e.call?e.call(p,""):e("")}return e=e||function(){},h?"paused"===p.state?(p.resumeRecording(),void setTimeout((function(){o(e)}),1)):("recording"===p.state||t.disableLogs||console.warn('Recording state should be: "recording", however current state is: ',p.state),t.disableLogs||console.log("Stopped recording "+t.type+" stream."),"gif"!==t.type?h.stop(n):(h.stop(),n()),void d("stopped")):void u()}function r(){return h?"recording"!==p.state?void(t.disableLogs||console.warn("Unable to pause the recording. Recording state: ",p.state)):(d("paused"),h.pause(),void(t.disableLogs||console.log("Paused recording."))):void u()}function a(){return h?"paused"!==p.state?void(t.disableLogs||console.warn("Unable to resume the recording. Recording state: ",p.state)):(d("recording"),h.resume(),void(t.disableLogs||console.log("Resumed recording."))):void u()}function s(e){postMessage((new FileReaderSync).readAsDataURL(e))}function l(e,n){function i(e){try{var t=URL.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return URL.revokeObjectURL(t),n}catch(e){}}if(!e)throw"Pass a callback function over getDataURL.";var o=n?n.blob:(h||{}).blob;if(!o)return t.disableLogs||console.warn("Blob encoder did not finish its job yet."),void setTimeout((function(){l(e,n)}),1e3);if("undefined"==typeof Worker||navigator.mozGetUserMedia){var r=new FileReader;r.readAsDataURL(o),r.onload=function(t){e(t.target.result)}}else{var a=i(s);a.onmessage=function(t){e(t.data)},a.postMessage(o)}}function c(e){if(e=e||0,"paused"!==p.state){if("stopped"!==p.state){if(e>=p.recordingDuration)return void o(p.onRecordingStopped);e+=1e3,setTimeout((function(){c(e)}),1e3)}}else setTimeout((function(){c(e)}),1e3)}function d(e){p&&(p.state=e,"function"==typeof p.onStateChanged.call?p.onStateChanged.call(p,e):p.onStateChanged(e))}function u(){!0!==t.disableLogs&&console.warn(f)}if(!e)throw"First parameter is required.";t=new RecordRTCConfiguration(e,t=t||{type:"video"});var h,p=this,f='It seems that recorder is destroyed or "startRecording" is not invoked for '+t.type+" recorder.",m={startRecording:n,stopRecording:o,pauseRecording:r,resumeRecording:a,initRecorder:i,setRecordingDuration:function(e,t){if(void 0===e)throw"recordingDuration is required.";if("number"!=typeof e)throw"recordingDuration must be a number.";return p.recordingDuration=e,p.onRecordingStopped=t||function(){},{onRecordingStopped:function(e){p.onRecordingStopped=e}}},clearRecordedData:function(){return h?(h.clearRecordedData(),void(t.disableLogs||console.log("Cleared old recorded data."))):void u()},getBlob:function(){return h?h.blob:void u()},getDataURL:l,toURL:function(){return h?URL.createObjectURL(h.blob):void u()},getInternalRecorder:function(){return h},save:function(e){return h?void invokeSaveAsDialog(h.blob,e):void u()},getFromDisk:function(e){return h?void RecordRTC.getFromDisk(t.type,e):void u()},setAdvertisementArray:function(e){t.advertisement=[];for(var n=e.length,i=0;i<n;i++)t.advertisement.push({duration:i,image:e[i]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){h&&"function"==typeof h.clearRecordedData&&h.clearRecordedData(),h=null,d("inactive"),p.blob=null},onStateChanged:function(e){t.disableLogs||console.log("Recorder state changed:",e)},state:"inactive",getState:function(){return p.state},destroy:function(){var e=t.disableLogs;t={disableLogs:!0},p.reset(),d("destroyed"),m=p=null,Storage.AudioContextConstructor&&(Storage.AudioContextConstructor.close(),Storage.AudioContextConstructor=null),t.disableLogs=e,t.disableLogs||console.warn("RecordRTC is destroyed.")},version:"5.5.7"};if(!this)return p=m,m;for(var g in m)this[g]=m[g];return p=this,m}function RecordRTCConfiguration(e,t){return t.recorderType||t.type||(t.audio&&t.video?t.type="video":t.audio&&!t.video&&(t.type="audio")),t.recorderType&&!t.type&&(t.recorderType===WhammyRecorder||t.recorderType===CanvasRecorder||void 0!==WebAssemblyRecorder&&t.recorderType===WebAssemblyRecorder?t.type="video":t.recorderType===GifRecorder?t.type="gif":t.recorderType===StereoAudioRecorder?t.type="audio":t.recorderType===MediaStreamRecorder&&(getTracks(e,"audio").length&&getTracks(e,"video").length||!getTracks(e,"audio").length&&getTracks(e,"video").length?t.type="video":getTracks(e,"audio").length&&!getTracks(e,"video").length&&(t.type="audio"))),void 0!==MediaStreamRecorder&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(t.mimeType||(t.mimeType="video/webm"),t.type||(t.type=t.mimeType.split("/")[0]),t.bitsPerSecond),t.type||(t.mimeType&&(t.type=t.mimeType.split("/")[0]),t.type||(t.type="audio")),t}function GetRecorderType(e,t){var n;return(isChrome||isEdge||isOpera)&&(n=StereoAudioRecorder),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&!isChrome&&(n=MediaStreamRecorder),"video"===t.type&&(isChrome||isOpera)&&(n=WhammyRecorder,void 0!==WebAssemblyRecorder&&"undefined"!=typeof ReadableStream&&(n=WebAssemblyRecorder)),"gif"===t.type&&(n=GifRecorder),"canvas"===t.type&&(n=CanvasRecorder),isMediaRecorderCompatible()&&n!==CanvasRecorder&&n!==GifRecorder&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(getTracks(e,"video").length||getTracks(e,"audio").length)&&("audio"===t.type?"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm")&&(n=MediaStreamRecorder):"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("video/webm")&&(n=MediaStreamRecorder)),e instanceof Array&&e.length&&(n=MultiStreamRecorder),t.recorderType&&(n=t.recorderType),!t.disableLogs&&n&&n.name&&console.log("Using recorderType:",n.name||n.constructor.name),!n&&isSafari&&(n=MediaStreamRecorder),n}function MRecordRTC(e){this.addStream=function(t){t&&(e=t)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var t,n=this.mediaType,i=this.mimeType||{audio:null,video:null,gif:null};if("function"!=typeof n.audio&&isMediaRecorderCompatible()&&!getTracks(e,"audio").length&&(n.audio=!1),"function"!=typeof n.video&&isMediaRecorderCompatible()&&!getTracks(e,"video").length&&(n.video=!1),"function"!=typeof n.gif&&isMediaRecorderCompatible()&&!getTracks(e,"video").length&&(n.gif=!1),!n.audio&&!n.video&&!n.gif)throw"MediaStream must have either audio or video tracks.";if(n.audio&&(t=null,"function"==typeof n.audio&&(t=n.audio),this.audioRecorder=new RecordRTC(e,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:t,mimeType:i.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),n.video||this.audioRecorder.startRecording()),n.video){t=null,"function"==typeof n.video&&(t=n.video);var o=e;if(isMediaRecorderCompatible()&&n.audio&&"function"==typeof n.audio){var r=getTracks(e,"video")[0];isFirefox?((o=new MediaStream).addTrack(r),t&&t===WhammyRecorder&&(t=MediaStreamRecorder)):(o=new MediaStream).addTrack(r)}this.videoRecorder=new RecordRTC(o,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:t,mimeType:i.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),n.audio||this.videoRecorder.startRecording()}if(n.audio&&n.video){var a=this,s=!0===isMediaRecorderCompatible();(n.audio instanceof StereoAudioRecorder&&n.video||!0!==n.audio&&!0!==n.video&&n.audio!==n.video)&&(s=!1),!0===s?(a.audioRecorder=null,a.videoRecorder.startRecording()):a.videoRecorder.initRecorder((function(){a.audioRecorder.initRecorder((function(){a.videoRecorder.startRecording(),a.audioRecorder.startRecording()}))}))}n.gif&&(t=null,"function"==typeof n.gif&&(t=n.gif),this.gifRecorder=new RecordRTC(e,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:t,mimeType:i.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(e){e=e||function(){},this.audioRecorder&&this.audioRecorder.stopRecording((function(t){e(t,"audio")})),this.videoRecorder&&this.videoRecorder.stopRecording((function(t){e(t,"video")})),this.gifRecorder&&this.gifRecorder.stopRecording((function(t){e(t,"gif")}))},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(e){var t={};return this.audioRecorder&&(t.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(t.video=this.videoRecorder.getBlob()),this.gifRecorder&&(t.gif=this.gifRecorder.getBlob()),e&&e(t),t},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(e){function t(e,t){if("undefined"!=typeof Worker){var i=n((function(e){postMessage((new FileReaderSync).readAsDataURL(e))}));i.onmessage=function(e){t(e.data)},i.postMessage(e)}else{var o=new FileReader;o.readAsDataURL(e),o.onload=function(e){t(e.target.result)}}}function n(e){var t,n=URL.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),i=new Worker(n);if(void 0!==URL)t=URL;else{if("undefined"==typeof webkitURL)throw"Neither URL nor webkitURL detected.";t=webkitURL}return t.revokeObjectURL(n),i}this.getBlob((function(n){n.audio&&n.video?t(n.audio,(function(i){t(n.video,(function(t){e({audio:i,video:t})}))})):n.audio?t(n.audio,(function(t){e({audio:t})})):n.video&&t(n.video,(function(t){e({video:t})}))}))},this.writeToDisk=function(){RecordRTC.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(e){(e=e||{audio:!0,video:!0,gif:!0}).audio&&this.audioRecorder&&this.audioRecorder.save("string"==typeof e.audio?e.audio:""),e.video&&this.videoRecorder&&this.videoRecorder.save("string"==typeof e.video?e.video:""),e.gif&&this.gifRecorder&&this.gifRecorder.save("string"==typeof e.gif?e.gif:"")}}function bytesToSize(e){var t=1e3,n=["Bytes","KB","MB","GB","TB"];if(0===e)return"0 Bytes";var i=parseInt(Math.floor(Math.log(e)/Math.log(t)),10);return(e/Math.pow(t,i)).toPrecision(3)+" "+n[i]}function invokeSaveAsDialog(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(e){}var n=(e.type||"video/webm").split("/")[1];if(t&&-1!==t.indexOf(".")){var i=t.split(".");t=i[0],n=i[1]}var o=(t||Math.round(9999999999*Math.random())+888888888)+"."+n;if(void 0!==navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,o);if(void 0!==navigator.msSaveBlob)return navigator.msSaveBlob(e,o);var r=document.createElement("a");r.href=URL.createObjectURL(e),r.download=o,r.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(r),"function"==typeof r.click?r.click():(r.target="_blank",r.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),URL.revokeObjectURL(r.href)}function isElectron(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}function getTracks(e,t){return e&&e.getTracks?e.getTracks().filter((function(e){return e.kind===(t||"audio")})):[]}function setSrcObject(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}function getSeekableBlob(e,t){if("undefined"==typeof EBML)throw new Error("Please link: https://cdn.webrtc-experiment.com/EBML.js");var n=new EBML.Reader,i=new EBML.Decoder,o=EBML.tools,r=new FileReader;r.onload=function(){i.decode(this.result).forEach((function(e){n.read(e)})),n.stop();var e=o.makeMetadataSeekable(n.metadatas,n.duration,n.cues),r=this.result.slice(n.metadataSize),a=new Blob([e,r],{type:"video/webm"});t(a)},r.readAsArrayBuffer(e)}function isMediaRecorderCompatible(){if(isFirefox||isSafari||isEdge)return!0;var e,t,n=(navigator.appVersion,navigator.userAgent),i=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10);return(isChrome||isOpera)&&(e=n.indexOf("Chrome"),i=n.substring(e+7)),-1!==(t=i.indexOf(";"))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(" "))&&(i=i.substring(0,t)),o=parseInt(""+i,10),isNaN(o)&&(i=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10)),o>=49}function MediaStreamRecorder(e,t){function n(){a.timestamps.push((new Date).getTime()),"function"==typeof t.onTimeStamp&&t.onTimeStamp(a.timestamps[a.timestamps.length-1],a.timestamps)}function i(e){return l&&l.mimeType?l.mimeType:e.mimeType||"video/webm"}function o(){c=[],l=null,a.timestamps=[]}function r(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}var a=this;if(void 0===e)throw'First argument "MediaStream" is required.';if("undefined"==typeof MediaRecorder)throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if("audio"===(t=t||{mimeType:"video/webm"}).type){var s;if(getTracks(e,"video").length&&getTracks(e,"audio").length)navigator.mozGetUserMedia?(s=new MediaStream).addTrack(getTracks(e,"audio")[0]):s=new MediaStream(getTracks(e,"audio")),e=s;t.mimeType&&-1!==t.mimeType.toString().toLowerCase().indexOf("audio")||(t.mimeType=isChrome?"audio/webm":"audio/ogg"),t.mimeType&&"audio/ogg"!==t.mimeType.toString().toLowerCase()&&navigator.mozGetUserMedia&&(t.mimeType="audio/ogg")}var l,c=[];this.getArrayOfBlobs=function(){return c},this.record=function(){a.blob=null,a.clearRecordedData(),a.timestamps=[],d=[],c=[];var o=t;t.disableLogs||console.log("Passing following config over MediaRecorder API.",o),l&&(l=null),isChrome&&!isMediaRecorderCompatible()&&(o="video/vp8"),"function"==typeof MediaRecorder.isTypeSupported&&o.mimeType&&(MediaRecorder.isTypeSupported(o.mimeType)||(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",o.mimeType),o.mimeType="audio"===t.type?"audio/webm":"video/webm"));try{l=new MediaRecorder(e,o),t.mimeType=o.mimeType}catch(t){l=new MediaRecorder(e)}o.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in l&&!1===l.canRecordMimeType(o.mimeType)&&(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",o.mimeType)),l.ondataavailable=function(e){if(e.data&&d.push("ondataavailable: "+bytesToSize(e.data.size)),"number"!=typeof t.timeSlice){if(!e.data||!e.data.size||e.data.size<100||a.blob)return void(a.recordingCallback&&(a.recordingCallback(new Blob([],{type:i(o)})),a.recordingCallback=null));a.blob=t.getNativeBlob?e.data:new Blob([e.data],{type:i(o)}),a.recordingCallback&&(a.recordingCallback(a.blob),a.recordingCallback=null)}else if(e.data&&e.data.size&&e.data.size>100&&(c.push(e.data),n(),"function"==typeof t.ondataavailable)){var r=t.getNativeBlob?e.data:new Blob([e.data],{type:i(o)});t.ondataavailable(r)}},l.onstart=function(){d.push("started")},l.onpause=function(){d.push("paused")},l.onresume=function(){d.push("resumed")},l.onstop=function(){d.push("stopped")},l.onerror=function(e){var n;e&&(e.name||(e.name="UnknownError"),d.push("error: "+e),t.disableLogs||(-1!==e.name.toString().toLowerCase().indexOf("invalidstate")?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",e):-1!==e.name.toString().toLowerCase().indexOf("notsupported")?console.error("MIME type (",o.mimeType,") is not supported.",e):-1!==e.name.toString().toLowerCase().indexOf("security")?console.error("MediaRecorder security error",e):"OutOfMemory"===e.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"IllegalStreamModification"===e.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"OtherRecordingError"===e.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"GenericError"===e.name?console.error("The UA cannot provide the codec or recording option that has been requested.",e):console.error("MediaRecorder Error",e)),!a.manuallyStopped&&l&&"inactive"===l.state?(delete t.timeslice,l.start(6e5)):setTimeout(n,1e3),"inactive"!==l.state&&"stopped"!==l.state&&l.stop())},"number"==typeof t.timeSlice?(n(),l.start(t.timeSlice)):l.start(36e5),t.initCallback&&t.initCallback()},this.timestamps=[],this.stop=function(e){e=e||function(){},a.manuallyStopped=!0,l&&(this.recordingCallback=e,"recording"===l.state&&l.stop(),"number"==typeof t.timeSlice&&setTimeout((function(){a.blob=new Blob(c,{type:i(t)}),a.recordingCallback(a.blob)}),100))},this.pause=function(){l&&"recording"===l.state&&l.pause()},this.resume=function(){l&&"paused"===l.state&&l.resume()},this.clearRecordedData=function(){l&&"recording"===l.state&&a.stop(o),o()},this.getInternalRecorder=function(){return l},this.blob=null,this.getState=function(){return l&&l.state||"inactive"};var d=[];this.getAllStates=function(){return d},void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!1);a=this;!function e(){if(l&&!1!==t.checkForInactiveTracks)return!1===r()?(t.disableLogs||console.log("MediaStream seems stopped."),void a.stop()):void setTimeout(e,1e3)}(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}function StereoAudioRecorder(e,t){function n(){if(!1===t.checkForInactiveTracks)return!0;if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}function i(e,t){function n(e,t){function n(e,t,n){var o=Math.round(e.length*(t/n)),r=[],a=Number((e.length-1)/(o-1));r[0]=e[0];for(var s=1;s<o-1;s++){var l=s*a,c=Number(Math.floor(l)).toFixed(),d=Number(Math.ceil(l)).toFixed(),u=l-c;r[s]=i(e[c],e[d],u)}return r[o-1]=e[e.length-1],r}function i(e,t,n){return e+(t-e)*n}function o(e,t){for(var n=new Float64Array(t),i=0,o=e.length,r=0;r<o;r++){var a=e[r];n.set(a,i),i+=a.length}return n}function r(e,t){for(var n=e.length+t.length,i=new Float64Array(n),o=0,r=0;r<n;)i[r++]=e[o],i[r++]=t[o],o++;return i}function a(e,t,n){for(var i=n.length,o=0;o<i;o++)e.setUint8(t+o,n.charCodeAt(o))}var s,l=e.numberOfAudioChannels,c=e.leftBuffers.slice(0),d=e.rightBuffers.slice(0),u=e.sampleRate,h=e.internalInterleavedLength,p=e.desiredSampRate;2===l&&(c=o(c,h),d=o(d,h),p&&(c=n(c,p,u),d=n(d,p,u))),1===l&&(c=o(c,h),p&&(c=n(c,p,u))),p&&(u=p),2===l&&(s=r(c,d)),1===l&&(s=c);var f=s.length,m=new ArrayBuffer(44+2*f),g=new DataView(m);a(g,0,"RIFF"),g.setUint32(4,36+2*f,!0),a(g,8,"WAVE"),a(g,12,"fmt "),g.setUint32(16,16,!0),g.setUint16(20,1,!0),g.setUint16(22,l,!0),g.setUint32(24,u,!0),g.setUint32(28,2*u,!0),g.setUint16(32,2*l,!0),g.setUint16(34,16,!0),a(g,36,"data"),g.setUint32(40,2*f,!0);for(var v=f,y=44,b=1,_=0;_<v;_++)g.setInt16(y,s[_]*(32767*b),!0),y+=2;return t?t({buffer:m,view:g}):void postMessage({buffer:m,view:g})}if(e.noWorker)n(e,(function(e){t(e.buffer,e.view)}));else{var i=o(n);i.onmessage=function(e){t(e.data.buffer,e.data.view),URL.revokeObjectURL(i.workerURL),i.terminate()},i.postMessage(e)}}function o(e){var t=URL.createObjectURL(new Blob([e.toString(),";this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return n.workerURL=t,n}function r(){u=[],h=[],f=0,x=!1,p=!1,C=!1,y=null,d.leftchannel=u,d.rightchannel=h,d.numberOfAudioChannels=m,d.desiredSampRate=g,d.sampleRate=k,d.recordingLength=f,T={left:[],right:[],recordingLength:0}}function a(){c&&(c.onaudioprocess=null,c.disconnect(),c=null),b&&(b.disconnect(),b=null),r()}function s(e){if(!C){if(!1===n()&&(t.disableLogs||console.log("MediaStream seems stopped."),c.disconnect(),p=!1),!p)return void(b&&(b.disconnect(),b=null));x||(x=!0,t.onAudioProcessStarted&&t.onAudioProcessStarted(),t.initCallback&&t.initCallback());var i=e.inputBuffer.getChannelData(0),o=new Float32Array(i);if(u.push(o),2===m){var r=e.inputBuffer.getChannelData(1),a=new Float32Array(r);h.push(a)}f+=w,d.recordingLength=f,void 0!==t.timeSlice&&(T.recordingLength+=w,T.left.push(o),2===m&&T.right.push(a))}}function l(){p&&"function"==typeof t.ondataavailable&&void 0!==t.timeSlice&&(T.left.length?(i({desiredSampRate:g,sampleRate:k,numberOfAudioChannels:m,internalInterleavedLength:T.recordingLength,leftBuffers:T.left,rightBuffers:1===m?[]:T.right},(function(e,n){var i=new Blob([n],{type:"audio/wav"});t.ondataavailable(i),setTimeout(l,t.timeSlice)})),T={left:[],right:[],recordingLength:0}):setTimeout(l,t.timeSlice))}if(!getTracks(e,"audio").length)throw"Your stream has no audio tracks.";var c,d=this,u=[],h=[],p=!1,f=0,m=2,g=(t=t||{}).desiredSampRate;if(!0===t.leftChannel&&(m=1),1===t.numberOfAudioChannels&&(m=1),(!m||m<1)&&(m=2),t.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+m),void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!0),this.record=function(){if(!1===n())throw"Please make sure MediaStream is active.";r(),x=C=!1,p=!0,void 0!==t.timeSlice&&l()},this.stop=function(e){e=e||function(){},p=!1,i({desiredSampRate:g,sampleRate:k,numberOfAudioChannels:m,internalInterleavedLength:f,leftBuffers:u,rightBuffers:1===m?[]:h,noWorker:t.noWorker},(function(t,n){d.blob=new Blob([n],{type:"audio/wav"}),d.buffer=new ArrayBuffer(n.buffer.byteLength),d.view=n,d.sampleRate=g||k,d.bufferSize=w,d.length=f,x=!1,e&&e(d.blob)}))},void 0===v)var v={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext};v.AudioContextConstructor||(v.AudioContextConstructor=new v.AudioContext);var y=v.AudioContextConstructor,b=y.createMediaStreamSource(e),_=[0,256,512,1024,2048,4096,8192,16384],w=void 0===t.bufferSize?4096:t.bufferSize;if(-1===_.indexOf(w)&&(t.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(_,null,"\t"))),y.createJavaScriptNode)c=y.createJavaScriptNode(w,m,m);else{if(!y.createScriptProcessor)throw"WebAudio API has no support on this browser.";c=y.createScriptProcessor(w,m,m)}b.connect(c),t.bufferSize||(w=c.bufferSize);var k=void 0!==t.sampleRate?t.sampleRate:y.sampleRate||44100;(k<22050||k>96e3)&&(t.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),t.disableLogs||t.desiredSampRate&&console.log("Desired sample-rate: "+t.desiredSampRate);var C=!1;this.pause=function(){C=!0},this.resume=function(){if(!1===n())throw"Please make sure MediaStream is active.";return p?void(C=!1):(t.disableLogs||console.log("Seems recording has been restarted."),void this.record())},this.clearRecordedData=function(){t.checkForInactiveTracks=!1,p&&this.stop(a),a()},this.name="StereoAudioRecorder",this.toString=function(){return this.name};var x=!1;c.onaudioprocess=s,y.createMediaStreamDestination?c.connect(y.createMediaStreamDestination()):c.connect(y.destination),this.leftchannel=u,this.rightchannel=h,this.numberOfAudioChannels=m,this.desiredSampRate=g,this.sampleRate=k,d.recordingLength=f;var T={left:[],right:[],recordingLength:0}}function CanvasRecorder(e,t){function n(){f.frames=[],l=!1,h=!1}function i(){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),t}function o(){if(h)return p=(new Date).getTime(),setTimeout(o,500);if("canvas"===e.nodeName.toLowerCase()){var n=(new Date).getTime()-p;return p=(new Date).getTime(),f.frames.push({image:i(),duration:n}),void(l&&setTimeout(o,t.frameInterval))}html2canvas(e,{grabMouse:void 0===t.showMousePointer||t.showMousePointer,onrendered:function(e){var n=(new Date).getTime()-p;return n?(p=(new Date).getTime(),f.frames.push({image:e.toDataURL("image/webp",1),duration:n}),void(l&&setTimeout(o,t.frameInterval))):setTimeout(o,t.frameInterval)}})}if("undefined"==typeof html2canvas)throw"Please link: https://cdn.webrtc-experiment.com/screenshot.js";(t=t||{}).frameInterval||(t.frameInterval=10);var r=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach((function(e){e in document.createElement("canvas")&&(r=!0)}));var a,s,l,c=!(!window.webkitRTCPeerConnection&&!window.webkitGetUserMedia||!window.chrome),d=50,u=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(c&&u&&u[2]&&(d=parseInt(u[2],10)),c&&d<52&&(r=!1),t.useWhammyRecorder&&(r=!1),r)if(t.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),e instanceof HTMLCanvasElement)a=e;else{if(!(e instanceof CanvasRenderingContext2D))throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";a=e.canvas}else navigator.mozGetUserMedia&&(t.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));this.record=function(){if(l=!0,r&&!t.useWhammyRecorder){var e;"captureStream"in a?e=a.captureStream(25):"mozCaptureStream"in a?e=a.mozCaptureStream(25):"webkitCaptureStream"in a&&(e=a.webkitCaptureStream(25));try{var n=new MediaStream;n.addTrack(getTracks(e,"video")[0]),e=n}catch(e){}if(!e)throw"captureStream API are NOT available.";(s=new MediaStreamRecorder(e,{mimeType:t.mimeType||"video/webm"})).record()}else f.frames=[],p=(new Date).getTime(),o();t.initCallback&&t.initCallback()},this.getWebPImages=function(n){if("canvas"===e.nodeName.toLowerCase()){var i=f.frames.length;f.frames.forEach((function(e,n){var o=i-n;t.disableLogs||console.log(o+"/"+i+" frames remaining"),t.onEncodingCallback&&t.onEncodingCallback(o,i);var r=e.image.toDataURL("image/webp",1);f.frames[n].image=r})),t.disableLogs||console.log("Generating WebM"),n()}else n()},this.stop=function(e){l=!1;var n=this;return r&&s?void s.stop(e):void this.getWebPImages((function(){f.compile((function(i){t.disableLogs||console.log("Recording finished!"),n.blob=i,n.blob.forEach&&(n.blob=new Blob([],{type:"video/webm"})),e&&e(n.blob),f.frames=[]}))}))};var h=!1;this.pause=function(){h=!0,s instanceof MediaStreamRecorder&&s.pause()},this.resume=function(){return h=!1,s instanceof MediaStreamRecorder?void s.resume():void(l||this.record())},this.clearRecordedData=function(){l&&this.stop(n),n()},this.name="CanvasRecorder",this.toString=function(){return this.name};var p=(new Date).getTime(),f=new Whammy.Video(100)}function WhammyRecorder(e,t){function n(e){e=void 0!==e?e:10;var t=(new Date).getTime()-c;return t?s?(c=(new Date).getTime(),setTimeout(n,100)):(c=(new Date).getTime(),l.paused&&l.play(),h.drawImage(l,0,0,u.width,u.height),d.frames.push({duration:t,image:u.toDataURL("image/webp")}),void(a||setTimeout(n,e,e))):setTimeout(n,e,e)}function i(e){var t=-1,n=e.length;!function i(){return++t===n?void e.callback():void setTimeout((function(){e.functionToLoop(i,t)}),1)}()}function o(e,t,n,o,r){var a=document.createElement("canvas");a.width=u.width,a.height=u.height;var s=a.getContext("2d"),l=[],c=-1===t,d=t&&t>0&&t<=e.length?t:e.length,h={r:0,g:0,b:0},p=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),f=n&&n>=0&&n<=1?n:0,m=o&&o>=0&&o<=1?o:0,g=!1;i({length:d,functionToLoop:function(t,n){var i,o,r,a=function(){!g&&r-i<=r*m||(c&&(g=!0),l.push(e[n])),t()};if(g)a();else{var d=new Image;d.onload=function(){s.drawImage(d,0,0,u.width,u.height);var e=s.getImageData(0,0,u.width,u.height);i=0,o=e.data.length,r=e.data.length/4;for(var t=0;t<o;t+=4){var n={r:e.data[t],g:e.data[t+1],b:e.data[t+2]};Math.sqrt(Math.pow(n.r-h.r,2)+Math.pow(n.g-h.g,2)+Math.pow(n.b-h.b,2))<=p*f&&i++}a()},d.src=e[n].image}},callback:function(){(l=l.concat(e.slice(d))).length<=0&&l.push(e[e.length-1]),
r(l)}})}function r(){d.frames=[],a=!0,s=!1}(t=t||{}).frameInterval||(t.frameInterval=10),t.disableLogs||console.log("Using frames-interval:",t.frameInterval),this.record=function(){t.width||(t.width=320),t.height||(t.height=240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),u.width=t.canvas.width||320,u.height=t.canvas.height||240,h=u.getContext("2d"),t.video&&t.video instanceof HTMLVideoElement?(l=t.video.cloneNode(),t.initCallback&&t.initCallback()):(l=document.createElement("video"),setSrcObject(e,l),l.onloadedmetadata=function(){t.initCallback&&t.initCallback()},l.width=t.video.width,l.height=t.video.height),l.muted=!0,l.play(),c=(new Date).getTime(),d=new Whammy.Video,t.disableLogs||(console.log("canvas resolutions",u.width,"*",u.height),console.log("video width/height",l.width||u.width,"*",l.height||u.height)),n(t.frameInterval)};var a=!1;this.stop=function(e){e=e||function(){},a=!0;var n=this;setTimeout((function(){o(d.frames,-1,null,null,(function(i){d.frames=i,t.advertisement&&t.advertisement.length&&(d.frames=t.advertisement.concat(d.frames)),d.compile((function(t){n.blob=t,n.blob.forEach&&(n.blob=new Blob([],{type:"video/webm"})),e&&e(n.blob)}))}))}),10)};var s=!1;this.pause=function(){s=!0},this.resume=function(){s=!1,a&&this.record()},this.clearRecordedData=function(){a||this.stop(r),r()},this.name="WhammyRecorder",this.toString=function(){return this.name};var l,c,d,u=document.createElement("canvas"),h=u.getContext("2d")}function GifRecorder(e,t){function n(){u&&(u.stream().bin=[])}if("undefined"==typeof GIFEncoder){var i=document.createElement("script");i.src="https://cdn.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(i)}t=t||{};var o=e instanceof CanvasRenderingContext2D||e instanceof HTMLCanvasElement;this.record=function(){function e(n){if(!0!==p.clearedRecordedData){if(r)return setTimeout((function(){e(n)}),100);h=requestAnimationFrame(e),void 0===typeof d&&(d=n),n-d<90||(!o&&c.paused&&c.play(),o||s.drawImage(c,0,0,a.width,a.height),t.onGifPreview&&t.onGifPreview(a.toDataURL("image/png")),u.addFrame(s),d=n)}}return"undefined"==typeof GIFEncoder?void setTimeout(p.record,1e3):l?(o||(t.width||(t.width=c.offsetWidth||320),t.height||(t.height=c.offsetHeight||240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),a.width=t.canvas.width||320,a.height=t.canvas.height||240,c.width=t.video.width||320,c.height=t.video.height||240),(u=new GIFEncoder).setRepeat(0),u.setDelay(t.frameRate||200),u.setQuality(t.quality||10),u.start(),"function"==typeof t.onGifRecordingStarted&&t.onGifRecordingStarted(),Date.now(),h=requestAnimationFrame(e),void(t.initCallback&&t.initCallback())):void setTimeout(p.record,1e3)},this.stop=function(e){e=e||function(){},h&&cancelAnimationFrame(h),Date.now(),this.blob=new Blob([new Uint8Array(u.stream().bin)],{type:"image/gif"}),e(this.blob),u.stream().bin=[]};var r=!1;this.pause=function(){r=!0},this.resume=function(){r=!1},this.clearRecordedData=function(){p.clearedRecordedData=!0,n()},this.name="GifRecorder",this.toString=function(){return this.name};var a=document.createElement("canvas"),s=a.getContext("2d");o&&(e instanceof CanvasRenderingContext2D?a=(s=e).canvas:e instanceof HTMLCanvasElement&&(s=e.getContext("2d"),a=e));var l=!0;if(!o){var c=document.createElement("video");c.muted=!0,c.autoplay=!0,l=!1,c.onloadedmetadata=function(){l=!0},setSrcObject(e,c),c.play()}var d,u,h=null,p=this}function MultiStreamsMixer(e,t){function n(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}function i(){if(!p){var e=h.length,t=!1,n=[];if(h.forEach((function(e){e.stream||(e.stream={}),e.stream.fullcanvas?t=e:n.push(e)})),t)f.width=t.stream.width,f.height=t.stream.height;else if(n.length){f.width=e>1?2*n[0].width:n[0].width;var r=1;3!==e&&4!==e||(r=2),5!==e&&6!==e||(r=3),7!==e&&8!==e||(r=4),9!==e&&10!==e||(r=5),f.height=n[0].height*r}else f.width=g.width||360,f.height=g.height||240;t&&t instanceof HTMLVideoElement&&o(t),n.forEach((function(e,t){o(e,t)})),setTimeout(i,g.frameInterval)}}function o(e,t){if(!p){var n=0,i=0,o=e.width,r=e.height;1===t&&(n=e.width),2===t&&(i=e.height),3===t&&(n=e.width,i=e.height),4===t&&(i=2*e.height),5===t&&(n=e.width,i=2*e.height),6===t&&(i=3*e.height),7===t&&(n=e.width,i=3*e.height),void 0!==e.stream.left&&(n=e.stream.left),void 0!==e.stream.top&&(i=e.stream.top),void 0!==e.stream.width&&(o=e.stream.width),void 0!==e.stream.height&&(r=e.stream.height),m.drawImage(e,n,i,o,r),"function"==typeof e.stream.onRender&&e.stream.onRender(m,n,i,o,r,t)}}function r(){p=!1;var t=a(),n=s();return n&&n.getTracks().filter((function(e){return"audio"===e.kind})).forEach((function(e){t.addTrack(e)})),e.forEach((function(e){e.fullcanvas&&!0})),t}function a(){var e;c(),"captureStream"in f?e=f.captureStream():"mozCaptureStream"in f?e=f.mozCaptureStream():g.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var t=new b;return e.getTracks().filter((function(e){return"video"===e.kind})).forEach((function(e){t.addTrack(e)})),f.stream=t,t}function s(){_.AudioContextConstructor||(_.AudioContextConstructor=new _.AudioContext),g.audioContext=_.AudioContextConstructor,g.audioSources=[],!0===g.useGainNode&&(g.gainNode=g.audioContext.createGain(),g.gainNode.connect(g.audioContext.destination),g.gainNode.gain.value=0);var t=0;if(e.forEach((function(e){if(e.getTracks().filter((function(e){return"audio"===e.kind})).length){t++;var n=g.audioContext.createMediaStreamSource(e);!0===g.useGainNode&&n.connect(g.gainNode),g.audioSources.push(n)}})),t)return g.audioDestination=g.audioContext.createMediaStreamDestination(),g.audioSources.forEach((function(e){e.connect(g.audioDestination)})),g.audioDestination.stream}function l(e){var i=document.createElement("video");return n(e,i),i.className=t,i.muted=!0,i.volume=0,i.width=e.width||g.width||360,i.height=e.height||g.height||240,i.play(),i}function c(t){h=[],(t=t||e).forEach((function(e){if(e.getTracks().filter((function(e){return"video"===e.kind})).length){var t=l(e);t.stream=e,h.push(t)}}))}var d,u="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";d="undefined"!=typeof global?global:null,void 0===RecordRTC&&d&&"undefined"==typeof window&&"undefined"!=typeof global&&(global.navigator={userAgent:u,getUserMedia:function(){}},global.console||(global.console={}),void 0!==global.console.log&&void 0!==global.console.error||(global.console.error=global.console.log=global.console.log||function(){console.log(arguments)}),"undefined"==typeof document&&(d.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},d.HTMLVideoElement=function(){}),"undefined"==typeof location&&(d.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(d.screen={width:0,height:0}),void 0===y&&(d.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),d.window=global),t=t||"multi-streams-mixer";var h=[],p=!1,f=document.createElement("canvas"),m=f.getContext("2d");f.style.opacity=0,f.style.position="absolute",f.style.zIndex=-1,f.style.top="-1000em",f.style.left="-1000em",f.className=t,(document.body||document.documentElement).appendChild(f),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var g=this,v=window.AudioContext;void 0===v&&("undefined"!=typeof webkitAudioContext&&(v=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(v=mozAudioContext));var y=window.URL;void 0===y&&"undefined"!=typeof webkitURL&&(y=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var b=window.MediaStream;void 0===b&&"undefined"!=typeof webkitMediaStream&&(b=webkitMediaStream),void 0!==b&&void 0===b.prototype.stop&&(b.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))});var _={};void 0!==v?_.AudioContext=v:"undefined"!=typeof webkitAudioContext&&(_.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){i()},this.appendStreams=function(t){if(!t)throw"First parameter is required.";t instanceof Array||(t=[t]),e=e.concat(t),t.forEach((function(e){if(e.getTracks().filter((function(e){return"video"===e.kind})).length){var t=l(e);t.stream=e,h.push(t)}if(e.getTracks().filter((function(e){return"audio"===e.kind})).length&&g.audioContext&&g.audioDestination){var n=g.audioContext.createMediaStreamSource(e);n.connect(g.audioDestination),g.audioSources.push(n)}}))},this.releaseStreams=function(){h=[],p=!0,g.gainNode&&(g.gainNode.disconnect(),g.gainNode=null),g.audioSources.length&&(g.audioSources.forEach((function(e){e.disconnect()})),g.audioSources=[]),g.audioDestination&&(g.audioDestination.disconnect(),g.audioDestination=null),g.audioContext&&g.audioContext.close(),g.audioContext=null,m.clearRect(0,0,f.width,f.height),f.stream&&(f.stream.stop(),f.stream=null)},this.resetVideoStreams=function(e){!e||e instanceof Array||(e=[e]),c(e)},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=r}function MultiStreamRecorder(e,t){function n(){var t=[];return e.forEach((function(e){getTracks(e,"video").forEach((function(e){t.push(e)}))})),t}e=e||[];var i,o,r=this;(t=t||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}}).frameInterval||(t.frameInterval=10),t.video||(t.video={}),t.video.width||(t.video.width=360),t.video.height||(t.video.height=240),this.record=function(){i=new MultiStreamsMixer(e,t.elementClass||"multi-streams-mixer"),n().length&&(i.frameInterval=t.frameInterval||10,i.width=t.video.width||360,i.height=t.video.height||240,i.startDrawingFrames()),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(i.getMixedStream()),(o=new MediaStreamRecorder(i.getMixedStream(),t)).record()},this.stop=function(e){o&&o.stop((function(t){r.blob=t,e(t),r.clearRecordedData()}))},this.pause=function(){o&&o.pause()},this.resume=function(){o&&o.resume()},this.clearRecordedData=function(){o&&(o.clearRecordedData(),o=null),i&&(i.releaseStreams(),i=null)},this.addStreams=function(t){if(!t)throw"First parameter is required.";t instanceof Array||(t=[t]),e.concat(t),o&&i&&i.appendStreams(t)},this.resetVideoStreams=function(e){i&&(!e||e instanceof Array||(e=[e]),i.resetVideoStreams(e))},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}function RecordRTCPromisesHandler(e,t){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(void 0===e)throw'First argument "MediaStream" is required.';var n=this;n.recordRTC=new RecordRTC(e,t),this.startRecording=function(){return new Promise((function(e,t){try{n.recordRTC.startRecording(),e()}catch(e){t(e)}}))},this.stopRecording=function(){return new Promise((function(e,t){try{n.recordRTC.stopRecording((function(i){return n.blob=n.recordRTC.getBlob(),n.blob&&n.blob.size?void e(i):void t("Empty blob.",n.blob)}))}catch(e){t(e)}}))},this.getDataURL=function(){return new Promise((function(e,t){try{n.recordRTC.getDataURL((function(t){e(t)}))}catch(e){t(e)}}))},this.getBlob=function(){return new Promise((function(e,t){try{e(n.recordRTC.getBlob())}catch(e){t(e)}}))},this.blob=null}function WebAssemblyRecorder(e,t){function n(){return new ReadableStream({start:function(n){var i=document.createElement("canvas"),o=document.createElement("video");o.srcObject=e,o.onplaying=function(){i.width=t.width,i.height=t.height;var e=i.getContext("2d"),r=1e3/t.frameRate;setTimeout((function i(){e.drawImage(o,0,0),n.enqueue(e.getImageData(0,0,t.width,t.height)),setTimeout(i,r)}),r)},o.play()}})}function i(e,o){if(t.workerPath||o){if(!t.workerPath&&o instanceof ArrayBuffer){var l=new Blob([o],{type:"text/javascript"});t.workerPath=URL.createObjectURL(l)}t.workerPath||console.error("workerPath parameter is missing."),(r=new Worker(t.workerPath)).postMessage(t.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),r.addEventListener("message",(function(e){"READY"===e.data?(r.postMessage({width:t.width,height:t.height,bitrate:t.bitrate||1200,timebaseDen:t.frameRate||30,realtime:!0}),n().pipeTo(new WritableStream({write:function(e){r&&r.postMessage(e.data.buffer,[e.data.buffer])}}))):e.data&&(a||s.push(e.data))}))}else fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then((function(t){t.arrayBuffer().then((function(t){i(e,t)}))}))}function o(){r&&(r.postMessage(null),r.terminate(),r=null)}var r,a;"undefined"!=typeof ReadableStream&&"undefined"!=typeof WritableStream||console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),(t=t||{}).width=t.width||640,t.height=t.height||480,t.frameRate=t.frameRate||30,t.bitrate=t.bitrate||1200,this.record=function(){s=[],a=!1,this.blob=null,i(e),"function"==typeof t.initCallback&&t.initCallback()},this.pause=function(){a=!0},this.resume=function(){a=!1};var s=[];this.stop=function(e){o(),this.blob=new Blob(s,{type:"video/webm"}),e(this.blob)},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){s=[],a=!1,this.blob=null},this.blob=null}function init_tooltip(){[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(e){return new bootstrap.Tooltip(e)}))}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){function n(e){var t=e.length,n=oe.type(e);return"function"!==n&&!oe.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function i(e,t,n){if(oe.isFunction(t))return oe.grep(e,(function(e,i){return!!t.call(e,i,e)!==n}));if(t.nodeType)return oe.grep(e,(function(e){return e===t!==n}));if("string"==typeof t){if(he.test(t))return oe.filter(t,e,n);t=oe.filter(t,e)}return oe.grep(e,(function(e){return oe.inArray(e,t)>=0!==n}))}function o(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function r(e){var t=we[e]={};return oe.each(e.match(_e)||[],(function(e,n){t[n]=!0})),t}function a(){fe.addEventListener?(fe.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(fe.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(fe.addEventListener||"load"===event.type||"complete"===fe.readyState)&&(a(),oe.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(Te,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:xe.test(n)?oe.parseJSON(n):n)}catch(e){}oe.data(e,t,n)}else n=void 0}return n}function c(e){var t;for(t in e)if(("data"!==t||!oe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function d(e,t,n,i){if(oe.acceptData(e)){var o,r,a=oe.expando,s=e.nodeType,l=s?oe.cache:e,c=s?e[a]:e[a]&&a;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof t)return c||(c=s?e[a]=G.pop()||oe.guid++:a),l[c]||(l[c]=s?{}:{toJSON:oe.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[c]=oe.extend(l[c],t):l[c].data=oe.extend(l[c].data,t)),r=l[c],i||(r.data||(r.data={}),r=r.data),void 0!==n&&(r[oe.camelCase(t)]=n),"string"==typeof t?null==(o=r[t])&&(o=r[oe.camelCase(t)]):o=r,o}}function u(e,t,n){if(oe.acceptData(e)){var i,o,r=e.nodeType,a=r?oe.cache:e,s=r?e[oe.expando]:oe.expando;if(a[s]){if(t&&(i=n?a[s]:a[s].data)){oe.isArray(t)?t=t.concat(oe.map(t,oe.camelCase)):t in i?t=[t]:t=(t=oe.camelCase(t))in i?[t]:t.split(" "),o=t.length;for(;o--;)delete i[t[o]];if(n?!c(i):!oe.isEmptyObject(i))return}(n||(delete a[s].data,c(a[s])))&&(r?oe.cleanData([e],!0):ne.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function h(){return!0}function p(){return!1}function f(){try{return fe.activeElement}catch(e){}}function m(e){var t=Me.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,i,o=0,r=typeof e.getElementsByTagName!==Ce?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ce?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],n=e.childNodes||e;null!=(i=n[o]);o++)!t||oe.nodeName(i,t)?r.push(i):oe.merge(r,g(i,t));return void 0===t||t&&oe.nodeName(e,t)?oe.merge([e],r):r}function v(e){De.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return oe.nodeName(e,"table")&&oe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==oe.find.attr(e,"type"))+"/"+e.type,e}function _(e){var t=Qe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,i=0;null!=(n=e[i]);i++)oe._data(n,"globalEval",!t||oe._data(t[i],"globalEval"))}function k(e,t){if(1===t.nodeType&&oe.hasData(e)){var n,i,o,r=oe._data(e),a=oe._data(t,r),s=r.events;if(s)for(n in delete a.handle,a.events={},s)for(i=0,o=s[n].length;o>i;i++)oe.event.add(t,n,s[n][i]);a.data&&(a.data=oe.extend({},a.data))}}function C(e,t){var n,i,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[oe.expando]){for(i in(o=oe._data(t)).events)oe.removeEvent(t,i,o.handle);t.removeAttribute(oe.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,_(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!oe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&De.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function x(t,n){var i,o=oe(n.createElement(t)).appendTo(n.body),r=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(o[0]))?i.display:oe.css(o[0],"display");return o.detach(),r}function T(e){var t=fe,n=Je[e];return n||("none"!==(n=x(e,t))&&n||((t=((Ye=(Ye||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||Ye[0].contentDocument).document).write(),t.close(),n=x(e,t),Ye.detach()),Je[e]=n),n}function S(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function E(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,o=ut.length;o--;)if((t=ut[o]+n)in e)return t;return i}function $(e,t){for(var n,i,o,r=[],a=0,s=e.length;s>a;a++)(i=e[a]).style&&(r[a]=oe._data(i,"olddisplay"),n=i.style.display,t?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&$e(i)&&(r[a]=oe._data(i,"olddisplay",T(i.nodeName)))):(o=$e(i),(n&&"none"!==n||!o)&&oe._data(i,"olddisplay",o?n:oe.css(i,"display"))));for(a=0;s>a;a++)(i=e[a]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[a]||"":"none"));return e}function A(e,t,n){var i=st.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function D(e,t,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>r;r+=2)"margin"===n&&(a+=oe.css(e,n+Ee[r],!0,o)),i?("content"===n&&(a-=oe.css(e,"padding"+Ee[r],!0,o)),"margin"!==n&&(a-=oe.css(e,"border"+Ee[r]+"Width",!0,o))):(a+=oe.css(e,"padding"+Ee[r],!0,o),"padding"!==n&&(a+=oe.css(e,"border"+Ee[r]+"Width",!0,o)));return a}function O(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=Ze(e),a=ne.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,r);if(0>=o||null==o){if((0>(o=et(e,t,r))||null==o)&&(o=e.style[t]),nt.test(o))return o;i=a&&(ne.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+D(e,t,n||(a?"border":"content"),i,r)+"px"}function L(e,t,n,i,o){return new L.prototype.init(e,t,n,i,o)}function N(){return setTimeout((function(){ht=void 0})),ht=oe.now()}function j(e,t){var n,i={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)i["margin"+(n=Ee[o])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function R(e,t,n){for(var i,o=(yt[t]||[]).concat(yt["*"]),r=0,a=o.length;a>r;r++)if(i=o[r].call(n,t,e))return i}function M(e,t,n){var i,o,r,a,s,l,c,d=this,u={},h=e.style,p=e.nodeType&&$e(e),f=oe._data(e,"fxshow");for(i in n.queue||(null==(s=oe._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always((function(){d.always((function(){s.unqueued--,oe.queue(e,"fx").length||s.empty.fire()}))}))),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=oe.css(e,"display"))?oe._data(e,"olddisplay")||T(e.nodeName):c)&&"none"===oe.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==T(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",ne.shrinkWrapBlocks()||d.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),t)if(o=t[i],ft.exec(o)){if(delete t[i],r=r||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!f||void 0===f[i])continue;p=!0}u[i]=f&&f[i]||oe.style(e,i)}else c=void 0;if(oe.isEmptyObject(u))"inline"===("none"===c?T(e.nodeName):c)&&(h.display=c);else for(i in f?"hidden"in f&&(p=f.hidden):f=oe._data(e,"fxshow",{}),r&&(f.hidden=!p),p?oe(e).show():d.done((function(){oe(e).hide()})),d.done((function(){var t;for(t in oe._removeData(e,"fxshow"),u)oe.style(e,t,u[t])})),u)a=R(p?f[i]:0,i,d),i in f||(f[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}function I(e,t){var n,i,o,r,a;for(n in e)if(o=t[i=oe.camelCase(n)],r=e[n],oe.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),(a=oe.cssHooks[i])&&"expand"in a)for(n in r=a.expand(r),delete e[i],r)n in e||(e[n]=r[n],t[n]=o);else t[i]=o}function P(e,t,n){var i,o,r=0,a=vt.length,s=oe.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=ht||N(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),r=0,a=c.tweens.length;a>r;r++)c.tweens[r].run(i);return s.notifyWith(e,[c,i,n]),1>i&&a?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:ht||N(),duration:n.duration,tweens:[],createTween:function(t,n){var i=oe.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),d=c.props;for(I(d,c.opts.specialEasing);a>r;r++)if(i=vt[r].call(c,e,d,c.opts))return i;return oe.map(d,R,c),oe.isFunction(c.opts.start)&&c.opts.start.call(e,c),oe.fx.timer(oe.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function z(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match(_e)||[];if(oe.isFunction(n))for(;i=r[o++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function F(e,t,n,i){function o(s){var l;return r[s]=!0,oe.each(e[s]||[],(function(e,s){var c=s(t,n,i);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)})),l}var r={},a=e===Ht;return o(t.dataTypes[0])||!r["*"]&&o("*")}function q(e,t){var n,i,o=oe.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&oe.extend(!0,e,n),e}function H(e,t,n){for(var i,o,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in n)r=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){r=a;break}i||(i=a)}r=r||i}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}function B(e,t,n,i){var o,r,a,s,l,c={},d=e.dataTypes.slice();if(d[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(r=d.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=d.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if((s=o.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],d.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function U(e,t,n,i){var o;if(oe.isArray(t))oe.each(t,(function(t,o){n||Wt.test(e)?i(e,o):U(e+"["+("object"==typeof o?t:"")+"]",o,n,i)}));else if(n||"object"!==oe.type(t))i(e,t);else for(o in t)U(e+"["+o+"]",t[o],n,i)}function W(){try{return new e.XMLHttpRequest}catch(e){}}function V(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function Q(e){return oe.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var G=[],X=G.slice,K=G.concat,Y=G.push,J=G.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ne={},ie="1.11.2",oe=function(e,t){return new oe.fn.init(e,t)},re=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};oe.fn=oe.prototype={jquery:ie,constructor:oe,selector:"",length:0,toArray:function(){return X.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:X.call(this)},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return oe.each(this,e,t)},map:function(e){return this.pushStack(oe.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:G.sort,splice:G.splice},oe.extend=oe.fn.extend=function(){var e,t,n,i,o,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||oe.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(o=arguments[s]))for(i in o)e=a[i],a!==(n=o[i])&&(c&&n&&(oe.isPlainObject(n)||(t=oe.isArray(n)))?(t?(t=!1,r=e&&oe.isArray(e)?e:[]):r=e&&oe.isPlainObject(e)?e:{},a[i]=oe.extend(c,r,n)):void 0!==n&&(a[i]=n));return a},oe.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray||function(e){return"array"===oe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!oe.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&oe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ae,"ms-").replace(se,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var o=0,r=e.length,a=n(e);if(i){if(a)for(;r>o&&!1!==t.apply(e[o],i);o++);else for(o in e)if(!1===t.apply(e[o],i))break}else if(a)for(;r>o&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},trim:function(e){return null==e?"":(e+"").replace(re,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?oe.merge(i,"string"==typeof e?[e]:e):Y.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(J)return J.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;n>i;)e[o++]=t[i++];if(n!=n)for(;void 0!==t[i];)e[o++]=t[i++];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,r=e.length,a=!n;r>o;o++)!t(e[o],o)!==a&&i.push(e[o]);return i},map:function(e,t,i){var o,r=0,a=e.length,s=[];if(n(e))for(;a>r;r++)null!=(o=t(e[r],r,i))&&s.push(o);else for(r in e)null!=(o=t(e[r],r,i))&&s.push(o);return K.apply([],s)},guid:1,proxy:function(e,t){var n,i,o;return"string"==typeof t&&(o=e[t],t=e,e=o),oe.isFunction(e)?(n=X.call(arguments,2),i=function(){return e.apply(t||this,n.concat(X.call(arguments)))},i.guid=e.guid=e.guid||oe.guid++,i):void 0},now:function(){return+new Date},support:ne}),oe.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){Z["[object "+t+"]"]=t.toLowerCase()}));var ce=function(e){function t(e,t,n,i){var o,r,a,s,l,c,u,p,f,m;if((t?t.ownerDocument||t:F)!==L&&O(t),n=n||[],s=(t=t||L).nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!i&&j){if(11!==s&&(o=ye.exec(e)))if(a=o[1]){if(9===s){if(!(r=t.getElementById(a))||!r.parentNode)return n;if(r.id===a)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(a))&&P(t,r)&&r.id===a)return n.push(r),n}else{if(o[2])return J.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&w.getElementsByClassName)return J.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!R||!R.test(e))){if(p=u=z,f=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=T(e),(u=t.getAttribute("id"))?p=u.replace(_e,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+h(c[l]);f=be.test(e)&&d(t.parentNode)||t,m=c.join(",")}if(m)try{return J.apply(n,f.querySelectorAll(m)),n}catch(e){}finally{u||t.removeAttribute("id")}}}return E(e.replace(le,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>k.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[z]=!0,e}function o(e){var t=L.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),i=e.length;i--;)k.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Q)-(~e.sourceIndex||Q);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i((function(t){return t=+t,i((function(n,i){for(var o,r=e([],n.length,t),a=r.length;a--;)n[o=r[a]]&&(n[o]=!(i[o]=n[o]))}))}))}function d(e){return e&&void 0!==e.getElementsByTagName&&e}function u(){}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,o=n&&"parentNode"===i,r=H++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,a){var s,l,c=[q,r];if(a){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||o){if((s=(l=t[z]||(t[z]={}))[i])&&s[0]===q&&s[1]===r)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,a))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var o=0,r=n.length;r>o;o++)t(e,n[o],i);return i}function g(e,t,n,i,o){for(var r,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(r=e[s])&&(!n||n(r,i,o))&&(a.push(r),c&&t.push(s));return a}function v(e,t,n,o,r,a){return o&&!o[z]&&(o=v(o)),r&&!r[z]&&(r=v(r,a)),i((function(i,a,s,l){var c,d,u,h=[],p=[],f=a.length,v=i||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:g(v,h,e,s,l),b=n?r||(i?e:f||o)?[]:a:y;if(n&&n(y,b,s,l),o)for(c=g(b,p),o(c,[],s,l),d=c.length;d--;)(u=c[d])&&(b[p[d]]=!(y[p[d]]=u));if(i){if(r||e){if(r){for(c=[],d=b.length;d--;)(u=b[d])&&c.push(y[d]=u);r(null,b=[],c,l)}for(d=b.length;d--;)(u=b[d])&&(c=r?ee(i,u):h[d])>-1&&(i[c]=!(a[c]=u))}}else b=g(b===a?b.splice(f,b.length):b),r?r(null,a,b,l):J.apply(a,b)}))}function y(e){for(var t,n,i,o=e.length,r=k.relative[e[0].type],a=r||k.relative[" "],s=r?1:0,l=p((function(e){return e===t}),a,!0),c=p((function(e){return ee(t,e)>-1}),a,!0),d=[function(e,n,i){var o=!r&&(i||n!==$)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,o}];o>s;s++)if(n=k.relative[e[s].type])d=[p(f(d),n)];else{
if((n=k.filter[e[s].type].apply(null,e[s].matches))[z]){for(i=++s;o>i&&!k.relative[e[i].type];i++);return v(s>1&&f(d),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,i>s&&y(e.slice(s,i)),o>i&&y(e=e.slice(i)),o>i&&h(e))}d.push(n)}return f(d)}function b(e,n){var o=n.length>0,r=e.length>0,a=function(i,a,s,l,c){var d,u,h,p=0,f="0",m=i&&[],v=[],y=$,b=i||r&&k.find.TAG("*",c),_=q+=null==y?1:Math.random()||.1,w=b.length;for(c&&($=a!==L&&a);f!==w&&null!=(d=b[f]);f++){if(r&&d){for(u=0;h=e[u++];)if(h(d,a,s)){l.push(d);break}c&&(q=_)}o&&((d=!h&&d)&&p--,i&&m.push(d))}if(p+=f,o&&f!==p){for(u=0;h=n[u++];)h(m,v,a,s);if(i){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=K.call(l));v=g(v)}J.apply(l,v),c&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return c&&(q=_,$=y),m};return o?i(a):a}var _,w,k,C,x,T,S,E,$,A,D,O,L,N,j,R,M,I,P,z="sizzle"+1*new Date,F=e.document,q=0,H=0,B=n(),U=n(),W=n(),V=function(e,t){return e===t&&(D=!0),0},Q=1<<31,G={}.hasOwnProperty,X=[],K=X.pop,Y=X.push,J=X.push,Z=X.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=ie.replace("w","w#"),re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+ne+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),de=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(ae),pe=new RegExp("^"+oe+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,_e=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),ke=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ce=function(){O()};try{J.apply(X=Z.call(F.childNodes),F.childNodes),X[F.childNodes.length].nodeType}catch(e){J={apply:X.length?function(e,t){Y.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}for(_ in w=t.support={},x=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},O=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:F;return i!==L&&9===i.nodeType&&i.documentElement?(L=i,N=i.documentElement,(n=i.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),j=!x(i),w.attributes=o((function(e){return e.className="i",!e.getAttribute("className")})),w.getElementsByTagName=o((function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length})),w.getElementsByClassName=ve.test(i.getElementsByClassName),w.getById=o((function(e){return N.appendChild(e).id=z,!i.getElementsByName||!i.getElementsByName(z).length})),w.getById?(k.find.ID=function(e,t){if(void 0!==t.getElementById&&j){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(we,ke);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(we,ke);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},k.find.CLASS=w.getElementsByClassName&&function(e,t){return j?t.getElementsByClassName(e):void 0},M=[],R=[],(w.qsa=ve.test(i.querySelectorAll))&&(o((function(e){N.appendChild(e).innerHTML="<a id='"+z+"'></a><select id='"+z+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+z+"-]").length||R.push("~="),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+z+"+*").length||R.push(".#.+[+~]")})),o((function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")}))),(w.matchesSelector=ve.test(I=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&o((function(e){w.disconnectedMatch=I.call(e,"div"),I.call(e,"[s!='']:x"),M.push("!=",ae)})),R=R.length&&new RegExp(R.join("|")),M=M.length&&new RegExp(M.join("|")),t=ve.test(N.compareDocumentPosition),P=t||ve.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return D=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===F&&P(F,e)?-1:t===i||t.ownerDocument===F&&P(F,t)?1:A?ee(A,e)-ee(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return D=!0,0;var n,o=0,r=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!r||!s)return e===i?-1:t===i?1:r?-1:s?1:A?ee(A,e)-ee(A,t):0;if(r===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[o]===c[o];)o++;return o?a(l[o],c[o]):l[o]===F?-1:c[o]===F?1:0},i):L},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==L&&O(e),n=n.replace(ue,"='$1']"),!(!w.matchesSelector||!j||M&&M.test(n)||R&&R.test(n)))try{var i=I.call(e,n);if(i||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,L,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==L&&O(e),P(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==L&&O(e);var n=k.attrHandle[t.toLowerCase()],i=n&&G.call(k.attrHandle,t.toLowerCase())?n(e,t,!j):void 0;return void 0!==i?i:w.attributes||!j?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,o=0;if(D=!w.detectDuplicates,A=!w.sortStable&&e.slice(0),e.sort(V),D){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return A=null,e},C=t.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},k=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,ke),e[3]=(e[3]||e[4]||e[5]||"").replace(we,ke),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,ke).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&B(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,n,i){return function(o){var r=t.attr(o,e);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(se," ")+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,h,p,f,m=r!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(r){for(;m;){for(u=t;u=u[m];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(p=(c=(d=g[z]||(g[z]={}))[e]||[])[0]===q&&c[1],h=c[0]===q&&c[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(h=p=0)||f.pop();)if(1===u.nodeType&&++h&&u===t){d[e]=[q,p,h];break}}else if(y&&(c=(t[z]||(t[z]={}))[e])&&c[0]===q)h=c[1];else for(;(u=++p&&u&&u[m]||(h=p=0)||f.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++h||(y&&((u[z]||(u[z]={}))[e]=[q,h]),u!==t)););return(h-=o)===i||h%i==0&&h/i>=0}}},PSEUDO:function(e,n){var o,r=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[z]?r(n):r.length>1?(o=[e,e,"",n],k.setFilters.hasOwnProperty(e.toLowerCase())?i((function(e,t){for(var i,o=r(e,n),a=o.length;a--;)e[i=ee(e,o[a])]=!(t[i]=o[a])})):function(e){return r(e,0,o)}):r}},pseudos:{not:i((function(e){var t=[],n=[],o=S(e.replace(le,"$1"));return o[z]?i((function(e,t,n,i){for(var r,a=o(e,null,i,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))})):function(e,i,r){return t[0]=e,o(t,null,r,n),t[0]=null,!n.pop()}})),has:i((function(e){return function(n){return t(e,n).length>0}})),contains:i((function(e){return e=e.replace(we,ke),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}})),lang:i((function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,ke).toLowerCase(),function(t){var n;do{if(n=j?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c((function(){return[0]})),last:c((function(e,t){return[t-1]})),eq:c((function(e,t,n){return[0>n?n+t:n]})),even:c((function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e})),odd:c((function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e})),lt:c((function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e})),gt:c((function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e}))}},k.pseudos.nth=k.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})k.pseudos[_]=l(_);return u.prototype=k.filters=k.pseudos,k.setFilters=new u,T=t.tokenize=function(e,n){var i,o,r,a,s,l,c,d=U[e+" "];if(d)return n?0:d.slice(0);for(s=e,l=[],c=k.preFilter;s;){for(a in(!i||(o=ce.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),i=!1,(o=de.exec(s))&&(i=o.shift(),r.push({value:i,type:o[0].replace(le," ")}),s=s.slice(i.length)),k.filter)!(o=fe[a].exec(s))||c[a]&&!(o=c[a](o))||(i=o.shift(),r.push({value:i,type:a,matches:o}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):U(e,l).slice(0)},S=t.compile=function(e,t){var n,i=[],o=[],r=W[e+" "];if(!r){for(t||(t=T(e)),n=t.length;n--;)(r=y(t[n]))[z]?i.push(r):o.push(r);(r=W(e,b(o,i))).selector=e}return r},E=t.select=function(e,t,n,i){var o,r,a,s,l,c="function"==typeof e&&e,u=!i&&T(e=c.selector||e);if(n=n||[],1===u.length){if((r=u[0]=u[0].slice(0)).length>2&&"ID"===(a=r[0]).type&&w.getById&&9===t.nodeType&&j&&k.relative[r[1].type]){if(!(t=(k.find.ID(a.matches[0].replace(we,ke),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=fe.needsContext.test(e)?0:r.length;o--&&(a=r[o],!k.relative[s=a.type]);)if((l=k.find[s])&&(i=l(a.matches[0].replace(we,ke),be.test(r[0].type)&&d(t.parentNode)||t))){if(r.splice(o,1),!(e=i.length&&h(r)))return J.apply(n,i),n;break}}return(c||S(e,u))(i,t,!j,n,be.test(e)&&d(t.parentNode)||t),n},w.sortStable=z.split("").sort(V).join("")===z,w.detectDuplicates=!!D,O(),w.sortDetached=o((function(e){return 1&e.compareDocumentPosition(L.createElement("div"))})),o((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||r("type|href|height|width",(function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),w.attributes&&o((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||r("value",(function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue})),o((function(e){return null==e.getAttribute("disabled")}))||r(te,(function(e,t,n){var i;return n?void 0:!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),t}(e);oe.find=ce,oe.expr=ce.selectors,oe.expr[":"]=oe.expr.pseudos,oe.unique=ce.uniqueSort,oe.text=ce.getText,oe.isXMLDoc=ce.isXML,oe.contains=ce.contains;var de=oe.expr.match.needsContext,ue=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,he=/^.[^:#\[\.,]*$/;oe.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?oe.find.matchesSelector(i,e)?[i]:[]:oe.find.matches(e,oe.grep(t,(function(e){return 1===e.nodeType})))},oe.fn.extend({find:function(e){var t,n=[],i=this,o=i.length;if("string"!=typeof e)return this.pushStack(oe(e).filter((function(){for(t=0;o>t;t++)if(oe.contains(i[t],this))return!0})));for(t=0;o>t;t++)oe.find(e,i[t],n);return(n=this.pushStack(o>1?oe.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&de.test(e)?oe(e):e||[],!1).length}});var pe,fe=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=oe.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e))||!n[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof oe?t[0]:t,oe.merge(this,oe.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:fe,!0)),ue.test(n[1])&&oe.isPlainObject(t))for(n in t)oe.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((i=fe.getElementById(n[2]))&&i.parentNode){if(i.id!==n[2])return pe.find(e);this.length=1,this[0]=i}return this.context=fe,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?void 0!==pe.ready?pe.ready(e):e(oe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))};ge.prototype=oe.fn,pe=oe(fe);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};oe.extend({dir:function(e,t,n){for(var i=[],o=e[t];o&&9!==o.nodeType&&(void 0===n||1!==o.nodeType||!oe(o).is(n));)1===o.nodeType&&i.push(o),o=o[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),oe.fn.extend({has:function(e){var t,n=oe(e,this),i=n.length;return this.filter((function(){for(t=0;i>t;t++)if(oe.contains(this,n[t]))return!0}))},closest:function(e,t){for(var n,i=0,o=this.length,r=[],a=de.test(e)||"string"!=typeof e?oe(e,t||this.context):0;o>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?oe.unique(r):r)},index:function(e){return e?"string"==typeof e?oe.inArray(this[0],oe(e)):oe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(oe.unique(oe.merge(this.get(),oe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return oe.dir(e,"parentNode")},parentsUntil:function(e,t,n){return oe.dir(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return oe.dir(e,"nextSibling")},prevAll:function(e){return oe.dir(e,"previousSibling")},nextUntil:function(e,t,n){return oe.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return oe.dir(e,"previousSibling",n)},siblings:function(e){return oe.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return oe.sibling(e.firstChild)},contents:function(e){return oe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:oe.merge([],e.childNodes)}},(function(e,t){oe.fn[e]=function(n,i){var o=oe.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=oe.filter(i,o)),this.length>1&&(ye[e]||(o=oe.unique(o)),ve.test(e)&&(o=o.reverse())),this.pushStack(o)}}));var be,_e=/\S+/g,we={};oe.Callbacks=function(e){e="string"==typeof e?we[e]||r(e):oe.extend({},e);var t,n,i,o,a,s,l=[],c=!e.once&&[],d=function(r){for(n=e.memory&&r,i=!0,a=s||0,s=0,o=l.length,t=!0;l&&o>a;a++)if(!1===l[a].apply(r[0],r[1])&&e.stopOnFalse){n=!1;break}t=!1,l&&(c?c.length&&d(c.shift()):n?l=[]:u.disable())},u={add:function(){if(l){var i=l.length;!function t(n){oe.each(n,(function(n,i){var o=oe.type(i);"function"===o?e.unique&&u.has(i)||l.push(i):i&&i.length&&"string"!==o&&t(i)}))}(arguments),t?o=l.length:n&&(s=i,d(n))}return this},remove:function(){return l&&oe.each(arguments,(function(e,n){for(var i;(i=oe.inArray(n,l,i))>-1;)l.splice(i,1),t&&(o>=i&&o--,a>=i&&a--)})),this},has:function(e){return e?oe.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=c=n=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,n||u.disable(),this},locked:function(){return!c},fireWith:function(e,n){return!l||i&&!c||(n=[e,(n=n||[]).slice?n.slice():n],t?c.push(n):d(n)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred((function(n){oe.each(t,(function(t,r){var a=oe.isFunction(e[t])&&e[t];o[r[1]]((function(){var e=a&&a.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===i?n.promise():this,a?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?oe.extend(e,i):i}},o={};return i.pipe=i.then,oe.each(t,(function(e,r){var a=r[2],s=r[3];i[r[1]]=a.add,s&&a.add((function(){n=s}),t[1^e][2].disable,t[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=a.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,i,o=0,r=X.call(arguments),a=r.length,s=1!==a||e&&oe.isFunction(e.promise)?a:0,l=1===s?e:oe.Deferred(),c=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?X.call(arguments):o,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>o;o++)r[o]&&oe.isFunction(r[o].promise)?r[o].promise().done(c(o,i,r)).fail(l.reject).progress(c(o,n,t)):--s;return s||l.resolveWith(i,r),l.promise()}}),oe.fn.ready=function(e){return oe.ready.promise().done(e),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){if(!0===e?! --oe.readyWait:!oe.isReady){if(!fe.body)return setTimeout(oe.ready);oe.isReady=!0,!0!==e&&--oe.readyWait>0||(be.resolveWith(fe,[oe]),oe.fn.triggerHandler&&(oe(fe).triggerHandler("ready"),oe(fe).off("ready")))}}}),oe.ready.promise=function(t){if(!be)if(be=oe.Deferred(),"complete"===fe.readyState)setTimeout(oe.ready);else if(fe.addEventListener)fe.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{fe.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&fe.documentElement}catch(e){}n&&n.doScroll&&function e(){if(!oe.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}a(),oe.ready()}}()}return be.promise(t)};var ke,Ce="undefined";for(ke in oe(ne))break;ne.ownLast="0"!==ke,ne.inlineBlockNeedsLayout=!1,oe((function(){var e,t,n,i;(n=fe.getElementsByTagName("body")[0])&&n.style&&(t=fe.createElement("div"),(i=fe.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))})),function(){var e=fe.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(e){ne.deleteExpando=!1}}e=null}(),oe.acceptData=function(e){var t=oe.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var xe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Te=/([A-Z])/g;oe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?oe.cache[e[oe.expando]]:e[oe.expando])&&!c(e)},data:function(e,t,n){return d(e,t,n)},removeData:function(e,t){return u(e,t)},_data:function(e,t,n){return d(e,t,n,!0)},_removeData:function(e,t){return u(e,t,!0)}}),oe.fn.extend({data:function(e,t){var n,i,o,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(o=oe.data(r),1===r.nodeType&&!oe._data(r,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(0===(i=a[n].name).indexOf("data-")&&l(r,i=oe.camelCase(i.slice(5)),o[i]));oe._data(r,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each((function(){oe.data(this,e)})):arguments.length>1?this.each((function(){oe.data(this,e,t)})):r?l(r,e,oe.data(r,e)):void 0},removeData:function(e){return this.each((function(){oe.removeData(this,e)}))}}),oe.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=oe._data(e,t),n&&(!i||oe.isArray(n)?i=oe._data(e,t,oe.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=oe.queue(e,t),i=n.length,o=n.shift(),r=oe._queueHooks(e,t),a=function(){oe.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,a,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return oe._data(e,n)||oe._data(e,n,{empty:oe.Callbacks("once memory").add((function(){oe._removeData(e,t+"queue"),oe._removeData(e,n)}))})}}),oe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?oe.queue(this[0],e):void 0===t?this:this.each((function(){var n=oe.queue(this,e,t);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&oe.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){oe.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=oe.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=oe._data(r[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(t)}});var Se=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ee=["Top","Right","Bottom","Left"],$e=function(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)},Ae=oe.access=function(e,t,n,i,o,r,a){var s=0,l=e.length,c=null==n;if("object"===oe.type(n))for(s in o=!0,n)oe.access(e,t,s,n[s],!0,r,a);else if(void 0!==i&&(o=!0,oe.isFunction(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(oe(e),n)})),t))for(;l>s;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):r},De=/^(?:checkbox|radio)$/i;!function(){var e=fe.createElement("input"),t=fe.createElement("div"),n=fe.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==fe.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",(function(){ne.noCloneEvent=!1})),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(e){ne.deleteExpando=!1}}}(),function(){var t,n,i=fe.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),ne[t+"Bubbles"]=!1===i.attributes[n].expando);i=null}();var Oe=/^(?:input|select|textarea)$/i,Le=/^key/,Ne=/^(?:mouse|pointer|contextmenu)|click/,je=/^(?:focusinfocus|focusoutblur)$/,Re=/^([^.]*)(?:\.(.+)|)$/;oe.event={global:{},add:function(e,t,n,i,o){var r,a,s,l,c,d,u,h,p,f,m,g=oe._data(e);if(g){for(n.handler&&(n=(l=n).handler,o=l.selector),n.guid||(n.guid=oe.guid++),(a=g.events)||(a=g.events={}),(d=g.handle)||(d=g.handle=function(e){return typeof oe===Ce||e&&oe.event.triggered===e.type?void 0:oe.event.dispatch.apply(d.elem,arguments)},d.elem=e),s=(t=(t||"").match(_e)||[""]).length;s--;)p=m=(r=Re.exec(t[s])||[])[1],f=(r[2]||"").split(".").sort(),p&&(c=oe.event.special[p]||{},p=(o?c.delegateType:c.bindType)||p,c=oe.event.special[p]||{},u=oe.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&oe.expr.match.needsContext.test(o),namespace:f.join(".")},l),(h=a[p])||((h=a[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,i,f,d)||(e.addEventListener?e.addEventListener(p,d,!1):e.attachEvent&&e.attachEvent("on"+p,d))),c.add&&(c.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),oe.event.global[p]=!0);e=null}},remove:function(e,t,n,i,o){var r,a,s,l,c,d,u,h,p,f,m,g=oe.hasData(e)&&oe._data(e);if(g&&(d=g.events)){for(c=(t=(t||"").match(_e)||[""]).length;c--;)if(p=m=(s=Re.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),p){for(u=oe.event.special[p]||{},h=d[p=(i?u.delegateType:u.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)a=h[r],!o&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(r,1),a.selector&&h.delegateCount--,u.remove&&u.remove.call(e,a));l&&!h.length&&(u.teardown&&!1!==u.teardown.call(e,f,g.handle)||oe.removeEvent(e,p,g.handle),delete d[p])}else for(p in d)oe.event.remove(e,p+t[c],n,i,!0);oe.isEmptyObject(d)&&(delete g.handle,oe._removeData(e,"events"))}},trigger:function(t,n,i,o){var r,a,s,l,c,d,u,h=[i||fe],p=te.call(t,"type")?t.type:t,f=te.call(t,"namespace")?t.namespace.split("."):[];if(s=d=i=i||fe,3!==i.nodeType&&8!==i.nodeType&&!je.test(p+oe.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),a=p.indexOf(":")<0&&"on"+p,(t=t[oe.expando]?t:new oe.Event(p,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:oe.makeArray(n,[t]),c=oe.event.special[p]||{},o||!c.trigger||!1!==c.trigger.apply(i,n))){if(!o&&!c.noBubble&&!oe.isWindow(i)){for(l=c.delegateType||p,je.test(l+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),d=s;d===(i.ownerDocument||fe)&&h.push(d.defaultView||d.parentWindow||e)}for(u=0;(s=h[u++])&&!t.isPropagationStopped();)t.type=u>1?l:c.bindType||p,(r=(oe._data(s,"events")||{})[t.type]&&oe._data(s,"handle"))&&r.apply(s,n),(r=a&&s[a])&&r.apply&&oe.acceptData(s)&&(t.result=r.apply(s,n),!1===t.result&&t.preventDefault());if(t.type=p,!o&&!t.isDefaultPrevented()&&(!c._default||!1===c._default.apply(h.pop(),n))&&oe.acceptData(i)&&a&&i[p]&&!oe.isWindow(i)){(d=i[a])&&(i[a]=null),oe.event.triggered=p;try{i[p]()}catch(e){}oe.event.triggered=void 0,d&&(i[a]=d)}return t.result}},dispatch:function(e){e=oe.event.fix(e);var t,n,i,o,r,a=[],s=X.call(arguments),l=(oe._data(this,"events")||{})[e.type]||[],c=oe.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=oe.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(i=o.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,void 0!==(n=((oe.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,r,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(o=[],r=0;s>r;r++)void 0===o[n=(i=t[r]).selector+" "]&&(o[n]=i.needsContext?oe(n,this).index(l)>=0:oe.find(n,this,null,[l]).length),o[n]&&o.push(i);o.length&&a.push({elem:l,handlers:o})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[oe.expando])return e;var t,n,i,o=e.type,r=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Ne.test(o)?this.mouseHooks:Le.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new oe.Event(r),t=i.length;t--;)e[n=i[t]]=r[n];return e.target||(e.target=r.srcElement||fe),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,r=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(o=(i=e.target.ownerDocument||fe).documentElement,n=i.body,e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){
if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return oe.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var o=oe.extend(new oe.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?oe.event.trigger(o,null,t):oe.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},oe.removeEvent=fe.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===Ce&&(e[i]=null),e.detachEvent(i,n))},oe.Event=function(e,t){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?h:p):this.type=e,t&&oe.extend(this,t),this.timeStamp=e&&e.timeStamp||oe.now(),void(this[oe.expando]=!0)):new oe.Event(e,t)},oe.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,r=e.handleObj;return(!o||o!==i&&!oe.contains(i,o))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}})),ne.submitBubbles||(oe.event.special.submit={setup:function(){return!oe.nodeName(this,"form")&&void oe.event.add(this,"click._submit keypress._submit",(function(e){var t=e.target,n=oe.nodeName(t,"input")||oe.nodeName(t,"button")?t.form:void 0;n&&!oe._data(n,"submitBubbles")&&(oe.event.add(n,"submit._submit",(function(e){e._submit_bubble=!0})),oe._data(n,"submitBubbles",!0))}))},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&oe.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!oe.nodeName(this,"form")&&void oe.event.remove(this,"._submit")}}),ne.changeBubbles||(oe.event.special.change={setup:function(){return Oe.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(oe.event.add(this,"propertychange._change",(function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)})),oe.event.add(this,"click._change",(function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),oe.event.simulate("change",this,e,!0)}))),!1):void oe.event.add(this,"beforeactivate._change",(function(e){var t=e.target;Oe.test(t.nodeName)&&!oe._data(t,"changeBubbles")&&(oe.event.add(t,"change._change",(function(e){!this.parentNode||e.isSimulated||e.isTrigger||oe.event.simulate("change",this.parentNode,e,!0)})),oe._data(t,"changeBubbles",!0))}))},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return oe.event.remove(this,"._change"),!Oe.test(this.nodeName)}}),ne.focusinBubbles||oe.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){oe.event.simulate(t,e.target,oe.event.fix(e),!0)};oe.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=oe._data(i,t);o||i.addEventListener(e,n,!0),oe._data(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=oe._data(i,t)-1;o?oe._data(i,t,o):(i.removeEventListener(e,n,!0),oe._removeData(i,t))}}})),oe.fn.extend({on:function(e,t,n,i,o){var r,a;if("object"==typeof e){for(r in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(r,t,n,e[r],o);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),!1===i)i=p;else if(!i)return this;return 1===o&&(a=i,i=function(e){return oe().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=oe.guid++)),this.each((function(){oe.event.add(this,e,i,n,t)}))},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,oe(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(!1===t||"function"==typeof t)&&(n=t,t=void 0),!1===n&&(n=p),this.each((function(){oe.event.remove(this,e,n,t)}))},trigger:function(e,t){return this.each((function(){oe.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];return n?oe.event.trigger(e,t,n,!0):void 0}});var Me="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ie=/ jQuery\d+="(?:null|\d+)"/g,Pe=new RegExp("<(?:"+Me+")[\\s/>]","i"),ze=/^\s+/,Fe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,qe=/<([\w:]+)/,He=/<tbody/i,Be=/<|&#?\w+;/,Ue=/<(?:script|style|link)/i,We=/checked\s*(?:[^=]|=\s*.checked.)/i,Ve=/^$|\/(?:java|ecma)script/i,Qe=/^true\/(.*)/,Ge=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Xe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ke=m(fe).appendChild(fe.createElement("div"));Xe.optgroup=Xe.option,Xe.tbody=Xe.tfoot=Xe.colgroup=Xe.caption=Xe.thead,Xe.th=Xe.td,oe.extend({clone:function(e,t,n){var i,o,r,a,s,l=oe.contains(e.ownerDocument,e);if(ne.html5Clone||oe.isXMLDoc(e)||!Pe.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Ke.innerHTML=e.outerHTML,Ke.removeChild(r=Ke.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(i=g(r),s=g(e),a=0;null!=(o=s[a]);++a)i[a]&&C(o,i[a]);if(t)if(n)for(s=s||g(e),i=i||g(r),a=0;null!=(o=s[a]);a++)k(o,i[a]);else k(e,r);return(i=g(r,"script")).length>0&&w(i,!l&&g(e,"script")),i=s=o=null,r},buildFragment:function(e,t,n,i){for(var o,r,a,s,l,c,d,u=e.length,h=m(t),p=[],f=0;u>f;f++)if((r=e[f])||0===r)if("object"===oe.type(r))oe.merge(p,r.nodeType?[r]:r);else if(Be.test(r)){for(s=s||h.appendChild(t.createElement("div")),l=(qe.exec(r)||["",""])[1].toLowerCase(),d=Xe[l]||Xe._default,s.innerHTML=d[1]+r.replace(Fe,"<$1></$2>")+d[2],o=d[0];o--;)s=s.lastChild;if(!ne.leadingWhitespace&&ze.test(r)&&p.push(t.createTextNode(ze.exec(r)[0])),!ne.tbody)for(o=(r="table"!==l||He.test(r)?"<table>"!==d[1]||He.test(r)?0:s:s.firstChild)&&r.childNodes.length;o--;)oe.nodeName(c=r.childNodes[o],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(oe.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else p.push(t.createTextNode(r));for(s&&h.removeChild(s),ne.appendChecked||oe.grep(g(p,"input"),v),f=0;r=p[f++];)if((!i||-1===oe.inArray(r,i))&&(a=oe.contains(r.ownerDocument,r),s=g(h.appendChild(r),"script"),a&&w(s),n))for(o=0;r=s[o++];)Ve.test(r.type||"")&&n.push(r);return s=null,h},cleanData:function(e,t){for(var n,i,o,r,a=0,s=oe.expando,l=oe.cache,c=ne.deleteExpando,d=oe.event.special;null!=(n=e[a]);a++)if((t||oe.acceptData(n))&&(r=(o=n[s])&&l[o])){if(r.events)for(i in r.events)d[i]?oe.event.remove(n,i):oe.removeEvent(n,i,r.handle);l[o]&&(delete l[o],c?delete n[s]:typeof n.removeAttribute!==Ce?n.removeAttribute(s):n[s]=null,G.push(o))}}}),oe.fn.extend({text:function(e){return Ae(this,(function(e){return void 0===e?oe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||fe).createTextNode(e))}),null,e,arguments.length)},append:function(){return this.domManip(arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||y(this,e).appendChild(e)}))},prepend:function(){return this.domManip(arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},remove:function(e,t){for(var n,i=e?oe.filter(e,this):this,o=0;null!=(n=i[o]);o++)t||1!==n.nodeType||oe.cleanData(g(n)),n.parentNode&&(t&&oe.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&oe.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&oe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return oe.clone(this,e,t)}))},html:function(e){return Ae(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ie,""):void 0;if(!("string"!=typeof e||Ue.test(e)||!ne.htmlSerialize&&Pe.test(e)||!ne.leadingWhitespace&&ze.test(e)||Xe[(qe.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Fe,"<$1></$2>");try{for(;i>n;n++)1===(t=this[n]||{}).nodeType&&(oe.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,(function(t){e=this.parentNode,oe.cleanData(g(this)),e&&e.replaceChild(t,this)})),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=K.apply([],e);var n,i,o,r,a,s,l=0,c=this.length,d=this,u=c-1,h=e[0],p=oe.isFunction(h);if(p||c>1&&"string"==typeof h&&!ne.checkClone&&We.test(h))return this.each((function(n){var i=d.eq(n);p&&(e[0]=h.call(this,n,i.html())),i.domManip(e,t)}));if(c&&(n=(s=oe.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===s.childNodes.length&&(s=n),n)){for(o=(r=oe.map(g(s,"script"),b)).length;c>l;l++)i=s,l!==u&&(i=oe.clone(i,!0,!0),o&&oe.merge(r,g(i,"script"))),t.call(this[l],i,l);if(o)for(a=r[r.length-1].ownerDocument,oe.map(r,_),l=0;o>l;l++)i=r[l],Ve.test(i.type||"")&&!oe._data(i,"globalEval")&&oe.contains(a,i)&&(i.src?oe._evalUrl&&oe._evalUrl(i.src):oe.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Ge,"")));s=n=null}return this}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){oe.fn[e]=function(e){for(var n,i=0,o=[],r=oe(e),a=r.length-1;a>=i;i++)n=i===a?this:this.clone(!0),oe(r[i])[t](n),Y.apply(o,n.get());return this.pushStack(o)}}));var Ye,Je={};!function(){var e;ne.shrinkWrapBlocks=function(){return null!=e?e:(e=!1,(n=fe.getElementsByTagName("body")[0])&&n.style?(t=fe.createElement("div"),(i=fe.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(fe.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0);var t,n,i}}();var Ze,et,tt=/^margin/,nt=new RegExp("^("+Se+")(?!px)[a-z%]+$","i"),it=/^(top|right|bottom|left)$/;e.getComputedStyle?(Ze=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},et=function(e,t,n){var i,o,r,a,s=e.style;return a=(n=n||Ze(e))?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||oe.contains(e.ownerDocument,e)||(a=oe.style(e,t)),nt.test(a)&&tt.test(t)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r)),void 0===a?a:a+""}):fe.documentElement.currentStyle&&(Ze=function(e){return e.currentStyle},et=function(e,t,n){var i,o,r,a,s=e.style;return null==(a=(n=n||Ze(e))?n[t]:void 0)&&s&&s[t]&&(a=s[t]),nt.test(a)&&!it.test(t)&&(i=s.left,(r=(o=e.runtimeStyle)&&o.left)&&(o.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=i,r&&(o.left=r)),void 0===a?a:a+""||"auto"}),function(){var t,n,i,o,r,a,s;if((t=fe.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=(i=t.getElementsByTagName("a")[0])&&i.style){function l(){var t,n,i,l;(n=fe.getElementsByTagName("body")[0])&&n.style&&(t=fe.createElement("div"),(i=fe.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=r=!1,s=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,r="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,(l=t.appendChild(fe.createElement("div"))).style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",l.style.marginRight=l.style.width="0",t.style.width="1px",s=!parseFloat((e.getComputedStyle(l,null)||{}).marginRight),t.removeChild(l)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(l=t.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===l[0].offsetHeight)&&(l[0].style.display="",l[1].style.display="none",a=0===l[0].offsetHeight),n.removeChild(i))}n.cssText="float:left;opacity:.5",ne.opacity="0.5"===n.opacity,ne.cssFloat=!!n.cssFloat,t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===t.style.backgroundClip,ne.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,oe.extend(ne,{reliableHiddenOffsets:function(){return null==a&&l(),a},boxSizingReliable:function(){return null==r&&l(),r},pixelPosition:function(){return null==o&&l(),o},reliableMarginRight:function(){return null==s&&l(),s}})}}(),oe.swap=function(e,t,n,i){var o,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];for(r in o=n.apply(e,i||[]),t)e.style[r]=a[r];return o};var ot=/alpha\([^)]*\)/i,rt=/opacity\s*=\s*([^)]*)/,at=/^(none|table(?!-c[ea]).+)/,st=new RegExp("^("+Se+")(.*)$","i"),lt=new RegExp("^([+-])=("+Se+")","i"),ct={position:"absolute",visibility:"hidden",display:"block"},dt={letterSpacing:"0",fontWeight:"400"},ut=["Webkit","O","Moz","ms"];oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=et(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=oe.camelCase(t),l=e.style;if(t=oe.cssProps[s]||(oe.cssProps[s]=E(l,s)),a=oe.cssHooks[t]||oe.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,i))?o:l[t];if("string"===(r=typeof n)&&(o=lt.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(oe.css(e,t)),r="number"),null!=n&&n==n&&("number"!==r||oe.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!a||!("set"in a)||void 0!==(n=a.set(e,n,i))))try{l[t]=n}catch(e){}}},css:function(e,t,n,i){var o,r,a,s=oe.camelCase(t);return t=oe.cssProps[s]||(oe.cssProps[s]=E(e.style,s)),(a=oe.cssHooks[t]||oe.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=et(e,t,i)),"normal"===r&&t in dt&&(r=dt[t]),""===n||n?(o=parseFloat(r),!0===n||oe.isNumeric(o)?o||0:r):r}}),oe.each(["height","width"],(function(e,t){oe.cssHooks[t]={get:function(e,n,i){return n?at.test(oe.css(e,"display"))&&0===e.offsetWidth?oe.swap(e,ct,(function(){return O(e,t,i)})):O(e,t,i):void 0},set:function(e,n,i){var o=i&&Ze(e);return A(e,n,i?D(e,t,i,ne.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,o),o):0)}}})),ne.opacity||(oe.cssHooks.opacity={get:function(e,t){return rt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=oe.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===oe.trim(r.replace(ot,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=ot.test(r)?r.replace(ot,o):r+" "+o)}}),oe.cssHooks.marginRight=S(ne.reliableMarginRight,(function(e,t){return t?oe.swap(e,{display:"inline-block"},et,[e,"marginRight"]):void 0})),oe.each({margin:"",padding:"",border:"Width"},(function(e,t){oe.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];4>i;i++)o[e+Ee[i]+t]=r[i]||r[i-2]||r[0];return o}},tt.test(e)||(oe.cssHooks[e+t].set=A)})),oe.fn.extend({css:function(e,t){return Ae(this,(function(e,t,n){var i,o,r={},a=0;if(oe.isArray(t)){for(i=Ze(e),o=t.length;o>a;a++)r[t[a]]=oe.css(e,t[a],!1,i);return r}return void 0!==n?oe.style(e,t,n):oe.css(e,t)}),e,t,arguments.length>1)},show:function(){return $(this,!0)},hide:function(){return $(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){$e(this)?oe(this).show():oe(this).hide()}))}}),oe.Tween=L,L.prototype={constructor:L,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(oe.cssNumber[n]?"":"px")},cur:function(){var e=L.propHooks[this.prop];return e&&e.get?e.get(this):L.propHooks._default.get(this)},run:function(e){var t,n=L.propHooks[this.prop];return this.pos=t=this.options.duration?oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=oe.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[oe.cssProps[e.prop]]||oe.cssHooks[e.prop])?oe.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},oe.fx=L.prototype.init,oe.fx.step={};var ht,pt,ft=/^(?:toggle|show|hide)$/,mt=new RegExp("^(?:([+-])=|)("+Se+")([a-z%]*)$","i"),gt=/queueHooks$/,vt=[M],yt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),o=mt.exec(t),r=o&&o[3]||(oe.cssNumber[e]?"":"px"),a=(oe.cssNumber[e]||"px"!==r&&+i)&&mt.exec(oe.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==r){r=r||a[3],o=o||[],a=+i||1;do{a/=s=s||".5",oe.style(n.elem,e,a+r)}while(s!==(s=n.cur()/i)&&1!==s&&--l)}return o&&(a=n.start=+a||+i||0,n.unit=r,n.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),n}]};oe.Animation=oe.extend(P,{tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,o=e.length;o>i;i++)n=e[i],yt[n]=yt[n]||[],yt[n].unshift(t)},prefilter:function(e,t){t?vt.unshift(e):vt.push(e)}}),oe.speed=function(e,t,n){var i=e&&"object"==typeof e?oe.extend({},e):{complete:n||!n&&t||oe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!oe.isFunction(t)&&t};return i.duration=oe.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in oe.fx.speeds?oe.fx.speeds[i.duration]:oe.fx.speeds._default,(null==i.queue||!0===i.queue)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){oe.isFunction(i.old)&&i.old.call(this),i.queue&&oe.dequeue(this,i.queue)},i},oe.fn.extend({fadeTo:function(e,t,n,i){return this.filter($e).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=oe.isEmptyObject(e),r=oe.speed(t,n,i),a=function(){var t=P(this,oe.extend({},e),r);(o||oe._data(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",r=oe.timers,a=oe._data(this);if(o)a[o]&&a[o].stop&&i(a[o]);else for(o in a)a[o]&&a[o].stop&&gt.test(o)&&i(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(n),t=!1,r.splice(o,1));(t||!n)&&oe.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=oe._data(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=oe.timers,a=i?i.length:0;for(n.finish=!0,oe.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),oe.each(["toggle","show","hide"],(function(e,t){var n=oe.fn[t];oe.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(j(t,!0),e,i,o)}})),oe.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){oe.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),oe.timers=[],oe.fx.tick=function(){var e,t=oe.timers,n=0;for(ht=oe.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||oe.fx.stop(),ht=void 0},oe.fx.timer=function(e){oe.timers.push(e),e()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){pt||(pt=setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){clearInterval(pt),pt=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(e,t){return e=oe.fx&&oe.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}}))},function(){var e,t,n,i,o;(t=fe.createElement("div")).setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=t.getElementsByTagName("a")[0],o=(n=fe.createElement("select")).appendChild(fe.createElement("option")),e=t.getElementsByTagName("input")[0],i.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(i.getAttribute("style")),ne.hrefNormalized="/a"===i.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=o.selected,ne.enctype=!!fe.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!o.disabled,(e=fe.createElement("input")).setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var bt=/\r/g;oe.fn.extend({val:function(e){var t,n,i,o=this[0];return arguments.length?(i=oe.isFunction(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=i?e.call(this,n,oe(this).val()):e)?o="":"number"==typeof o?o+="":oe.isArray(o)&&(o=oe.map(o,(function(e){return null==e?"":e+""}))),(t=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=oe.valHooks[o.type]||oe.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(bt,""):null==n?"":n:void 0}}),oe.extend({valHooks:{option:{get:function(e){var t=oe.find.attr(e,"value");return null!=t?t:oe.trim(oe.text(e))}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,r="select-one"===e.type||0>o,a=r?null:[],s=r?o+1:i.length,l=0>o?s:r?o:0;s>l;l++)if(!(!(n=i[l]).selected&&l!==o||(ne.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&oe.nodeName(n.parentNode,"optgroup"))){if(t=oe(n).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var n,i,o=e.options,r=oe.makeArray(t),a=o.length;a--;)if(i=o[a],oe.inArray(oe.valHooks.option.get(i),r)>=0)try{i.selected=n=!0}catch(e){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),o}}}}),oe.each(["radio","checkbox"],(function(){oe.valHooks[this]={set:function(e,t){return oe.isArray(t)?e.checked=oe.inArray(oe(e).val(),t)>=0:void 0}},ne.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var _t,wt,kt=oe.expr.attrHandle,Ct=/^(?:checked|selected)$/i,xt=ne.getSetAttribute,Tt=ne.input;oe.fn.extend({attr:function(e,t){return Ae(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){oe.removeAttr(this,e)}))}}),oe.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===Ce?oe.prop(e,t,n):(1===r&&oe.isXMLDoc(e)||(t=t.toLowerCase(),i=oe.attrHooks[t]||(oe.expr.match.bool.test(t)?wt:_t)),void 0===n?i&&"get"in i&&null!==(o=i.get(e,t))?o:null==(o=oe.find.attr(e,t))?void 0:o:null!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:(e.setAttribute(t,n+""),n):void oe.removeAttr(e,t))},removeAttr:function(e,t){var n,i,o=0,r=t&&t.match(_e);if(r&&1===e.nodeType)for(;n=r[o++];)i=oe.propFix[n]||n,oe.expr.match.bool.test(n)?Tt&&xt||!Ct.test(n)?e[i]=!1:e[oe.camelCase("default-"+n)]=e[i]=!1:oe.attr(e,n,""),e.removeAttribute(xt?n:i)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),wt={set:function(e,t,n){return!1===t?oe.removeAttr(e,n):Tt&&xt||!Ct.test(n)?e.setAttribute(!xt&&oe.propFix[n]||n,n):e[oe.camelCase("default-"+n)]=e[n]=!0,n}},oe.each(oe.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=kt[t]||oe.find.attr;kt[t]=Tt&&xt||!Ct.test(t)?function(e,t,i){var o,r;return i||(r=kt[t],kt[t]=o,o=null!=n(e,t,i)?t.toLowerCase():null,kt[t]=r),o}:function(e,t,n){return n?void 0:e[oe.camelCase("default-"+t)]?t.toLowerCase():null}})),Tt&&xt||(oe.attrHooks.value={set:function(e,t,n){return oe.nodeName(e,"input")?void(e.defaultValue=t):_t&&_t.set(e,t,n)}}),xt||(_t={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},kt.id=kt.name=kt.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},oe.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:_t.set},oe.attrHooks.contenteditable={set:function(e,t,n){_t.set(e,""!==t&&t,n)}},oe.each(["width","height"],(function(e,t){oe.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}}))),ne.style||(oe.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var St=/^(?:input|select|textarea|button|object)$/i,Et=/^(?:a|area)$/i;oe.fn.extend({prop:function(e,t){return Ae(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=oe.propFix[e]||e,this.each((function(){try{this[e]=void 0,delete this[e]}catch(e){}}))}}),oe.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return(1!==r||!oe.isXMLDoc(e))&&(t=oe.propFix[t]||t,o=oe.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=oe.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||Et.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||oe.each(["href","src"],(function(e,t){oe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),ne.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){oe.propFix[this.toLowerCase()]=this})),ne.enctype||(oe.propFix.enctype="encoding");var $t=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(e){var t,n,i,o,r,a,s=0,l=this.length,c="string"==typeof e&&e;if(oe.isFunction(e))return this.each((function(t){oe(this).addClass(e.call(this,t,this.className))}));if(c)for(t=(e||"").match(_e)||[];l>s;s++)if(i=1===(n=this[s]).nodeType&&(n.className?(" "+n.className+" ").replace($t," "):" ")){for(r=0;o=t[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=oe.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,i,o,r,a,s=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(oe.isFunction(e))return this.each((function(t){oe(this).removeClass(e.call(this,t,this.className))}));if(c)for(t=(e||"").match(_e)||[];l>s;s++)if(i=1===(n=this[s]).nodeType&&(n.className?(" "+n.className+" ").replace($t," "):"")){for(r=0;o=t[r++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");a=e?oe.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(oe.isFunction(e)?function(n){oe(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,o=oe(this),r=e.match(_e)||[];t=r[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(n===Ce||"boolean"===n)&&(this.className&&oe._data(this,"__className__",this.className),this.className=this.className||!1===e?"":oe._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace($t," ").indexOf(t)>=0)return!0;return!1}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){oe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var At=oe.now(),Dt=/\?/,Ot=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;oe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,o=oe.trim(t+"");return o&&!oe.trim(o.replace(Ot,(function(e,t,o,r){return n&&t&&(i=0),0===i?e:(n=o||t,i+=!r-!o,"")})))?Function("return "+o)():oe.error("Invalid JSON: "+t)},oe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?n=(new DOMParser).parseFromString(t,"text/xml"):((n=new ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(t))}catch(e){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||oe.error("Invalid XML: "+t),n};var Lt,Nt,jt=/#.*$/,Rt=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,It=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pt=/^(?:GET|HEAD)$/,zt=/^\/\//,Ft=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,qt={},Ht={},Bt="*/".concat("*");try{Nt=location.href}catch(e){(Nt=fe.createElement("a")).href="",Nt=Nt.href}Lt=Ft.exec(Nt.toLowerCase())||[],oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nt,type:"GET",isLocal:It.test(Lt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?q(q(e,oe.ajaxSettings),t):q(oe.ajaxSettings,e)},ajaxPrefilter:z(qt),ajaxTransport:z(Ht),ajax:function(e,t){function n(e,t,n,i){var o,d,v,y,_,k=t;2!==b&&(b=2,s&&clearTimeout(s),c=void 0,a=i||"",w.readyState=e>0?4:0,o=e>=200&&300>e||304===e,n&&(y=H(u,w,n)),y=B(u,y,w,o),
o?(u.ifModified&&((_=w.getResponseHeader("Last-Modified"))&&(oe.lastModified[r]=_),(_=w.getResponseHeader("etag"))&&(oe.etag[r]=_)),204===e||"HEAD"===u.type?k="nocontent":304===e?k="notmodified":(k=y.state,d=y.data,o=!(v=y.error))):(v=k,(e||!k)&&(k="error",0>e&&(e=0))),w.status=e,w.statusText=(t||k)+"",o?f.resolveWith(h,[d,k,w]):f.rejectWith(h,[w,k,v]),w.statusCode(g),g=void 0,l&&p.trigger(o?"ajaxSuccess":"ajaxError",[w,u,o?d:v]),m.fireWith(h,[w,k]),l&&(p.trigger("ajaxComplete",[w,u]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,o,r,a,s,l,c,d,u=oe.ajaxSetup({},t),h=u.context||u,p=u.context&&(h.nodeType||h.jquery)?oe(h):oe.event,f=oe.Deferred(),m=oe.Callbacks("once memory"),g=u.statusCode||{},v={},y={},b=0,_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!d)for(d={};t=Mt.exec(a);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||_;return c&&c.abort(t),n(0,t),this}};if(f.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,u.url=((e||u.url||Nt)+"").replace(jt,"").replace(zt,Lt[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=oe.trim(u.dataType||"*").toLowerCase().match(_e)||[""],null==u.crossDomain&&(i=Ft.exec(u.url.toLowerCase()),u.crossDomain=!(!i||i[1]===Lt[1]&&i[2]===Lt[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Lt[3]||("http:"===Lt[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=oe.param(u.data,u.traditional)),F(qt,u,t,w),2===b)return w;for(o in(l=oe.event&&u.global)&&0==oe.active++&&oe.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Pt.test(u.type),r=u.url,u.hasContent||(u.data&&(r=u.url+=(Dt.test(r)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=Rt.test(r)?r.replace(Rt,"$1_="+At++):r+(Dt.test(r)?"&":"?")+"_="+At++)),u.ifModified&&(oe.lastModified[r]&&w.setRequestHeader("If-Modified-Since",oe.lastModified[r]),oe.etag[r]&&w.setRequestHeader("If-None-Match",oe.etag[r])),(u.data&&u.hasContent&&!1!==u.contentType||t.contentType)&&w.setRequestHeader("Content-Type",u.contentType),w.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Bt+"; q=0.01":""):u.accepts["*"]),u.headers)w.setRequestHeader(o,u.headers[o]);if(u.beforeSend&&(!1===u.beforeSend.call(h,w,u)||2===b))return w.abort();for(o in _="abort",{success:1,error:1,complete:1})w[o](u[o]);if(c=F(Ht,u,t,w)){w.readyState=1,l&&p.trigger("ajaxSend",[w,u]),u.async&&u.timeout>0&&(s=setTimeout((function(){w.abort("timeout")}),u.timeout));try{b=1,c.send(v,n)}catch(e){if(!(2>b))throw e;n(-1,e)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return oe.get(e,t,n,"json")},getScript:function(e,t){return oe.get(e,void 0,t,"script")}}),oe.each(["get","post"],(function(e,t){oe[t]=function(e,n,i,o){return oe.isFunction(n)&&(o=o||i,i=n,n=void 0),oe.ajax({url:e,type:t,dataType:o,data:n,success:i})}})),oe._evalUrl=function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},oe.fn.extend({wrapAll:function(e){if(oe.isFunction(e))return this.each((function(t){oe(this).wrapAll(e.call(this,t))}));if(this[0]){var t=oe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e})).append(this)}return this},wrapInner:function(e){return this.each(oe.isFunction(e)?function(t){oe(this).wrapInner(e.call(this,t))}:function(){var t=oe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each((function(n){oe(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(){return this.parent().each((function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)})).end()}}),oe.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||oe.css(e,"display"))},oe.expr.filters.visible=function(e){return!oe.expr.filters.hidden(e)};var Ut=/%20/g,Wt=/\[\]$/,Vt=/\r?\n/g,Qt=/^(?:submit|button|image|reset|file)$/i,Gt=/^(?:input|select|textarea|keygen)/i;oe.param=function(e,t){var n,i=[],o=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,(function(){o(this.name,this.value)}));else for(n in e)U(n,e[n],t,o);return i.join("&").replace(Ut,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&Gt.test(this.nodeName)&&!Qt.test(e)&&(this.checked||!De.test(e))})).map((function(e,t){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,(function(e){return{name:t.name,value:e.replace(Vt,"\r\n")}})):{name:t.name,value:n.replace(Vt,"\r\n")}})).get()}}),oe.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&W()||V()}:W;var Xt=0,Kt={},Yt=oe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",(function(){for(var e in Kt)Kt[e](void 0,!0)})),ne.cors=!!Yt&&"withCredentials"in Yt,(Yt=ne.ajax=!!Yt)&&oe.ajaxTransport((function(e){var t;if(!e.crossDomain||ne.cors)return{send:function(n,i){var o,r=e.xhr(),a=++Xt;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)r[o]=e.xhrFields[o];for(o in e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)void 0!==n[o]&&r.setRequestHeader(o,n[o]+"");r.send(e.hasContent&&e.data||null),t=function(n,o){var s,l,c;if(t&&(o||4===r.readyState))if(delete Kt[a],t=void 0,r.onreadystatechange=oe.noop,o)4!==r.readyState&&r.abort();else{c={},s=r.status,"string"==typeof r.responseText&&(c.text=r.responseText);try{l=r.statusText}catch(e){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&i(s,l,c,r.getAllResponseHeaders())},e.async?4===r.readyState?setTimeout(t):r.onreadystatechange=Kt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}})),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)})),oe.ajaxTransport("script",(function(e){if(e.crossDomain){var t,n=fe.head||oe("head")[0]||fe.documentElement;return{send:function(i,o){(t=fe.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}}));var Jt=[],Zt=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Jt.pop()||oe.expando+"_"+At++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",(function(t,n,i){var o,r,a,s=!1!==t.jsonp&&(Zt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=oe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Zt,"$1"+o):!1!==t.jsonp&&(t.url+=(Dt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||oe.error(o+" was not called"),a[0]},t.dataTypes[0]="json",r=e[o],e[o]=function(){a=arguments},i.always((function(){e[o]=r,t[o]&&(t.jsonpCallback=n.jsonpCallback,Jt.push(o)),a&&oe.isFunction(r)&&r(a[0]),a=r=void 0})),"script"):void 0})),oe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||fe;var i=ue.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=oe.buildFragment([e],t,o),o&&o.length&&oe(o).remove(),oe.merge([],i.childNodes))};var en=oe.fn.load;oe.fn.load=function(e,t,n){if("string"!=typeof e&&en)return en.apply(this,arguments);var i,o,r,a=this,s=e.indexOf(" ");return s>=0&&(i=oe.trim(e.slice(s,e.length)),e=e.slice(0,s)),oe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&oe.ajax({url:e,type:r,dataType:"html",data:t}).done((function(e){o=arguments,a.html(i?oe("<div>").append(oe.parseHTML(e)).find(i):e)})).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){oe.fn[t]=function(e){return this.on(t,e)}})),oe.expr.filters.animated=function(e){return oe.grep(oe.timers,(function(t){return e===t.elem})).length};var tn=e.document.documentElement;oe.offset={setOffset:function(e,t,n){var i,o,r,a,s,l,c=oe.css(e,"position"),d=oe(e),u={};"static"===c&&(e.style.position="relative"),s=d.offset(),r=oe.css(e,"top"),l=oe.css(e,"left"),("absolute"===c||"fixed"===c)&&oe.inArray("auto",[r,l])>-1?(a=(i=d.position()).top,o=i.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),oe.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(u.top=t.top-s.top+a),null!=t.left&&(u.left=t.left-s.left+o),"using"in t?t.using.call(e,u):d.css(u)}},oe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){oe.offset.setOffset(this,e,t)}));var t,n,i={top:0,left:0},o=this[0],r=o&&o.ownerDocument;return r?(t=r.documentElement,oe.contains(t,o)?(typeof o.getBoundingClientRect!==Ce&&(i=o.getBoundingClientRect()),n=Q(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===oe.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(n=e.offset()),n.top+=oe.css(e[0],"borderTopWidth",!0),n.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-oe.css(i,"marginTop",!0),left:t.left-n.left-oe.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||tn;e&&!oe.nodeName(e,"html")&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||tn}))}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n=/Y/.test(t);oe.fn[e]=function(i){return Ae(this,(function(e,i,o){var r=Q(e);return void 0===o?r?t in r?r[t]:r.document.documentElement[i]:e[i]:void(r?r.scrollTo(n?oe(r).scrollLeft():o,n?o:oe(r).scrollTop()):e[i]=o)}),e,i,arguments.length,null)}})),oe.each(["top","left"],(function(e,t){oe.cssHooks[t]=S(ne.pixelPosition,(function(e,n){return n?(n=et(e,t),nt.test(n)?oe(e).position()[t]+"px":n):void 0}))})),oe.each({Height:"height",Width:"width"},(function(e,t){oe.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){oe.fn[i]=function(i,o){var r=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return Ae(this,(function(t,n,i){var o;return oe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?oe.css(t,n,a):oe.style(t,n,i,a)}),t,r?i:void 0,r,null)}}))})),oe.fn.size=function(){return this.length},oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return oe}));var nn=e.jQuery,on=e.$;return oe.noConflict=function(t){return e.$===oe&&(e.$=on),t&&e.jQuery===oe&&(e.jQuery=nn),oe},typeof t===Ce&&(e.jQuery=e.$=oe),oe})),void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(e,t,n){function i(n){var i=t.console;r[n]||(r[n]=!0,e.migrateWarnings.push(n),i&&i.warn&&!e.migrateMute&&(i.warn("JQMIGRATE: "+n),e.migrateTrace&&i.trace&&i.trace()))}function o(t,o,r,a){if(Object.defineProperty)try{return Object.defineProperty(t,o,{configurable:!0,enumerable:!0,get:function(){return i(a),r},set:function(e){i(a),r=e}}),n}catch(e){}e._definePropertyBroken=!0,t[o]=r}var r={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){r={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&i("jQuery is not compatible with Quirks Mode");var a=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},d=/^(?:input|button)$/i,u=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;o(e,"attrFn",a||{},"jQuery.attrFn is deprecated"),e.attr=function(t,o,r,l){var c=o.toLowerCase(),f=t&&t.nodeType;return l&&(4>s.length&&i("jQuery.fn.attr( props, pass ) is deprecated"),t&&!u.test(f)&&(a?o in a:e.isFunction(e.fn[o])))?e(t)[o](r):("type"===o&&r!==n&&d.test(t.nodeName)&&t.parentNode&&i("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&h.test(c)&&(e.attrHooks[c]={get:function(t,i){var o,r=e.prop(t,i);return!0===r||"boolean"!=typeof r&&(o=t.getAttributeNode(i))&&!1!==o.nodeValue?i.toLowerCase():n},set:function(t,n,i){var o;return!1===n?e.removeAttr(t,i):((o=e.propFix[i]||i)in t&&(t[o]=!0),t.setAttribute(i,i.toLowerCase())),i}},p.test(c)&&i("jQuery.fn.attr('"+c+"') may use property instead of attribute")),s.call(e,t,o,r))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?l.apply(this,arguments):("input"!==n&&"option"!==n&&i("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var o=(e.nodeName||"").toLowerCase();return"button"===o?c.apply(this,arguments):("input"!==o&&"option"!==o&&i("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var f,m,g=e.fn.init,v=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,o){var r;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(r=y.exec(e.trim(t)))&&r[0]&&("<"!==t.charAt(0)&&i("$(html) HTML strings must start with '<' character"),r[3]&&i("$(html) HTML text after last tag is ignored"),"#"===r[0].charAt(0)&&(i("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?g.call(this,e.parseHTML(r[2],n,!0),n,o):g.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?v.apply(this,arguments):(i("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(m={},(f=e.uaMatch(navigator.userAgent)).browser&&(m[f.browser]=!0,m.version=f.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),e.browser=m),o(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,o){return o&&o instanceof e&&!(o instanceof t)&&(o=t(o)),e.fn.init.call(this,i,o,n)},t.fn.init.prototype=t.fn;var n=t(document);return i("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var o,r,a=this[0];return!a||"events"!==t||1!==arguments.length||(o=e.data(a,t),r=e._data(a,t),o!==n&&o!==r||r===n)?b.apply(this,arguments):(i("Use of jQuery.fn.data('events') is deprecated"),r)};var _=/\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),w.apply(this,arguments)},e.clean||(e.clean=function(t,o,r,a){o=(o=!(o=o||document).nodeType&&o[0]||o).ownerDocument||o,i("jQuery.clean() is deprecated");var s,l,c,d,u=[];if(e.merge(u,e.buildFragment(t,o).childNodes),r)for(c=function(e){return!e.type||_.test(e.type)?a?a.push(e.parentNode?e.parentNode.removeChild(e):e):r.appendChild(e):n},s=0;null!=(l=u[s]);s++)e.nodeName(l,"script")&&c(l)||(r.appendChild(l),l.getElementsByTagName!==n&&(d=e.grep(e.merge([],l.getElementsByTagName("script")),c),u.splice.apply(u,[s+1,0].concat(d)),s+=d.length));return u});var k=e.event.add,C=e.event.remove,x=e.event.trigger,T=e.fn.toggle,S=e.fn.live,E=e.fn.die,$="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",A=RegExp("\\b(?:"+$+")\\b"),D=/(?:^|\s)hover(\.\S+|)\b/,O=function(t){return"string"!=typeof t||e.event.special.hover?t:(D.test(t)&&i("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(D,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&o(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,o,r){e!==document&&A.test(t)&&i("AJAX events should be attached to document: "+t),k.call(this,e,O(t||""),n,o,r)},e.event.remove=function(e,t,n,i,o){C.call(this,e,O(t)||"",n,i,o)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return i("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return T.apply(this,arguments);i("jQuery.fn.toggle(handler, handler...) is deprecated");var o=arguments,r=t.guid||e.guid++,a=0,s=function(n){var i=(e._data(this,"lastToggle"+t.guid)||0)%a;return e._data(this,"lastToggle"+t.guid,i+1),n.preventDefault(),o[i].apply(this,arguments)||!1};for(s.guid=r;o.length>a;)o[a++].guid=r;return this.click(s)},e.fn.live=function(t,n,o){return i("jQuery.fn.live() is deprecated"),S?S.apply(this,arguments):(e(this.context).on(t,this.selector,n,o),this)},e.fn.die=function(t,n){return i("jQuery.fn.die() is deprecated"),E?E.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,o){return n||A.test(e)||i("Global events are undocumented and deprecated"),x.call(this,e,t,n||document,o)},e.each($.split("|"),(function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,(function(){e.event.trigger(n,null,t,!0)})),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}}))}(jQuery,window),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).bootstrap=t()}(this,(function(){"use strict";function e(e,t){return t&&`${t}::${be++}`||e.uidEvent||be++}function t(t){const n=e(t);return t.uidEvent=n,ye[n]=ye[n]||{},ye[n]}function n(e,t,n=null){const i=Object.keys(e);for(let o=0,r=i.length;o<r;o++){const r=e[i[o]];if(r.originalHandler===t&&r.delegationSelector===n)return r}return null}function i(e,t,n){const i="string"==typeof t,o=i?n:t;let r=a(e);return ke.has(r)||(r=e),[i,o,r]}function o(o,r,a,s,l){if("string"!=typeof r||!o)return;if(a||(a=s,s=null),we.test(r)){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};s?s=e(s):a=e(a)}const[c,d,u]=i(r,a,s),h=t(o),p=h[u]||(h[u]={}),f=n(p,d,c?a:null);if(f)return void(f.oneOff=f.oneOff&&l);const m=e(d,r.replace(me,"")),g=c?function(e,t,n){return function i(o){const r=e.querySelectorAll(t);for(let{target:a}=o;a&&a!==this;a=a.parentNode)for(let s=r.length;s--;)if(r[s]===a)return o.delegateTarget=a,i.oneOff&&Ce.off(e,o.type,t,n),n.apply(a,[o]);return null}}(o,a,s):function(e,t){return function n(i){return i.delegateTarget=e,n.oneOff&&Ce.off(e,i.type,t),t.apply(e,[i])}}(o,a);g.delegationSelector=c?a:null,g.originalHandler=d,g.oneOff=l,g.uidEvent=m,p[m]=g,o.addEventListener(u,g,c)}function r(e,t,i,o,r){const a=n(t[i],o,r);a&&(e.removeEventListener(i,a,Boolean(r)),delete t[i][a.uidEvent])}function a(e){return e=e.replace(ge,""),_e[e]||e}function s(e){return"true"===e||"false"!==e&&(e===Number(e).toString()?Number(e):""===e||"null"===e?null:e)}function l(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}function c(e){return e?(e.nodeName||"").toLowerCase():null}function d(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function u(e){return e instanceof d(e).Element||e instanceof Element}function h(e){return e instanceof d(e).HTMLElement||e instanceof HTMLElement}function p(e){return"undefined"!=typeof ShadowRoot&&(e instanceof d(e).ShadowRoot||e instanceof ShadowRoot)}function f(e){return e.split("-")[0]}function m(e){var t=e.getBoundingClientRect();return{width:t.width/1,height:t.height/1,top:t.top/1,right:t.right/1,bottom:t.bottom/1,left:t.left/1,x:t.left/1,y:t.top/1}}function g(e){var t=m(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function v(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&p(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function y(e){return d(e).getComputedStyle(e)}function b(e){return["table","td","th"].indexOf(c(e))>=0}function _(e){return((u(e)?e.ownerDocument:e.document)||window.document).documentElement}function w(e){return"html"===c(e)?e:e.assignedSlot||e.parentNode||(p(e)?e.host:null)||_(e)}function k(e){return h(e)&&"fixed"!==y(e).position?e.offsetParent:null}function C(e){for(var t=d(e),n=k(e);n&&b(n)&&"static"===y(n).position;)n=k(n);return n&&("html"===c(n)||"body"===c(n)&&"static"===y(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&h(e)&&"fixed"===y(e).position)return null;for(var n=w(e);h(n)&&["html","body"].indexOf(c(n))<0;){var i=y(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}function x(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function T(e,t,n){return St(e,Et(t,n))}function S(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function E(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function $(e){return e.split("-")[1]}function A(e){var t,n=e.popper,i=e.popperRect,o=e.placement,r=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,h=!0===u?function(e){var t=e.x,n=e.y,i=window.devicePixelRatio||1;return{x:$t($t(t*i)/i)||0,y:$t($t(n*i)/i)||0}}(a):"function"==typeof u?u(a):a,p=h.x,f=void 0===p?0:p,m=h.y,g=void 0===m?0:m,v=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),w=ot,k=tt,x=window;if(c){var T=C(n),S="clientHeight",E="clientWidth";T===d(n)&&"static"!==y(T=_(n)).position&&"absolute"===s&&(S="scrollHeight",E="scrollWidth"),o!==tt&&(o!==ot&&o!==it||r!==lt)||(k=nt,g-=T[S]-i.height,g*=l?1:-1),o!==ot&&(o!==tt&&o!==nt||r!==lt)||(w=it,f-=T[E]-i.width,f*=l?1:-1)}var $,A=Object.assign({position:s},c&&Dt);return l?Object.assign({},A,(($={})[k]=b?"0":"",$[w]=v?"0":"",$.transform=(x.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",$)):Object.assign({},A,((t={})[k]=b?g+"px":"",t[w]=v?f+"px":"",t.transform="",t))}function D(e){return e.replace(/left|right|bottom|top/g,(function(e){return jt[e]}))}function O(e){return e.replace(/start|end/g,(function(e){return Rt[e]}))}function L(e){var t=d(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function N(e){return m(_(e)).left+L(e).scrollLeft}function j(e){var t=y(e),n=t.overflow,i=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function R(e){return["html","body","#document"].indexOf(c(e))>=0?e.ownerDocument.body:h(e)&&j(e)?e:R(w(e))}function M(e,t){var n;void 0===t&&(t=[]);var i=R(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),r=d(i),a=o?[r].concat(r.visualViewport||[],j(i)?i:[]):i,s=t.concat(a);return o?s:s.concat(M(w(a)))}function I(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function P(e,t){return t===dt?I(function(e){var t=d(e),n=_(e),i=t.visualViewport,o=n.clientWidth,r=n.clientHeight,a=0,s=0;return i&&(o=i.width,r=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=i.offsetLeft,s=i.offsetTop)),{width:o,height:r,x:a+N(e),y:s}}(e)):h(t)?function(e){var t=m(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):I(function(e){var t,n=_(e),i=L(e),o=null==(t=e.ownerDocument)?void 0:t.body,r=St(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=St(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-i.scrollLeft+N(e),l=-i.scrollTop;return"rtl"===y(o||n).direction&&(s+=St(n.clientWidth,o?o.clientWidth:0)-r),{width:r,height:a,x:s,y:l}}(_(e)))}function z(e){var t,n=e.reference,i=e.element,o=e.placement,r=o?f(o):null,a=o?$(o):null,s=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(r){case tt:t={x:s,y:n.y-i.height};break;case nt:t={x:s,y:n.y+n.height};break;case it:t={x:n.x+n.width,y:l};break;case ot:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=r?x(r):null;if(null!=c){var d="y"===c?"height":"width";switch(a){case st:t[c]=t[c]-(n[d]/2-i[d]/2);break;case lt:t[c]=t[c]+(n[d]/2-i[d]/2)}}return t}function F(e,t){void 0===t&&(t={});var n=t,i=n.placement,o=void 0===i?e.placement:i,r=n.boundary,a=void 0===r?ct:r,s=n.rootBoundary,l=void 0===s?dt:s,d=n.elementContext,p=void 0===d?ut:d,f=n.altBoundary,g=void 0!==f&&f,b=n.padding,k=void 0===b?0:b,x=S("number"!=typeof k?k:E(k,at)),T=p===ut?ht:ut,$=e.rects.popper,A=e.elements[g?T:p],D=function(e,t,n){var i="clippingParents"===t?function(e){var t=M(w(e)),n=["absolute","fixed"].indexOf(y(e).position)>=0&&h(e)?C(e):e;return u(n)?t.filter((function(e){return u(e)&&v(e,n)&&"body"!==c(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),r=o[0],a=o.reduce((function(t,n){var i=P(e,n);return t.top=St(i.top,t.top),t.right=Et(i.right,t.right),t.bottom=Et(i.bottom,t.bottom),t.left=St(i.left,t.left),t}),P(e,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(u(A)?A:A.contextElement||_(e.elements.popper),a,l),O=m(e.elements.reference),L=z({reference:O,element:$,strategy:"absolute",placement:o}),N=I(Object.assign({},$,L)),j=p===ut?N:O,R={top:D.top-j.top+x.top,bottom:j.bottom-D.bottom+x.bottom,left:D.left-j.left+x.left,right:j.right-D.right+x.right},F=e.modifiersData.offset;if(p===ut&&F){var q=F[o];Object.keys(R).forEach((function(e){var t=[it,nt].indexOf(e)>=0?1:-1,n=[tt,nt].indexOf(e)>=0?"y":"x";R[e]+=q[n]*t}))}return R}function q(e,t){void 0===t&&(t={});var n=t,i=n.placement,o=n.boundary,r=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?ft:l,d=$(i),u=d?s?pt:pt.filter((function(e){return $(e)===d})):at,h=u.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=u);var p=h.reduce((function(t,n){return t[n]=F(e,{placement:n,boundary:o,rootBoundary:r,padding:a})[f(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}function H(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function B(e){return[tt,it,nt,ot].some((function(t){return e[t]>=0}))}function U(e,t,n){void 0===n&&(n=!1);var i=h(t);h(t)&&function(e){var t=e.getBoundingClientRect();t.width,e.offsetWidth,t.height,e.offsetHeight}(t);var o,r,a=_(t),s=m(e),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!n)&&(("body"!==c(t)||j(a))&&(l=(o=t)!==d(o)&&h(o)?{scrollLeft:(r=o).scrollLeft,scrollTop:r.scrollTop}:L(o)),h(t)?((u=m(t)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=N(a))),{x:s.left+l.scrollLeft-u.x,y:s.top+l.scrollTop-u.y,width:s.width,height:s.height}}function W(e){function t(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!i.has(e)){var o=n.get(e);o&&t(o)}})),o.push(e)}var n=new Map,i=new Set,o=[];return e.forEach((function(e){n.set(e.name,e)})),e.forEach((function(e){i.has(e.name)||t(e)})),o}function V(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Q(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,o=t.defaultOptions,r=void 0===o?qt:o;return function(e,t,n){function o(){c.forEach((function(e){return e()})),c=[]}void 0===n&&(n=r);var a,s,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},qt,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],d=!1,h={state:l,setOptions:function(n){var a="function"==typeof n?n(l.options):n;o(),l.options=Object.assign({},r,l.options,a),l.scrollParents={reference:u(e)?M(e):e.contextElement?M(e.contextElement):[],popper:M(t)};var s,d,p=function(e){var t=W(e);return xt.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((s=[].concat(i,l.options.modifiers),d=s.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(d).map((function(e){return d[e]}))));return l.orderedModifiers=p.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var r=o({state:l,name:t,instance:h,options:i});c.push(r||function(){})}})),h.update()},forceUpdate:function(){if(!d){var e=l.elements,t=e.reference,n=e.popper;if(V(t,n)){l.rects={reference:U(t,C(n),"fixed"===l.options.strategy),popper:g(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<l.orderedModifiers.length;i++)if(!0!==l.reset){var o=l.orderedModifiers[i],r=o.fn,a=o.options,s=void 0===a?{}:a,c=o.name;"function"==typeof r&&(l=r({state:l,options:s,name:c,instance:h})||l)}else l.reset=!1,i=-1}}},update:(a=function(){return new Promise((function(e){h.forceUpdate(),e(l)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(a())}))}))),s}),destroy:function(){o(),d=!0}};return V(e,t)?(h.setOptions(n).then((function(e){!d&&n.onFirstUpdate&&n.onFirstUpdate(e)})),h):h}}function G(e,t,n){if(!e.length)return e;if(n&&"function"==typeof n)return n(e);const i=(new window.DOMParser).parseFromString(e,"text/html"),o=[].concat(...i.body.querySelectorAll("*"));for(let e=0,n=o.length;e<n;e++){const n=o[e],i=n.nodeName.toLowerCase();if(!Object.keys(t).includes(i)){n.remove();continue}const r=[].concat(...n.attributes),a=[].concat(t["*"]||[],t[i]||[]);r.forEach((e=>{Kn(e,a)||n.removeAttribute(e.nodeName)}))}return i.body.innerHTML}const X="transitionend",K=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&"#"!==n?n.trim():null}return t},Y=e=>{const t=K(e);return t&&document.querySelector(t)?t:null},J=e=>{const t=K(e);return t?document.querySelector(t):null},Z=e=>{e.dispatchEvent(new Event(X))},ee=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),te=e=>ee(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(e):null,ne=(e,t,n)=>{Object.keys(n).forEach((i=>{const o=n[i],r=t[i],a=r&&ee(r)?"element":null==(s=r)?`${s}`:{}.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase();var s
;if(!new RegExp(o).test(a))throw new TypeError(`${e.toUpperCase()}: Option "${i}" provided type "${a}" but expected type "${o}".`)}))},ie=e=>!(!ee(e)||0===e.getClientRects().length)&&"visible"===getComputedStyle(e).getPropertyValue("visibility"),oe=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),re=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?re(e.parentNode):null},ae=()=>{},se=e=>{e.offsetHeight},le=()=>{const{jQuery:e}=window;return e&&!document.body.hasAttribute("data-bs-no-jquery")?e:null},ce=[],de=()=>"rtl"===document.documentElement.dir,ue=e=>{var t;t=()=>{const t=le();if(t){const n=e.NAME,i=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=i,e.jQueryInterface)}},"loading"===document.readyState?(ce.length||document.addEventListener("DOMContentLoaded",(()=>{ce.forEach((e=>e()))})),ce.push(t)):t()},he=e=>{"function"==typeof e&&e()},pe=(e,t,n=!0)=>{if(!n)return void he(e);const i=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const i=Number.parseFloat(t),o=Number.parseFloat(n);return i||o?(t=t.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(n))):0})(t)+5;let o=!1;const r=({target:n})=>{n===t&&(o=!0,t.removeEventListener(X,r),he(e))};t.addEventListener(X,r),setTimeout((()=>{o||Z(t)}),i)},fe=(e,t,n,i)=>{let o=e.indexOf(t);if(-1===o)return e[!n&&i?e.length-1:0];const r=e.length;return o+=n?1:-1,i&&(o=(o+r)%r),e[Math.max(0,Math.min(o,r-1))]},me=/[^.]*(?=\..*)\.|.*/,ge=/\..*/,ve=/::\d+$/,ye={};let be=1;const _e={mouseenter:"mouseover",mouseleave:"mouseout"},we=/^(mouseenter|mouseleave)/i,ke=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]),Ce={on(e,t,n,i){o(e,t,n,i,!1)},one(e,t,n,i){o(e,t,n,i,!0)},off(e,n,o,a){if("string"!=typeof n||!e)return;const[s,l,c]=i(n,o,a),d=c!==n,u=t(e),h=n.startsWith(".");if(void 0!==l){if(!u||!u[c])return;return void r(e,u,c,l,s?o:null)}h&&Object.keys(u).forEach((t=>{!function(e,t,n,i){const o=t[n]||{};Object.keys(o).forEach((a=>{if(a.includes(i)){const i=o[a];r(e,t,n,i.originalHandler,i.delegationSelector)}}))}(e,u,t,n.slice(1))}));const p=u[c]||{};Object.keys(p).forEach((t=>{const i=t.replace(ve,"");if(!d||n.includes(i)){const n=p[t];r(e,u,c,n.originalHandler,n.delegationSelector)}}))},trigger(e,t,n){if("string"!=typeof t||!e)return null;const i=le(),o=a(t),r=t!==o,s=ke.has(o);let l,c=!0,d=!0,u=!1,h=null;return r&&i&&(l=i.Event(t,n),i(e).trigger(l),c=!l.isPropagationStopped(),d=!l.isImmediatePropagationStopped(),u=l.isDefaultPrevented()),s?(h=document.createEvent("HTMLEvents"),h.initEvent(o,c,!0)):h=new CustomEvent(t,{bubbles:c,cancelable:!0}),void 0!==n&&Object.keys(n).forEach((e=>{Object.defineProperty(h,e,{get:()=>n[e]})})),u&&h.preventDefault(),d&&e.dispatchEvent(h),h.defaultPrevented&&void 0!==l&&l.preventDefault(),h}},xe=new Map,Te={set(e,t,n){xe.has(e)||xe.set(e,new Map);const i=xe.get(e);i.has(t)||0===i.size?i.set(t,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(e,t)=>xe.has(e)&&xe.get(e).get(t)||null,remove(e,t){if(!xe.has(e))return;const n=xe.get(e);n.delete(t),0===n.size&&xe.delete(e)}};class Se{constructor(e){(e=te(e))&&(this._element=e,Te.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Te.remove(this._element,this.constructor.DATA_KEY),Ce.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach((e=>{this[e]=null}))}_queueCallback(e,t,n=!0){pe(e,t,n)}static getInstance(e){return Te.get(te(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const Ee=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,i=e.NAME;Ce.on(document,n,`[data-bs-dismiss="${i}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),oe(this))return;const o=J(this)||this.closest(`.${i}`);e.getOrCreateInstance(o)[t]()}))};class $e extends Se{static get NAME(){return"alert"}close(){if(Ce.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),Ce.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=$e.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}Ee($e,"close"),ue($e);const Ae='[data-bs-toggle="button"]';class De extends Se{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each((function(){const t=De.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}Ce.on(document,"click.bs.button.data-api",Ae,(e=>{e.preventDefault();const t=e.target.closest(Ae);De.getOrCreateInstance(t).toggle()})),ue(De);const Oe={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${l(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${l(t)}`)},getDataAttributes(e){if(!e)return{};const t={};return Object.keys(e.dataset).filter((e=>e.startsWith("bs"))).forEach((n=>{let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),t[i]=s(e.dataset[n])})),t},getDataAttribute:(e,t)=>s(e.getAttribute(`data-bs-${l(t)}`)),offset(e){const t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}},position:e=>({top:e.offsetTop,left:e.offsetLeft})},Le={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const n=[];let i=e.parentNode;for(;i&&i.nodeType===Node.ELEMENT_NODE&&3!==i.nodeType;)i.matches(t)&&n.push(i),i=i.parentNode;return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(", ");return this.find(t,e).filter((e=>!oe(e)&&ie(e)))}},Ne="carousel",je={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Re={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Me="next",Ie="prev",Pe="left",ze="right",Fe={ArrowLeft:ze,ArrowRight:Pe},qe="slid.bs.carousel",He="active",Be=".active.carousel-item";class Ue extends Se{constructor(e,t){super(e),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._indicatorsElement=Le.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return je}static get NAME(){return Ne}next(){this._slide(Me)}nextWhenVisible(){!document.hidden&&ie(this._element)&&this.next()}prev(){this._slide(Ie)}pause(e){e||(this._isPaused=!0),Le.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(Z(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(e){this._activeElement=Le.findOne(Be,this._element);const t=this._getItemIndex(this._activeElement);if(e>this._items.length-1||e<0)return;if(this._isSliding)return void Ce.one(this._element,qe,(()=>this.to(e)));if(t===e)return this.pause(),void this.cycle();const n=e>t?Me:Ie;this._slide(n,this._items[e])}_getConfig(e){return e={...je,...Oe.getDataAttributes(this._element),..."object"==typeof e?e:{}},ne(Ne,e,Re),e}_handleSwipe(){const e=Math.abs(this.touchDeltaX);if(e<=40)return;const t=e/this.touchDeltaX;this.touchDeltaX=0,t&&this._slide(t>0?ze:Pe)}_addEventListeners(){this._config.keyboard&&Ce.on(this._element,"keydown.bs.carousel",(e=>this._keydown(e))),"hover"===this._config.pause&&(Ce.on(this._element,"mouseenter.bs.carousel",(e=>this.pause(e))),Ce.on(this._element,"mouseleave.bs.carousel",(e=>this.cycle(e)))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const e=e=>this._pointerEvent&&("pen"===e.pointerType||"touch"===e.pointerType),t=t=>{e(t)?this.touchStartX=t.clientX:this._pointerEvent||(this.touchStartX=t.touches[0].clientX)},n=e=>{this.touchDeltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this.touchStartX},i=t=>{e(t)&&(this.touchDeltaX=t.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((e=>this.cycle(e)),500+this._config.interval))};Le.find(".carousel-item img",this._element).forEach((e=>{Ce.on(e,"dragstart.bs.carousel",(e=>e.preventDefault()))})),this._pointerEvent?(Ce.on(this._element,"pointerdown.bs.carousel",(e=>t(e))),Ce.on(this._element,"pointerup.bs.carousel",(e=>i(e))),this._element.classList.add("pointer-event")):(Ce.on(this._element,"touchstart.bs.carousel",(e=>t(e))),Ce.on(this._element,"touchmove.bs.carousel",(e=>n(e))),Ce.on(this._element,"touchend.bs.carousel",(e=>i(e))))}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Fe[e.key];t&&(e.preventDefault(),this._slide(t))}_getItemIndex(e){return this._items=e&&e.parentNode?Le.find(".carousel-item",e.parentNode):[],this._items.indexOf(e)}_getItemByOrder(e,t){const n=e===Me;return fe(this._items,t,n,this._config.wrap)}_triggerSlideEvent(e,t){const n=this._getItemIndex(e),i=this._getItemIndex(Le.findOne(Be,this._element));return Ce.trigger(this._element,"slide.bs.carousel",{relatedTarget:e,direction:t,from:i,to:n})}_setActiveIndicatorElement(e){if(this._indicatorsElement){const t=Le.findOne(".active",this._indicatorsElement);t.classList.remove(He),t.removeAttribute("aria-current");const n=Le.find("[data-bs-target]",this._indicatorsElement);for(let t=0;t<n.length;t++)if(Number.parseInt(n[t].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(e)){n[t].classList.add(He),n[t].setAttribute("aria-current","true");break}}}_updateInterval(){const e=this._activeElement||Le.findOne(Be,this._element);if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(e,t){const n=this._directionToOrder(e),i=Le.findOne(Be,this._element),o=this._getItemIndex(i),r=t||this._getItemByOrder(n,i),a=this._getItemIndex(r),s=Boolean(this._interval),l=n===Me,c=l?"carousel-item-start":"carousel-item-end",d=l?"carousel-item-next":"carousel-item-prev",u=this._orderToDirection(n);if(r&&r.classList.contains(He))return void(this._isSliding=!1);if(this._isSliding)return;if(this._triggerSlideEvent(r,u).defaultPrevented)return;if(!i||!r)return;this._isSliding=!0,s&&this.pause(),this._setActiveIndicatorElement(r),this._activeElement=r;const h=()=>{Ce.trigger(this._element,qe,{relatedTarget:r,direction:u,from:o,to:a})};if(this._element.classList.contains("slide")){r.classList.add(d),se(r),i.classList.add(c),r.classList.add(c);const e=()=>{r.classList.remove(c,d),r.classList.add(He),i.classList.remove(He,d,c),this._isSliding=!1,setTimeout(h,0)};this._queueCallback(e,i,!0)}else i.classList.remove(He),r.classList.add(He),this._isSliding=!1,h();s&&this.cycle()}_directionToOrder(e){return[ze,Pe].includes(e)?de()?e===Pe?Ie:Me:e===Pe?Me:Ie:e}_orderToDirection(e){return[Me,Ie].includes(e)?de()?e===Ie?Pe:ze:e===Ie?ze:Pe:e}static carouselInterface(e,t){const n=Ue.getOrCreateInstance(e,t);let{_config:i}=n;"object"==typeof t&&(i={...i,...t});const o="string"==typeof t?t:i.slide;if("number"==typeof t)n.to(t);else if("string"==typeof o){if(void 0===n[o])throw new TypeError(`No method named "${o}"`);n[o]()}else i.interval&&i.ride&&(n.pause(),n.cycle())}static jQueryInterface(e){return this.each((function(){Ue.carouselInterface(this,e)}))}static dataApiClickHandler(e){const t=J(this);if(!t||!t.classList.contains("carousel"))return;const n={...Oe.getDataAttributes(t),...Oe.getDataAttributes(this)},i=this.getAttribute("data-bs-slide-to");i&&(n.interval=!1),Ue.carouselInterface(t,n),i&&Ue.getInstance(t).to(i),e.preventDefault()}}Ce.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",Ue.dataApiClickHandler),Ce.on(window,"load.bs.carousel.data-api",(()=>{const e=Le.find('[data-bs-ride="carousel"]');for(let t=0,n=e.length;t<n;t++)Ue.carouselInterface(e[t],Ue.getInstance(e[t]))})),ue(Ue);const We="collapse",Ve={toggle:!0,parent:null},Qe={toggle:"boolean",parent:"(null|element)"},Ge="show",Xe="collapse",Ke="collapsing",Ye="collapsed",Je=":scope .collapse .collapse",Ze='[data-bs-toggle="collapse"]';class et extends Se{constructor(e,t){super(e),this._isTransitioning=!1,this._config=this._getConfig(t),this._triggerArray=[];const n=Le.find(Ze);for(let e=0,t=n.length;e<t;e++){const t=n[e],i=Y(t),o=Le.find(i).filter((e=>e===this._element));null!==i&&o.length&&(this._selector=i,this._triggerArray.push(t))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ve}static get NAME(){return We}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e,t=[];if(this._config.parent){const e=Le.find(Je,this._config.parent);t=Le.find(".collapse.show, .collapse.collapsing",this._config.parent).filter((t=>!e.includes(t)))}const n=Le.findOne(this._selector);if(t.length){const i=t.find((e=>n!==e));if(e=i?et.getInstance(i):null,e&&e._isTransitioning)return}if(Ce.trigger(this._element,"show.bs.collapse").defaultPrevented)return;t.forEach((t=>{n!==t&&et.getOrCreateInstance(t,{toggle:!1}).hide(),e||Te.set(t,"bs.collapse",null)}));const i=this._getDimension();this._element.classList.remove(Xe),this._element.classList.add(Ke),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(Ke),this._element.classList.add(Xe,Ge),this._element.style[i]="",Ce.trigger(this._element,"shown.bs.collapse")}),this._element,!0),this._element.style[i]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(Ce.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,se(this._element),this._element.classList.add(Ke),this._element.classList.remove(Xe,Ge);const t=this._triggerArray.length;for(let e=0;e<t;e++){const t=this._triggerArray[e],n=J(t);n&&!this._isShown(n)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(Ke),this._element.classList.add(Xe),Ce.trigger(this._element,"hidden.bs.collapse")}),this._element,!0)}_isShown(e=this._element){return e.classList.contains(Ge)}_getConfig(e){return(e={...Ve,...Oe.getDataAttributes(this._element),...e}).toggle=Boolean(e.toggle),e.parent=te(e.parent),ne(We,e,Qe),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=Le.find(Je,this._config.parent);Le.find(Ze,this._config.parent).filter((t=>!e.includes(t))).forEach((e=>{const t=J(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}))}_addAriaAndCollapsedClass(e,t){e.length&&e.forEach((e=>{t?e.classList.remove(Ye):e.classList.add(Ye),e.setAttribute("aria-expanded",t)}))}static jQueryInterface(e){return this.each((function(){const t={};"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1);const n=et.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}}))}}Ce.on(document,"click.bs.collapse.data-api",Ze,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();const t=Y(this);Le.find(t).forEach((e=>{et.getOrCreateInstance(e,{toggle:!1}).toggle()}))})),ue(et);var tt="top",nt="bottom",it="right",ot="left",rt="auto",at=[tt,nt,it,ot],st="start",lt="end",ct="clippingParents",dt="viewport",ut="popper",ht="reference",pt=at.reduce((function(e,t){return e.concat([t+"-"+st,t+"-"+lt])}),[]),ft=[].concat(at,[rt]).reduce((function(e,t){return e.concat([t,t+"-"+st,t+"-"+lt])}),[]),mt="beforeRead",gt="read",vt="afterRead",yt="beforeMain",bt="main",_t="afterMain",wt="beforeWrite",kt="write",Ct="afterWrite",xt=[mt,gt,vt,yt,bt,_t,wt,kt,Ct];const Tt={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},o=t.elements[e];h(o)&&c(o)&&(Object.assign(o.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],o=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});h(i)&&c(i)&&(Object.assign(i.style,r),Object.keys(o).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]};var St=Math.max,Et=Math.min,$t=Math.round;const At={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,o=e.options,r=n.elements.arrow,a=n.modifiersData.popperOffsets,s=f(n.placement),l=x(s),c=[ot,it].indexOf(s)>=0?"height":"width";if(r&&a){var d=function(e,t){return S("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:E(e,at))}(o.padding,n),u=g(r),h="y"===l?tt:ot,p="y"===l?nt:it,m=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],v=a[l]-n.rects.reference[l],y=C(r),b=y?"y"===l?y.clientHeight||0:y.clientWidth||0:0,_=m/2-v/2,w=d[h],k=b-u[c]-d[p],$=b/2-u[c]/2+_,A=T(w,$,k),D=l;n.modifiersData[i]=((t={})[D]=A,t.centerOffset=A-$,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&v(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};var Dt={top:"auto",right:"auto",bottom:"auto",left:"auto"};const Ot={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,o=void 0===i||i,r=n.adaptive,a=void 0===r||r,s=n.roundOffsets,l=void 0===s||s,c={placement:f(t.placement),variation:$(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,A(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,A(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Lt={passive:!0};const Nt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,o=i.scroll,r=void 0===o||o,a=i.resize,s=void 0===a||a,l=d(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach((function(e){e.addEventListener("scroll",n.update,Lt)})),s&&l.addEventListener("resize",n.update,Lt),function(){r&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Lt)})),s&&l.removeEventListener("resize",n.update,Lt)}},data:{}};var jt={left:"right",right:"left",bottom:"top",top:"bottom"},Rt={start:"end",end:"start"};const Mt={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var o=n.mainAxis,r=void 0===o||o,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,d=n.boundary,u=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=void 0===p||p,g=n.allowedAutoPlacements,v=t.options.placement,y=f(v),b=l||(y!==v&&m?function(e){if(f(e)===rt)return[];var t=D(e);return[O(e),t,O(t)]}(v):[D(v)]),_=[v].concat(b).reduce((function(e,n){return e.concat(f(n)===rt?q(t,{placement:n,boundary:d,rootBoundary:u,padding:c,flipVariations:m,allowedAutoPlacements:g}):n)}),[]),w=t.rects.reference,k=t.rects.popper,C=new Map,x=!0,T=_[0],S=0;S<_.length;S++){var E=_[S],A=f(E),L=$(E)===st,N=[tt,nt].indexOf(A)>=0,j=N?"width":"height",R=F(t,{placement:E,boundary:d,rootBoundary:u,altBoundary:h,padding:c}),M=N?L?it:ot:L?nt:tt;w[j]>k[j]&&(M=D(M));var I=D(M),P=[];if(r&&P.push(R[A]<=0),s&&P.push(R[M]<=0,R[I]<=0),P.every((function(e){return e}))){T=E,x=!1;break}C.set(E,P)}if(x)for(var z=function(e){var t=_.find((function(t){var n=C.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return T=t,"break"},H=m?3:1;H>0&&"break"!==z(H);H--);t.placement!==T&&(t.modifiersData[i]._skip=!0,t.placement=T,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},It={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,o=t.rects.popper,r=t.modifiersData.preventOverflow,a=F(t,{elementContext:"reference"}),s=F(t,{altBoundary:!0}),l=H(a,i),c=H(s,o,r),d=B(l),u=B(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}},Pt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,o=n.offset,r=void 0===o?[0,0]:o,a=ft.reduce((function(e,n){return e[n]=function(e,t,n){var i=f(e),o=[ot,tt].indexOf(i)>=0?-1:1,r="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=r[0],s=r[1];return a=a||0,s=(s||0)*o,[ot,it].indexOf(i)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,r),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=a}},zt={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=z({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Ft={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,o=n.mainAxis,r=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,u=n.padding,h=n.tether,p=void 0===h||h,m=n.tetherOffset,v=void 0===m?0:m,y=F(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:d}),b=f(t.placement),_=$(t.placement),w=!_,k=x(b),S="x"===k?"y":"x",E=t.modifiersData.popperOffsets,A=t.rects.reference,D=t.rects.popper,O="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,L={x:0,y:0};if(E){if(r||s){var N="y"===k?tt:ot,j="y"===k?nt:it,R="y"===k?"height":"width",M=E[k],I=E[k]+y[N],P=E[k]-y[j],z=p?-D[R]/2:0,q=_===st?A[R]:D[R],H=_===st?-D[R]:-A[R],B=t.elements.arrow,U=p&&B?g(B):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=W[N],Q=W[j],G=T(0,A[R],U[R]),X=w?A[R]/2-z-G-V-O:q-G-V-O,K=w?-A[R]/2+z+G+Q+O:H+G+Q+O,Y=t.elements.arrow&&C(t.elements.arrow),J=Y?"y"===k?Y.clientTop||0:Y.clientLeft||0:0,Z=t.modifiersData.offset?t.modifiersData.offset[t.placement][k]:0,ee=E[k]+X-Z-J,te=E[k]+K-Z;if(r){var ne=T(p?Et(I,ee):I,M,p?St(P,te):P);E[k]=ne,L[k]=ne-M}if(s){var ie="x"===k?tt:ot,oe="x"===k?nt:it,re=E[S],ae=re+y[ie],se=re-y[oe],le=T(p?Et(ae,ee):ae,re,p?St(se,te):se);E[S]=le,L[S]=le-re}}t.modifiersData[i]=L}},requiresIfExists:["offset"]};var qt={placement:"bottom",modifiers:[],strategy:"absolute"},Ht=Q(),Bt=Q({defaultModifiers:[Nt,zt,Ot,Tt]}),Ut=Q({defaultModifiers:[Nt,zt,Ot,Tt,Pt,Mt,Ft,At,It]});const Wt=Object.freeze({__proto__:null,popperGenerator:Q,detectOverflow:F,createPopperBase:Ht,createPopper:Ut,createPopperLite:Bt,top:tt,bottom:nt,right:it,left:ot,auto:rt,basePlacements:at,start:st,end:lt,clippingParents:ct,viewport:dt,popper:ut,reference:ht,variationPlacements:pt,placements:ft,beforeRead:mt,read:gt,afterRead:vt,beforeMain:yt,main:bt,afterMain:_t,beforeWrite:wt,write:kt,afterWrite:Ct,modifierPhases:xt,applyStyles:Tt,arrow:At,computeStyles:Ot,eventListeners:Nt,flip:Mt,hide:It,offset:Pt,popperOffsets:zt,preventOverflow:Ft}),Vt="dropdown",Qt="Escape",Gt="Space",Xt="ArrowUp",Kt="ArrowDown",Yt=new RegExp("ArrowUp|ArrowDown|Escape"),Jt="click.bs.dropdown.data-api",Zt="keydown.bs.dropdown.data-api",en="show",tn='[data-bs-toggle="dropdown"]',nn=".dropdown-menu",on=de()?"top-end":"top-start",rn=de()?"top-start":"top-end",an=de()?"bottom-end":"bottom-start",sn=de()?"bottom-start":"bottom-end",ln=de()?"left-start":"right-start",cn=de()?"right-start":"left-start",dn={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},un={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class hn extends Se{constructor(e,t){super(e),this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return dn}static get DefaultType(){return un}static get NAME(){return Vt}toggle(){return this._isShown()?this.hide():this.show()}show(){if(oe(this._element)||this._isShown(this._menu))return;const e={relatedTarget:this._element};if(Ce.trigger(this._element,"show.bs.dropdown",e).defaultPrevented)return;const t=hn.getParentFromElement(this._element);this._inNavbar?Oe.setDataAttribute(this._menu,"popper","none"):this._createPopper(t),"ontouchstart"in document.documentElement&&!t.closest(".navbar-nav")&&[].concat(...document.body.children).forEach((e=>Ce.on(e,"mouseover",ae))),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(en),this._element.classList.add(en),Ce.trigger(this._element,"shown.bs.dropdown",e)}hide(){if(oe(this._element)||!this._isShown(this._menu))return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){Ce.trigger(this._element,"hide.bs.dropdown",e).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((e=>Ce.off(e,"mouseover",ae))),this._popper&&this._popper.destroy(),this._menu.classList.remove(en),this._element.classList.remove(en),this._element.setAttribute("aria-expanded","false"),Oe.removeDataAttribute(this._menu,"popper"),Ce.trigger(this._element,"hidden.bs.dropdown",e))}_getConfig(e){if(e={...this.constructor.Default,...Oe.getDataAttributes(this._element),...e},ne(Vt,e,this.constructor.DefaultType),"object"==typeof e.reference&&!ee(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${Vt.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(e){if(void 0===Wt)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=e:ee(this._config.reference)?t=te(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const n=this._getPopperConfig(),i=n.modifiers.find((e=>"applyStyles"===e.name&&!1===e.enabled));this._popper=Ut(t,this._menu,n),i&&Oe.setDataAttribute(this._menu,"popper","static")}_isShown(e=this._element){return e.classList.contains(en)}_getMenuElement(){return Le.next(this._element,nn)[0]}_getPlacement(){const e=this._element.parentNode;if(e.classList.contains("dropend"))return ln;if(e.classList.contains("dropstart"))return cn;const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?rn:on:t?sn:an}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:t}){const n=Le.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(ie);n.length&&fe(n,t,e===Kt,!n.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=hn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(e&&(2===e.button||"keyup"===e.type&&"Tab"!==e.key))return;const t=Le.find(tn);for(let n=0,i=t.length;n<i;n++){const i=hn.getInstance(t[n]);if(!i||!1===i._config.autoClose)continue;if(!i._isShown())continue;const o={relatedTarget:i._element};if(e){const t=e.composedPath(),n=t.includes(i._menu);if(t.includes(i._element)||"inside"===i._config.autoClose&&!n||"outside"===i._config.autoClose&&n)continue;if(i._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;"click"===e.type&&(o.clickEvent=e)}i._completeHide(o)}}static getParentFromElement(e){return J(e)||e.parentNode}static dataApiKeydownHandler(e){if(/input|textarea/i.test(e.target.tagName)?e.key===Gt||e.key!==Qt&&(e.key!==Kt&&e.key!==Xt||e.target.closest(nn)):!Yt.test(e.key))return;const t=this.classList.contains(en);if(!t&&e.key===Qt)return;if(e.preventDefault(),e.stopPropagation(),oe(this))return;const n=this.matches(tn)?this:Le.prev(this,tn)[0],i=hn.getOrCreateInstance(n);if(e.key!==Qt)return e.key===Xt||e.key===Kt?(t||i.show(),void i._selectMenuItem(e)):void(t&&e.key!==Gt||hn.clearMenus());i.hide()}}Ce.on(document,Zt,tn,hn.dataApiKeydownHandler),Ce.on(document,Zt,nn,hn.dataApiKeydownHandler),Ce.on(document,Jt,hn.clearMenus),Ce.on(document,"keyup.bs.dropdown.data-api",hn.clearMenus),Ce.on(document,Jt,tn,(function(e){e.preventDefault(),hn.getOrCreateInstance(this).toggle()})),ue(hn)
;const pn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",fn=".sticky-top";class mn{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",(t=>t+e)),this._setElementAttributes(pn,"paddingRight",(t=>t+e)),this._setElementAttributes(fn,"marginRight",(t=>t-e))}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const i=this.getWidth();this._applyManipulationCallback(e,(e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+i)return;this._saveInitialAttribute(e,t);const o=window.getComputedStyle(e)[t];e.style[t]=`${n(Number.parseFloat(o))}px`}))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(pn,"paddingRight"),this._resetElementAttributes(fn,"marginRight")}_saveInitialAttribute(e,t){const n=e.style[t];n&&Oe.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,(e=>{const n=Oe.getDataAttribute(e,t);void 0===n?e.style.removeProperty(t):(Oe.removeDataAttribute(e,t),e.style[t]=n)}))}_applyManipulationCallback(e,t){ee(e)?t(e):Le.find(e,this._element).forEach(t)}isOverflowing(){return this.getWidth()>0}}const gn={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},vn={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},yn="show",bn="mousedown.bs.backdrop";class _n{constructor(e){this._config=this._getConfig(e),this._isAppended=!1,this._element=null}show(e){this._config.isVisible?(this._append(),this._config.isAnimated&&se(this._getElement()),this._getElement().classList.add(yn),this._emulateAnimation((()=>{he(e)}))):he(e)}hide(e){this._config.isVisible?(this._getElement().classList.remove(yn),this._emulateAnimation((()=>{this.dispose(),he(e)}))):he(e)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_getConfig(e){return(e={...gn,..."object"==typeof e?e:{}}).rootElement=te(e.rootElement),ne("backdrop",e,vn),e}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),Ce.on(this._getElement(),bn,(()=>{he(this._config.clickCallback)})),this._isAppended=!0)}dispose(){this._isAppended&&(Ce.off(this._element,bn),this._element.remove(),this._isAppended=!1)}_emulateAnimation(e){pe(e,this._getElement(),this._config.isAnimated)}}const wn={trapElement:null,autofocus:!0},kn={trapElement:"element",autofocus:"boolean"},Cn=".bs.focustrap",xn="backward";class Tn{constructor(e){this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:e,autofocus:t}=this._config;this._isActive||(t&&e.focus(),Ce.off(document,Cn),Ce.on(document,"focusin.bs.focustrap",(e=>this._handleFocusin(e))),Ce.on(document,"keydown.tab.bs.focustrap",(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Ce.off(document,Cn))}_handleFocusin(e){const{target:t}=e,{trapElement:n}=this._config;if(t===document||t===n||n.contains(t))return;const i=Le.focusableChildren(n);0===i.length?n.focus():this._lastTabNavDirection===xn?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?xn:"forward")}_getConfig(e){return e={...wn,..."object"==typeof e?e:{}},ne("focustrap",e,kn),e}}const Sn="modal",En="Escape",$n={backdrop:!0,keyboard:!0,focus:!0},An={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Dn="hidden.bs.modal",On="show.bs.modal",Ln="resize.bs.modal",Nn="click.dismiss.bs.modal",jn="keydown.dismiss.bs.modal",Rn="mousedown.dismiss.bs.modal",Mn="modal-open",In="show",Pn="modal-static";class zn extends Se{constructor(e,t){super(e),this._config=this._getConfig(t),this._dialog=Le.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new mn}static get Default(){return $n}static get NAME(){return Sn}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Ce.trigger(this._element,On,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(Mn),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),Ce.on(this._dialog,Rn,(()=>{Ce.one(this._element,"mouseup.dismiss.bs.modal",(e=>{e.target===this._element&&(this._ignoreBackdropClick=!0)}))})),this._showBackdrop((()=>this._showElement(e))))}hide(){if(!this._isShown||this._isTransitioning)return;if(Ce.trigger(this._element,"hide.bs.modal").defaultPrevented)return;this._isShown=!1;const e=this._isAnimated();e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(In),Ce.off(this._element,Nn),Ce.off(this._dialog,Rn),this._queueCallback((()=>this._hideModal()),this._element,e)}dispose(){[window,this._dialog].forEach((e=>Ce.off(e,".bs.modal"))),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new _n({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Tn({trapElement:this._element})}_getConfig(e){return e={...$n,...Oe.getDataAttributes(this._element),..."object"==typeof e?e:{}},ne(Sn,e,An),e}_showElement(e){const t=this._isAnimated(),n=Le.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,n&&(n.scrollTop=0),t&&se(this._element),this._element.classList.add(In),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Ce.trigger(this._element,"shown.bs.modal",{relatedTarget:e})}),this._dialog,t)}_setEscapeEvent(){this._isShown?Ce.on(this._element,jn,(e=>{this._config.keyboard&&e.key===En?(e.preventDefault(),this.hide()):this._config.keyboard||e.key!==En||this._triggerBackdropTransition()})):Ce.off(this._element,jn)}_setResizeEvent(){this._isShown?Ce.on(window,Ln,(()=>this._adjustDialog())):Ce.off(window,Ln)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(Mn),this._resetAdjustments(),this._scrollBar.reset(),Ce.trigger(this._element,Dn)}))}_showBackdrop(e){Ce.on(this._element,Nn,(e=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:e.target===e.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())})),this._backdrop.show(e)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Ce.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const{classList:e,scrollHeight:t,style:n}=this._element,i=t>document.documentElement.clientHeight;!i&&"hidden"===n.overflowY||e.contains(Pn)||(i||(n.overflowY="hidden"),e.add(Pn),this._queueCallback((()=>{e.remove(Pn),i||this._queueCallback((()=>{n.overflowY=""}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;(!n&&e&&!de()||n&&!e&&de())&&(this._element.style.paddingLeft=`${t}px`),(n&&!e&&!de()||!n&&e&&de())&&(this._element.style.paddingRight=`${t}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const n=zn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e](t)}}))}}Ce.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',(function(e){const t=J(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),Ce.one(t,On,(e=>{e.defaultPrevented||Ce.one(t,Dn,(()=>{ie(this)&&this.focus()}))}));const n=Le.findOne(".modal.show");n&&zn.getInstance(n).hide(),zn.getOrCreateInstance(t).toggle(this)})),Ee(zn),ue(zn);const Fn="offcanvas",qn={backdrop:!0,keyboard:!0,scroll:!1},Hn={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},Bn="show",Un=".offcanvas.show",Wn="hidden.bs.offcanvas";class Vn extends Se{constructor(e,t){super(e),this._config=this._getConfig(t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return Fn}static get Default(){return qn}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||Ce.trigger(this._element,"show.bs.offcanvas",{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new mn).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Bn),this._queueCallback((()=>{this._config.scroll||this._focustrap.activate(),Ce.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:e})}),this._element,!0))}hide(){this._isShown&&(Ce.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(Bn),this._backdrop.hide(),this._queueCallback((()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new mn).reset(),Ce.trigger(this._element,Wn)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(e){return e={...qn,...Oe.getDataAttributes(this._element),..."object"==typeof e?e:{}},ne(Fn,e,Hn),e}_initializeBackDrop(){return new _n({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new Tn({trapElement:this._element})}_addEventListeners(){Ce.on(this._element,"keydown.dismiss.bs.offcanvas",(e=>{this._config.keyboard&&"Escape"===e.key&&this.hide()}))}static jQueryInterface(e){return this.each((function(){const t=Vn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}Ce.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',(function(e){const t=J(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),oe(this))return;Ce.one(t,Wn,(()=>{ie(this)&&this.focus()}));const n=Le.findOne(Un);n&&n!==t&&Vn.getInstance(n).hide(),Vn.getOrCreateInstance(t).toggle(this)})),Ce.on(window,"load.bs.offcanvas.data-api",(()=>Le.find(Un).forEach((e=>Vn.getOrCreateInstance(e).show())))),Ee(Vn),ue(Vn);const Qn=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Gn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Kn=(e,t)=>{const n=e.nodeName.toLowerCase();if(t.includes(n))return!Qn.has(n)||Boolean(Gn.test(e.nodeValue)||Xn.test(e.nodeValue));const i=t.filter((e=>e instanceof RegExp));for(let e=0,t=i.length;e<t;e++)if(i[e].test(n))return!0;return!1},Yn="tooltip",Jn=new Set(["sanitize","allowList","sanitizeFn"]),Zn={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},ei={AUTO:"auto",TOP:"top",RIGHT:de()?"left":"right",BOTTOM:"bottom",LEFT:de()?"right":"left"},ti={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},ni={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},ii="fade",oi="show",ri="show",ai="out",si=".tooltip-inner",li=".modal",ci="hide.bs.modal",di="hover",ui="focus";class hi extends Se{constructor(e,t){if(void 0===Wt)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(t),this.tip=null,this._setListeners()}static get Default(){return ti}static get NAME(){return Yn}static get Event(){return ni}static get DefaultType(){return Zn}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(e){if(this._isEnabled)if(e){const t=this._initializeOnDelegatedTarget(e);t._activeTrigger.click=!t._activeTrigger.click,t._isWithActiveTrigger()?t._enter(null,t):t._leave(null,t)}else{if(this.getTipElement().classList.contains(oi))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),Ce.off(this._element.closest(li),ci,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const e=Ce.trigger(this._element,this.constructor.Event.SHOW),t=re(this._element),n=null===t?this._element.ownerDocument.documentElement.contains(this._element):t.contains(this._element);if(e.defaultPrevented||!n)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(si).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const i=this.getTipElement(),o=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME);i.setAttribute("id",o),this._element.setAttribute("aria-describedby",o),this._config.animation&&i.classList.add(ii);const r="function"==typeof this._config.placement?this._config.placement.call(this,i,this._element):this._config.placement,a=this._getAttachment(r);this._addAttachmentClass(a);const{container:s}=this._config;Te.set(i,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(i),Ce.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=Ut(this._element,i,this._getPopperConfig(a)),i.classList.add(oi);const l=this._resolvePossibleFunction(this._config.customClass);l&&i.classList.add(...l.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((e=>{Ce.on(e,"mouseover",ae)}));const c=this.tip.classList.contains(ii);this._queueCallback((()=>{const e=this._hoverState;this._hoverState=null,Ce.trigger(this._element,this.constructor.Event.SHOWN),e===ai&&this._leave(null,this)}),this.tip,c)}hide(){if(!this._popper)return;const e=this.getTipElement();if(Ce.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;e.classList.remove(oi),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((e=>Ce.off(e,"mouseover",ae))),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;const t=this.tip.classList.contains(ii);this._queueCallback((()=>{this._isWithActiveTrigger()||(this._hoverState!==ri&&e.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),Ce.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())}),this.tip,t),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const e=document.createElement("div");e.innerHTML=this._config.template;const t=e.children[0];return this.setContent(t),t.classList.remove(ii,oi),this.tip=t,this.tip}setContent(e){this._sanitizeAndSetContent(e,this.getTitle(),si)}_sanitizeAndSetContent(e,t,n){const i=Le.findOne(n,e);t||!i?this.setElementContent(i,t):i.remove()}setElementContent(e,t){if(null!==e)return ee(t)?(t=te(t),void(this._config.html?t.parentNode!==e&&(e.innerHTML="",e.append(t)):e.textContent=t.textContent)):void(this._config.html?(this._config.sanitize&&(t=G(t,this._config.allowList,this._config.sanitizeFn)),e.innerHTML=t):e.textContent=t)}getTitle(){const e=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(e)}updateAttachment(e){return"right"===e?"end":"left"===e?"start":e}_initializeOnDelegatedTarget(e,t){return t||this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return"function"==typeof e?e.call(this._element):e}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:e=>this._handlePopperPlacementChange(e)}],onFirstUpdate:e=>{e.options.placement!==e.placement&&this._handlePopperPlacementChange(e)}};return{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_addAttachmentClass(e){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(e)}`)}_getAttachment(e){return ei[e.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach((e=>{if("click"===e)Ce.on(this._element,this.constructor.Event.CLICK,this._config.selector,(e=>this.toggle(e)));else if("manual"!==e){const t=e===di?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,n=e===di?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;Ce.on(this._element,t,this._config.selector,(e=>this._enter(e))),Ce.on(this._element,n,this._config.selector,(e=>this._leave(e)))}})),this._hideModalHandler=()=>{this._element&&this.hide()},Ce.on(this._element.closest(li),ci,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const e=this._element.getAttribute("title"),t=typeof this._element.getAttribute("data-bs-original-title");(e||"string"!==t)&&(this._element.setAttribute("data-bs-original-title",e||""),!e||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",e),this._element.setAttribute("title",""))}_enter(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusin"===e.type?ui:di]=!0),t.getTipElement().classList.contains(oi)||t._hoverState===ri?t._hoverState=ri:(clearTimeout(t._timeout),t._hoverState=ri,t._config.delay&&t._config.delay.show?t._timeout=setTimeout((()=>{t._hoverState===ri&&t.show()}),t._config.delay.show):t.show())}_leave(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusout"===e.type?ui:di]=t._element.contains(e.relatedTarget)),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState=ai,t._config.delay&&t._config.delay.hide?t._timeout=setTimeout((()=>{t._hoverState===ai&&t.hide()}),t._config.delay.hide):t.hide())}_isWithActiveTrigger(){for(const e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}_getConfig(e){const t=Oe.getDataAttributes(this._element);return Object.keys(t).forEach((e=>{Jn.has(e)&&delete t[e]})),(e={...this.constructor.Default,...t,..."object"==typeof e&&e?e:{}}).container=!1===e.container?document.body:te(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),ne(Yn,e,this.constructor.DefaultType),e.sanitize&&(e.template=G(e.template,e.allowList,e.sanitizeFn)),e}_getDelegateConfig(){const e={};for(const t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e}_cleanTipClass(){const e=this.getTipElement(),t=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),n=e.getAttribute("class").match(t);null!==n&&n.length>0&&n.map((e=>e.trim())).forEach((t=>e.classList.remove(t)))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(e){const{state:t}=e;t&&(this.tip=t.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(t.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(e){return this.each((function(){const t=hi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}ue(hi);const pi={...hi.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},fi={...hi.DefaultType,content:"(string|element|function)"},mi={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"};class gi extends hi{static get Default(){return pi}static get NAME(){return"popover"}static get Event(){return mi}static get DefaultType(){return fi}isWithContent(){return this.getTitle()||this._getContent()}setContent(e){this._sanitizeAndSetContent(e,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(e,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(e){return this.each((function(){const t=gi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}ue(gi);const vi="scrollspy",yi={offset:10,method:"auto",target:""},bi={offset:"number",method:"string",target:"(string|element)"},_i="active",wi=".nav-link, .list-group-item, .dropdown-item",ki="position";class Ci extends Se{constructor(e,t){super(e),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(t),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,Ce.on(this._scrollElement,"scroll.bs.scrollspy",(()=>this._process())),this.refresh(),this._process()}static get Default(){return yi}static get NAME(){return vi}refresh(){const e=this._scrollElement===this._scrollElement.window?"offset":ki,t="auto"===this._config.method?e:this._config.method,n=t===ki?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),Le.find(wi,this._config.target).map((e=>{const i=Y(e),o=i?Le.findOne(i):null;if(o){const e=o.getBoundingClientRect();if(e.width||e.height)return[Oe[t](o).top+n,i]}return null})).filter((e=>e)).sort(((e,t)=>e[0]-t[0])).forEach((e=>{this._offsets.push(e[0]),this._targets.push(e[1])}))}dispose(){Ce.off(this._scrollElement,".bs.scrollspy"),super.dispose()}_getConfig(e){return(e={...yi,...Oe.getDataAttributes(this._element),..."object"==typeof e&&e?e:{}}).target=te(e.target)||document.documentElement,ne(vi,e,bi),e}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){const e=this._targets[this._targets.length-1];this._activeTarget!==e&&this._activate(e)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let t=this._offsets.length;t--;)this._activeTarget!==this._targets[t]&&e>=this._offsets[t]&&(void 0===this._offsets[t+1]||e<this._offsets[t+1])&&this._activate(this._targets[t])}}_activate(e){this._activeTarget=e,this._clear();const t=wi.split(",").map((t=>`${t}[data-bs-target="${e}"],${t}[href="${e}"]`)),n=Le.findOne(t.join(","),this._config.target);n.classList.add(_i),n.classList.contains("dropdown-item")?Le.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add(_i):Le.parents(n,".nav, .list-group").forEach((e=>{Le.prev(e,".nav-link, .list-group-item").forEach((e=>e.classList.add(_i))),Le.prev(e,".nav-item").forEach((e=>{Le.children(e,".nav-link").forEach((e=>e.classList.add(_i)))}))})),Ce.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:e})}_clear(){Le.find(wi,this._config.target).filter((e=>e.classList.contains(_i))).forEach((e=>e.classList.remove(_i)))}static jQueryInterface(e){return this.each((function(){const t=Ci.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Ce.on(window,"load.bs.scrollspy.data-api",(()=>{Le.find('[data-bs-spy="scroll"]').forEach((e=>new Ci(e)))})),ue(Ci);const xi="active",Ti="fade",Si="show",Ei=".active",$i=":scope > li > .active";class Ai extends Se{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(xi))return;let e;const t=J(this._element),n=this._element.closest(".nav, .list-group");if(n){const t="UL"===n.nodeName||"OL"===n.nodeName?$i:Ei;e=Le.find(t,n),e=e[e.length-1]}const i=e?Ce.trigger(e,"hide.bs.tab",{relatedTarget:this._element}):null;if(Ce.trigger(this._element,"show.bs.tab",{relatedTarget:e}).defaultPrevented||null!==i&&i.defaultPrevented)return;this._activate(this._element,n);const o=()=>{Ce.trigger(e,"hidden.bs.tab",{relatedTarget:this._element}),Ce.trigger(this._element,"shown.bs.tab",{relatedTarget:e})};t?this._activate(t,t.parentNode,o):o()}_activate(e,t,n){const i=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?Le.children(t,Ei):Le.find($i,t))[0],o=n&&i&&i.classList.contains(Ti),r=()=>this._transitionComplete(e,i,n);i&&o?(i.classList.remove(Si),this._queueCallback(r,e,!0)):r()}_transitionComplete(e,t,n){if(t){t.classList.remove(xi);const e=Le.findOne(":scope > .dropdown-menu .active",t.parentNode);e&&e.classList.remove(xi),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)}e.classList.add(xi),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),se(e),e.classList.contains(Ti)&&e.classList.add(Si);let i=e.parentNode;if(i&&"LI"===i.nodeName&&(i=i.parentNode),i&&i.classList.contains("dropdown-menu")){const t=e.closest(".dropdown");t&&Le.find(".dropdown-toggle",t).forEach((e=>e.classList.add(xi))),e.setAttribute("aria-expanded",!0)}n&&n()}static jQueryInterface(e){return this.each((function(){const t=Ai.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Ce.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),oe(this)||Ai.getOrCreateInstance(this).show()})),ue(Ai);const Di="toast",Oi="hide",Li="show",Ni="showing",ji={animation:"boolean",autohide:"boolean",delay:"number"},Ri={animation:!0,autohide:!0,delay:5e3};class Mi extends Se{constructor(e,t){super(e),this._config=this._getConfig(t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return ji}static get Default(){return Ri}static get NAME(){return Di}show(){Ce.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Oi),se(this._element),this._element.classList.add(Li),this._element.classList.add(Ni),this._queueCallback((()=>{this._element.classList.remove(Ni),Ce.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this._element.classList.contains(Li)&&(Ce.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(Ni),this._queueCallback((()=>{this._element.classList.add(Oi),this._element.classList.remove(Ni),this._element.classList.remove(Li),Ce.trigger(this._element,"hidden.bs.toast")}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this._element.classList.contains(Li)&&this._element.classList.remove(Li),super.dispose()}_getConfig(e){return e={...Ri,...Oe.getDataAttributes(this._element),..."object"==typeof e&&e?e:{}},ne(Di,e,this.constructor.DefaultType),e}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){Ce.on(this._element,"mouseover.bs.toast",(e=>this._onInteraction(e,!0))),Ce.on(this._element,"mouseout.bs.toast",(e=>this._onInteraction(e,!1))),Ce.on(this._element,"focusin.bs.toast",(e=>this._onInteraction(e,!0))),Ce.on(this._element,"focusout.bs.toast",(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=Mi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}return Ee(Mi),ue(Mi),{Alert:$e,Button:De,Carousel:Ue,Collapse:et,Dropdown:hn,Modal:zn,Offcanvas:Vn,Popover:gi,ScrollSpy:Ci,Tab:Ai,Toast:Mi,Tooltip:hi}})),function(){"use strict";var e="initCookieConsent";"undefined"!=typeof window&&"function"!=typeof window[e]&&(window[e]=function(e){var t,n,i,o,r,a,s,l,c,d,u,h,p,f,m,g,v,y,b,_,w,k,C,x,T,S,E,$,A,D,O,L,N={mode:"opt-in",current_lang:"en",auto_language:null,autorun:!0,page_scripts:!0,hide_from_bots:!0,cookie_name:"cc_cookie",cookie_expiration:182,cookie_domain:window.location.hostname,cookie_path:"/",cookie_same_site:"Lax",use_rfc_cookie:!1,autoclear_cookies:!0,revision:0,script_selector:"data-cookiecategory"},j={},R={},M=null,I=!0,P=!1,z=!1,F=!1,q=!1,H=!1,B=!0,U=[],W=!1,V=[],Q=[],G=[],X=!1,K=[],Y=[],J=[],Z=[],ee=[],te=document.documentElement,ne=function(e){"number"==typeof(t=e).cookie_expiration&&(N.cookie_expiration=t.cookie_expiration),"number"==typeof t.cookie_necessary_only_expiration&&(N.cookie_necessary_only_expiration=t.cookie_necessary_only_expiration),"boolean"==typeof t.autorun&&(N.autorun=t.autorun),
"string"==typeof t.cookie_domain&&(N.cookie_domain=t.cookie_domain),"string"==typeof t.cookie_same_site&&(N.cookie_same_site=t.cookie_same_site),"string"==typeof t.cookie_path&&(N.cookie_path=t.cookie_path),"string"==typeof t.cookie_name&&(N.cookie_name=t.cookie_name),"function"==typeof t.onAccept&&(l=t.onAccept),"function"==typeof t.onFirstAction&&(d=t.onFirstAction),"function"==typeof t.onChange&&(c=t.onChange),"opt-out"===t.mode&&(N.mode="opt-out"),"number"==typeof t.revision&&(t.revision>-1&&(N.revision=t.revision),H=!0),"boolean"==typeof t.autoclear_cookies&&(N.autoclear_cookies=t.autoclear_cookies),!0===t.use_rfc_cookie&&(N.use_rfc_cookie=!0),"boolean"==typeof t.hide_from_bots&&(N.hide_from_bots=t.hide_from_bots),N.hide_from_bots&&(X=navigator&&(navigator.userAgent&&/bot|crawl|spider|slurp|teoma/i.test(navigator.userAgent)||navigator.webdriver)),N.page_scripts=!0===t.page_scripts,"browser"===t.auto_language||!0===t.auto_language?N.auto_language="browser":"document"===t.auto_language&&(N.auto_language="document"),N.auto_language,N.current_lang=de(t.languages,t.current_lang)},ie=function(e){function t(t){return(e||document).querySelectorAll('a[data-cc="'+t+'"], button[data-cc="'+t+'"]')}function n(e,t){e.preventDefault(),j.accept(t),j.hideSettings(),j.hide()}for(var i="accept-",o=t("c-settings"),r=t(i+"all"),a=t(i+"necessary"),s=t(i+"custom"),l=0;l<o.length;l++)o[l].setAttribute("aria-haspopup","dialog"),ye(o[l],"click",(function(e){e.preventDefault(),j.showSettings(0)}));for(l=0;l<r.length;l++)ye(r[l],"click",(function(e){n(e,"all")}));for(l=0;l<s.length;l++)ye(s[l],"click",(function(e){n(e)}));for(l=0;l<a.length;l++)ye(a[l],"click",(function(e){n(e,[])}))},oe=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)?e:be(t).length>0?Object.prototype.hasOwnProperty.call(t,N.current_lang)?N.current_lang:be(t)[0]:void 0},re=function(e){if(!0===t.force_consent&&_e(te,"force--consent"),!g){g=ce("div");var n=ce("div"),i=ce("div");g.id="cm",n.id="c-inr-i",i.id="cm-ov",g.setAttribute("role","dialog"),g.setAttribute("aria-modal","true"),g.setAttribute("aria-hidden","false"),g.setAttribute("aria-labelledby","c-ttl"),g.setAttribute("aria-describedby","c-txt"),m.appendChild(g),m.appendChild(i),g.style.visibility=i.style.visibility="hidden",i.style.opacity=0}var o=t.languages[e].consent_modal.title;o&&(v||((v=ce("div")).id="c-ttl",v.setAttribute("role","heading"),v.setAttribute("aria-level","2"),n.appendChild(v)),v.innerHTML=o);var r=t.languages[e].consent_modal.description;H&&(r=B?r.replace("{{revision_message}}",""):r.replace("{{revision_message}}",t.languages[e].consent_modal.revision_message||"")),y||((y=ce("div")).id="c-txt",n.appendChild(y)),y.innerHTML=r;var a,s=t.languages[e].consent_modal.primary_btn,l=t.languages[e].consent_modal.secondary_btn;s&&(b||((b=ce("button")).id="c-p-bn",b.className="c-bn","accept_all"===s.role&&(a="all"),ye(b,"click",(function(){j.hide(),j.accept(a)}))),b.innerHTML=t.languages[e].consent_modal.primary_btn.text),l&&(_||((_=ce("button")).id="c-s-bn",_.className="c-bn c_link","accept_necessary"===l.role?ye(_,"click",(function(){j.hide(),j.accept([])})):ye(_,"click",(function(){j.showSettings(0)}))),_.innerHTML=t.languages[e].consent_modal.secondary_btn.text);var c=t.gui_options;k||((k=ce("div")).id="c-inr",k.appendChild(n)),w||((w=ce("div")).id="c-bns",c&&c.consent_modal&&!0===c.consent_modal.swap_buttons?(l&&w.appendChild(_),s&&w.appendChild(b),w.className="swap"):(s&&w.appendChild(b),l&&w.appendChild(_)),(s||l)&&k.appendChild(w),g.appendChild(k)),P=!0,ie(k)},ae=function(e){if(C)($=ce("div")).id="s-bl";else{C=ce("div");var n=ce("div"),i=ce("div"),o=ce("div");x=ce("div"),T=ce("div");var r=ce("div");S=ce("button");var l=ce("div");E=ce("div");var c=ce("div");C.id="s-cnt",n.id="c-vln",o.id="c-s-in",i.id="cs",T.id="s-ttl",x.id="s-inr",r.id="s-hdr",E.id="s-bl",S.id="s-c-bn",c.id="cs-ov",l.id="s-c-bnc",S.className="c-bn",C.setAttribute("role","dialog"),C.setAttribute("aria-modal","true"),C.setAttribute("aria-hidden","true"),C.setAttribute("aria-labelledby","s-ttl"),T.setAttribute("role","heading"),C.style.visibility=c.style.visibility="hidden",c.style.opacity=0,l.appendChild(S),ye(n,"keydown",(function(e){27===(e=e||window.event).keyCode&&j.hideSettings(0)}),!0),ye(S,"click",(function(){j.hideSettings(0)}))}S.setAttribute("aria-label",t.languages[e].settings_modal.close_btn_label||"Close"),s=t.languages[e].settings_modal.blocks,a=t.languages[e].settings_modal.cookie_table_headers;var d=s.length;T.innerHTML=t.languages[e].settings_modal.title;for(var u=0;u<d;++u){var h=s[u].title,p=s[u].description,f=s[u].toggle,g=s[u].cookie_table,v=!0===t.remove_cookie_tables,y=(p||!v&&g)&&"truthy",b=ce("div"),_=ce("div");if(p){var w=ce("div");w.className="p",w.insertAdjacentHTML("beforeend",p)}var k=ce("div");if(k.className="title",b.className="c-bl",_.className="desc",void 0!==f){var N="c-ac-"+u,M=ce(y?"button":"div"),P=ce("label"),z=ce("input"),F=ce("span"),q=ce("span"),H=ce("span"),B=ce("span");M.className=y?"b-tl exp":"b-tl",P.className="b-tg",z.className="c-tgl",H.className="on-i",B.className="off-i",F.className="c-tg",q.className="t-lb",y&&(M.setAttribute("aria-expanded","false"),M.setAttribute("aria-controls",N)),z.type="checkbox",F.setAttribute("aria-hidden","true");var U=f.value;z.value=U,q.textContent=h,M.insertAdjacentHTML("beforeend",h),k.appendChild(M),F.appendChild(H),F.appendChild(B),I?f.enabled?(z.checked=!0,!$&&J.push(!0),f.enabled&&!$&&G.push(U)):!$&&J.push(!1):le(R.categories,U)>-1?(z.checked=!0,!$&&J.push(!0)):!$&&J.push(!1),!$&&Z.push(U),f.readonly?(z.disabled=!0,_e(F,"c-ro"),!$&&ee.push(!0)):!$&&ee.push(!1),_e(_,"b-acc"),_e(k,"b-bn"),_e(b,"b-ex"),_.id=N,_.setAttribute("aria-hidden","true"),P.appendChild(z),P.appendChild(F),P.appendChild(q),k.appendChild(P),y&&function(e,t,n){ye(M,"click",(function(){ke(t,"act")?(we(t,"act"),n.setAttribute("aria-expanded","false"),e.setAttribute("aria-hidden","true")):(_e(t,"act"),n.setAttribute("aria-expanded","true"),e.setAttribute("aria-hidden","false"))}),!1)}(_,b,M)}else if(h){var W=ce("div");W.className="b-tl",W.setAttribute("role","heading"),W.setAttribute("aria-level","3"),W.insertAdjacentHTML("beforeend",h),k.appendChild(W)}if(h&&b.appendChild(k),p&&_.appendChild(w),!v&&void 0!==g){for(var V=document.createDocumentFragment(),Q=0;Q<a.length;++Q){var X=ce("th"),K=a[Q];if(X.setAttribute("scope","col"),K){var Y=K&&be(K)[0];X.textContent=a[Q][Y],V.appendChild(X)}}var te=ce("tr");te.appendChild(V);var ne=ce("thead");ne.appendChild(te);var ie=ce("table");ie.appendChild(ne);for(var oe=document.createDocumentFragment(),re=0;re<g.length;re++){for(var ae=ce("tr"),se=0;se<a.length;++se)if(K=a[se]){Y=be(K)[0];var de=ce("td");de.insertAdjacentHTML("beforeend",g[re][Y]),de.setAttribute("data-column",K[Y]),ae.appendChild(de)}oe.appendChild(ae)}var ue=ce("tbody");ue.appendChild(oe),ie.appendChild(ue),_.appendChild(ie)}(f&&h||!f&&(h||p))&&(b.appendChild(_),$?$.appendChild(b):E.appendChild(b))}A||((A=ce("div")).id="s-bns"),O||((O=ce("button")).id="s-all-bn",O.className="c-bn",A.appendChild(O),ye(O,"click",(function(){j.hideSettings(),j.hide(),j.accept("all")}))),O.innerHTML=t.languages[e].settings_modal.accept_all_btn;var he=t.languages[e].settings_modal.reject_all_btn;if(he&&(L||((L=ce("button")).id="s-rall-bn",L.className="c-bn",ye(L,"click",(function(){j.hideSettings(),j.hide(),j.accept([])})),x.className="bns-t",A.appendChild(L)),L.innerHTML=he),D||((D=ce("button")).id="s-sv-bn",D.className="c-bn",A.appendChild(D),ye(D,"click",(function(){j.hideSettings(),j.hide(),j.accept()}))),D.innerHTML=t.languages[e].settings_modal.save_settings_btn,$)return x.replaceChild($,E),void(E=$);r.appendChild(T),r.appendChild(l),x.appendChild(r),x.appendChild(E),x.appendChild(A),o.appendChild(x),i.appendChild(o),n.appendChild(i),C.appendChild(n),m.appendChild(C),m.appendChild(c)};j.updateLanguage=function(e,n){if("string"==typeof e){var i=oe(e,t.languages);return(i!==N.current_lang||!0===n)&&(N.current_lang=i,P&&re(i),ae(i),!0)}};var se=function(e){var t=s.length,n=-1;W=!1;var i=ge("","all"),o=[N.cookie_domain,"."+N.cookie_domain];if("www."===N.cookie_domain.slice(0,4)){var r=N.cookie_domain.substr(4);o.push(r),o.push("."+r)}for(var l=0;l<t;l++){var c=s[l];if(Object.prototype.hasOwnProperty.call(c,"toggle")){var d=le(U,c.toggle.value)>-1;if(!J[++n]&&Object.prototype.hasOwnProperty.call(c,"cookie_table")&&(e||d)){var u=c.cookie_table,h=be(a[0])[0],p=u.length;"on_disable"===c.toggle.reload&&d&&(W=!0);for(var f=0;f<p;f++){var m=o,g=u[f],v=[],y=g[h],b=g.is_regex||!1,_=g.domain||null,w=g.path||!1;if(_&&(m=[_,"."+_]),b)for(var k=0;k<i.length;k++)i[k].match(y)&&v.push(i[k]);else{var C=le(i,y);C>-1&&v.push(i[C])}v.length>0&&(ve(v,w,m),"on_clear"===c.toggle.reload&&(W=!0))}}}}},le=function(e,t){return e.indexOf(t)},ce=function(e){var t=document.createElement(e);return"button"===e&&t.setAttribute("type",e),t},de=function(e,t){return"browser"===N.auto_language?oe(ue(),e):"document"===N.auto_language?oe(document.documentElement.lang,e):"string"==typeof t?N.current_lang=oe(t,e):(N.current_lang,N.current_lang)},ue=function(){var e=navigator.language||navigator.browserLanguage;return e.length>2&&(e=e[0]+e[1]),e.toLowerCase()};j.allowedCategory=function(e){if(I&&"opt-in"!==N.mode)t=G;else var t=JSON.parse(ge(N.cookie_name,"one",!0)||"{}").categories||[];return le(t,e)>-1},j.run=function(t){if(!document.getElementById("cc_div")){if(ne(t),X)return;R=JSON.parse(ge(N.cookie_name,"one",!0)||"{}");var a=void 0!==(o=R.consent_uuid);if((n=R.consent_date)&&(n=new Date(n)),(i=R.last_consent_update)&&(i=new Date(i)),M=void 0!==R.data?R.data:null,H&&R.revision!==N.revision&&(B=!1),P=I=!(a&&B&&n&&i&&o),function(){(f=ce("div")).id="cc--main",f.style.position="fixed",f.style.zIndex="2147483647",f.innerHTML='<!--[if lt IE 9 ]><div id="cc_div" class="cc_div ie"></div><![endif]--><!--[if (gt IE 8)|!(IE)]><!--><div id="cc_div" class="cc_div"></div><!--<![endif]-->',m=f.children[0];var t=N.current_lang;P&&re(t),ae(t),(e||document.body).appendChild(f)}(),function(){function e(e,n){var i=!1,o=!1;try{for(var r,a=e.querySelectorAll(t.join(':not([tabindex="-1"]), ')),s=a.length,l=0;l<s;)r=a[l].getAttribute("data-focus"),o||"1"!==r?"0"===r&&(i=a[l],o||"0"===a[l+1].getAttribute("data-focus")||(o=a[l+1])):o=a[l],l++}catch(n){return e.querySelectorAll(t.join(", "))}n[0]=a[0],n[1]=a[a.length-1],n[2]=i,n[3]=o}var t=["[href]","button","input","details",'[tabindex="0"]'];e(x,Y),P&&e(g,K)}(),function(e){function t(e,t,n,i,o,r,a){if(r=r&&r.split(" ")||[],le(t,o)>-1&&(_e(e,o),("bar"!==o||"middle"!==r[0])&&le(n,r[0])>-1))for(var s=0;s<r.length;s++)_e(e,r[s]);le(i,a)>-1&&_e(e,a)}if("object"==typeof e){var n=e.consent_modal,i=e.settings_modal;P&&n&&t(g,["box","bar","cloud"],["top","middle","bottom"],["zoom","slide"],n.layout,n.position,n.transition),i&&t(C,["bar"],["left","right"],["zoom","slide"],i.layout,i.position,i.transition)}}(t.gui_options),ie(),N.autorun&&P&&j.show(t.delay||0),setTimeout((function(){_e(f,"c--anim")}),30),setTimeout((function(){var e,t;e=!1,t=!1,ye(document,"keydown",(function(n){"Tab"===(n=n||window.event).key&&(r&&(n.shiftKey?document.activeElement===r[0]&&(r[1].focus(),n.preventDefault()):document.activeElement===r[1]&&(r[0].focus(),n.preventDefault()),t||q||(t=!0,!e&&n.preventDefault(),n.shiftKey?r[3]?r[2]?r[2].focus():r[0].focus():r[1].focus():r[3]?r[3].focus():r[0].focus())),!t&&(e=!0))})),document.contains&&ye(f,"click",(function(e){e=e||window.event,F?x.contains(e.target)?q=!0:(j.hideSettings(0),q=!1):z&&g.contains(e.target)&&(q=!0)}),!0)}),100),I)"opt-out"===N.mode&&(N.mode,he(G));else{var s="boolean"==typeof R.rfc_cookie;(!s||s&&R.rfc_cookie!==N.use_rfc_cookie)&&(R.rfc_cookie=N.use_rfc_cookie,me(N.cookie_name,JSON.stringify(R))),u=fe(pe()),he(),"function"==typeof l&&l(R)}}},j.showSettings=function(e){setTimeout((function(){_e(te,"show--settings"),C.setAttribute("aria-hidden","false"),F=!0,setTimeout((function(){z?p=document.activeElement:h=document.activeElement,0!==Y.length&&(Y[3]?Y[3].focus():Y[0].focus(),r=Y)}),200)}),e>0?e:0)};var he=function(e){if(N.page_scripts){var t=document.querySelectorAll("script["+N.script_selector+"]"),n=e||R.categories||[],i=function(e,t){if(t<e.length){var o=e[t],r=o.getAttribute(N.script_selector);if(le(n,r)>-1){o.type="text/javascript",o.removeAttribute(N.script_selector);var a=o.getAttribute("data-src");a&&o.removeAttribute("data-src");var s=ce("script");if(s.textContent=o.innerHTML,function(e,t){for(var n=t.attributes,i=n.length,o=0;o<i;o++){var r=n[o].nodeName;e.setAttribute(r,t[r]||t.getAttribute(r))}}(s,o),a?s.src=a:a=o.src,a&&(s.readyState?s.onreadystatechange=function(){"loaded"!==s.readyState&&"complete"!==s.readyState||(s.onreadystatechange=null,i(e,++t))}:s.onload=function(){s.onload=null,i(e,++t)}),o.parentNode.replaceChild(s,o),a)return}i(e,++t)}};i(t,0)}};j.set=function(e,t){return"data"===e&&function(e,t){var n=!1;if("update"===t){var i=typeof(M=j.get("data"))==typeof e;if(i&&"object"==typeof M)for(var o in!M&&(M={}),e)M[o]!==e[o]&&(M[o]=e[o],n=!0);else!i&&M||M===e||(M=e,n=!0)}else M=e,n=!0;return n&&(R.data=M,me(N.cookie_name,JSON.stringify(R))),n}(t.value,t.mode)},j.get=function(e,t){return JSON.parse(ge(t||N.cookie_name,"one",!0)||"{}")[e]},j.getConfig=function(e){return N[e]||t[e]};var pe=function(){return V=R.categories||[],Q=Z.filter((function(e){return-1===le(V,e)})),{accepted:V,rejected:Q}},fe=function(e){var t="custom",n=ee.filter((function(e){return!0===e})).length;return e.accepted.length===Z.length?t="all":e.accepted.length===n&&(t="necessary"),t};j.getUserPreferences=function(){var e=pe();return{accept_type:fe(e),accepted_categories:e.accepted,rejected_categories:e.rejected}},j.loadScript=function(e,t,n){var i="function"==typeof t;if(document.querySelector('script[src="'+e+'"]'))i&&t();else{var o=ce("script");if(n&&n.length>0)for(var r=0;r<n.length;++r)n[r]&&o.setAttribute(n[r].name,n[r].value);i&&(o.onload=t),o.src=e,document.head.appendChild(o)}},j.updateScripts=function(){he()},j.show=function(e,t){!0===t&&re(N.current_lang),P&&setTimeout((function(){_e(te,"show--consent"),g.setAttribute("aria-hidden","false"),z=!0,setTimeout((function(){h=document.activeElement,r=K}),200)}),e>0?e:t?30:0)},j.hide=function(){P&&(we(te,"show--consent"),g.setAttribute("aria-hidden","true"),z=!1,setTimeout((function(){h.focus(),r=null}),200))},j.hideSettings=function(){we(te,"show--settings"),F=!1,C.setAttribute("aria-hidden","true"),setTimeout((function(){z?(p&&p.focus(),r=K):(h&&h.focus(),r=null),q=!1}),200)},j.accept=function(e,t){var r=e||void 0,a=t||[],s=[];if(r)if("object"==typeof r&&"number"==typeof r.length)for(var h=0;h<r.length;h++)-1!==le(Z,r[h])&&s.push(r[h]);else"string"==typeof r&&("all"===r?s=Z.slice():-1!==le(Z,r)&&s.push(r));else s=function(){for(var e=document.querySelectorAll(".c-tgl")||[],t=[],n=0;n<e.length;n++)e[n].checked&&t.push(e[n].value);return t}();if(a.length>=1)for(h=0;h<a.length;h++)s=s.filter((function(e){return e!==a[h]}));for(h=0;h<Z.length;h++)!0===ee[h]&&-1===le(s,Z[h])&&s.push(Z[h]);!function(e){U=[];var t=document.querySelectorAll(".c-tgl")||[];if(t.length>0)for(var r=0;r<t.length;r++)-1!==le(e,Z[r])?(t[r].checked=!0,J[r]||(U.push(Z[r]),J[r]=!0)):(t[r].checked=!1,J[r]&&(U.push(Z[r]),J[r]=!1));!I&&N.autoclear_cookies&&U.length>0&&se(),n||(n=new Date),o||(o=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){try{return(e^(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}catch(e){return""}}))),R={categories:e,level:e,revision:N.revision,data:M,rfc_cookie:N.use_rfc_cookie,consent_date:n.toISOString(),consent_uuid:o},(I||U.length>0)&&(B=!0,i=i?new Date:n,R.last_consent_update=i.toISOString(),u=fe(pe()),me(N.cookie_name,JSON.stringify(R)),he()),I&&(N.autoclear_cookies&&se(!0),"function"==typeof d&&d(j.getUserPreferences(),R),"function"==typeof l&&l(R),I=!1,"opt-in"===N.mode)||("function"==typeof c&&U.length>0&&c(R,U),W&&window.location.reload())}(s)},j.eraseCookies=function(e,t,n){var i=[],o=n?[n,"."+n]:[N.cookie_domain,"."+N.cookie_domain];if("object"==typeof e&&e.length>0)for(var r=0;r<e.length;r++)this.validCookie(e[r])&&i.push(e[r]);else this.validCookie(e)&&i.push(e);ve(i,t,o)};var me=function(e,t){var n=N.cookie_expiration;"number"==typeof N.cookie_necessary_only_expiration&&"necessary"===u&&(n=N.cookie_necessary_only_expiration),t=N.use_rfc_cookie?encodeURIComponent(t):t;var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var o=e+"="+(t||"")+"; expires="+i.toUTCString()+"; Path="+N.cookie_path+";";o+=" SameSite="+N.cookie_same_site+";",window.location.hostname.indexOf(".")>-1&&(o+=" Domain="+N.cookie_domain+";"),"https:"===window.location.protocol&&(o+=" Secure;"),document.cookie=o},ge=function(e,t,n){var i;if("one"===t){if((i=(i=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)"))?n?i.pop():e:"")&&e===N.cookie_name){try{i=JSON.parse(i)}catch(e){try{i=JSON.parse(decodeURIComponent(i))}catch(e){i={}}}i=JSON.stringify(i)}}else if("all"===t){var o=document.cookie.split(/;\s*/);i=[];for(var r=0;r<o.length;r++)i.push(o[r].split("=")[0])}return i},ve=function(e,t,n){for(var i=t||"/",o=0;o<e.length;o++){for(var r=0;r<n.length;r++)document.cookie=e[o]+"=; path="+i+(0==n[r].indexOf(".")?"; domain="+n[r]:"")+"; Expires=Thu, 01 Jan 1970 00:00:01 GMT;";e[o]}};j.validCookie=function(e){return""!==ge(e,"one",!0)};var ye=function(e,t,n,i){e.addEventListener(t,n,!0===i&&{passive:!0})},be=function(e){if("object"==typeof e)return Object.keys(e)},_e=function(e,t){e.classList.add(t)},we=function(e,t){e.classList.remove(t)},ke=function(e,t){return e.classList.contains(t)};return j})}(),function(e){var t;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var n=window.Cookies,i=window.Cookies=e();i.noConflict=function(){return window.Cookies=n,i}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function o(){}function r(t,n,r){if("undefined"!=typeof document){"number"==typeof(r=e({path:"/"},o.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in r)r[l]&&(s+="; "+l,!0!==r[l]&&(s+="="+r[l].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var o={},r=document.cookie?document.cookie.split("; "):[],a=0;a<r.length;a++){var s=r[a].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]);if(l=(i.read||i)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(o[c]=l,e===c)break}catch(e){}}return e?o[e]:o}}return o.set=r,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){r(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))})),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):e.Selectize=t(e.jQuery)}(this,(function(e){"use strict";function t(e,t){return navigator.userAgentData?e===navigator.userAgentData.platform:t.test(navigator.userAgent)}var n=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,i=function(e){var t=0;if(3===e.nodeType){var o=e.data.search(n);if(o>=0&&e.data.length>0){var r=e.data.match(n),a=document.createElement("span");a.className="highlight";var s=e.splitText(o),l=(s.splitText(r[0].length),s.cloneNode(!0));a.appendChild(l),s.parentNode.replaceChild(a,s),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&("highlight"!==e.className||"SPAN"!==e.tagName))for(var c=0;c<e.childNodes.length;++c)c+=i(e.childNodes[c]);return t};return e.each((function(){i(this)}))}};e.fn.removeHighlight=function(){return this.find("span.highlight").each((function(){this.parentNode.firstChild.nodeName;var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()})).end()};var i=function(){};i.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){const t=this._events=this._events||{};if(e in t!=!1)for(var n=0;n<t[e].length;n++)t[e][n].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=i.prototype[t[n]]};var o={mixin:function(e){e.plugins={},e.prototype.initializePlugins=function(e){var t,n,i,o=this,a=[];if(o.plugins={names:[],settings:{},requested:{},loaded:{}},r.isArray(e))for(t=0,n=e.length;t<n;t++)"string"==typeof e[t]?a.push(e[t]):(o.plugins.settings[e[t].name]=e[t].options,a.push(e[t].name));else if(e)for(i in e)e.hasOwnProperty(i)&&(o.plugins.settings[i]=e[i],a.push(i));for(;a.length;)o.require(a.shift())},e.prototype.loadPlugin=function(t){var n=this,i=n.plugins,o=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');i.requested[t]=!0,i.loaded[t]=o.fn.apply(n,[n.plugins.settings[t]||{}]),i.names.push(t)},e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}}},r={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},a=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};a.prototype.tokenize=function(e,t){if(!(e=d(String(e||"").toLowerCase()))||!e.length)return[];var n,i,o,r,a=[],s=e.split(/ +/);for(n=0,i=s.length;n<i;n++){if(o=u(s[n]),this.settings.diacritics)for(r in p)p.hasOwnProperty(r)&&(o=o.replace(new RegExp(r,"g"),p[r]));t&&(o="\\b"+o),a.push({string:s[n],regex:new RegExp(o,"i")})}return a},a.prototype.iterator=function(e,t){var n;n=h(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)},n.apply(e,[t])},a.prototype.getScoreFunction=function(e,t){var n,i,o,r;e=this.prepareSearch(e,t),i=e.tokens,n=e.options.fields,o=i.length,r=e.options.nesting;var a,s=function(e,t){var n,i;return e?-1===(i=(e=String(e||"")).search(t.regex))?0:(n=t.string.length/e.length,0===i&&(n+=.5),n):0},l=(a=n.length)?1===a?function(e,t){return s(c(t,n[0],r),e)}:function(e,t){for(var i=0,o=0;i<a;i++)o+=s(c(t,n[i],r),e);return o/a}:function(){return 0};return o?1===o?function(e){return l(i[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,r=0;n<o;n++){if((t=l(i[n],e))<=0)return 0;r+=t}return r/o}:function(e){for(var t=0,n=0;t<o;t++)n+=l(i[t],e);return n/o}:function(){return 0}},a.prototype.getSortFunction=function(e,t){var n,i,o,r,a,l,d,u,h,p,f;if(f=!(e=(o=this).prepareSearch(e,t)).query&&t.sort_empty||t.sort,h=function(e,n){return"$score"===e?n.score:c(o.items[n.id],e,t.nesting)},a=[],f)for(n=0,i=f.length;n<i;n++)(e.query||"$score"!==f[n].field)&&a.push(f[n]);if(e.query){for(p=!0,n=0,i=a.length;n<i;n++)if("$score"===a[n].field){p=!1;break}p&&a.unshift({field:"$score",direction:"desc"})}else for(n=0,i=a.length;n<i;n++)if("$score"===a[n].field){a.splice(n,1);break}for(u=[],n=0,i=a.length;n<i;n++)u.push("desc"===a[n].direction?-1:1);return(l=a.length)?1===l?(r=a[0].field,d=u[0],function(e,t){return d*s(h(r,e),h(r,t))}):function(e,t){var n,i,o;for(n=0;n<l;n++)if(o=a[n].field,i=u[n]*s(h(o,e),h(o,t)))return i;return 0}:null},a.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var n=(t=l({},t)).fields,i=t.sort,o=t.sort_empty;return n&&!h(n)&&(t.fields=[n]),i&&!h(i)&&(t.sort=[i]),o&&!h(o)&&(t.sort_empty=[o]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e,t.respect_word_boundaries),total:0,items:[]}},a.prototype.search=function(e,t){var n,i,o,r,a=this;return i=this.prepareSearch(e,t),t=i.options,e=i.query,r=t.score||a.getScoreFunction(i),e.length?a.iterator(a.items,(function(e,o){n=r(e),(!1===t.filter||n>0)&&i.items.push({score:n,id:o})})):a.iterator(a.items,(function(e,t){i.items.push({score:1,id:t})})),(o=a.getSortFunction(i,t))&&i.items.sort(o),i.total=i.items.length,"number"==typeof t.limit&&(i.items=i.items.slice(0,t.limit)),i};var s=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=f(String(e||"")))>(t=f(String(t||"")))?1:t>e?-1:0},l=function(e){var t,n,i,o;for(t=1,n=arguments.length;t<n;t++)if(o=arguments[t])for(i in o)o.hasOwnProperty(i)&&(e[i]=o[i]);return e},c=function(e,t,n){if(e&&t){if(!n)return e[t];for(var i=t.split(".");i.length&&(e=e[i.shift()]););return e}},d=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},u=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},h=Array.isArray||void 0!==e&&e.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},p={a:"[a\u1e00\u1e01\u0102\u0103\xc2\xe2\u01cd\u01ce\u023a\u2c65\u0226\u0227\u1ea0\u1ea1\xc4\xe4\xc0\xe0\xc1\xe1\u0100\u0101\xc3\xe3\xc5\xe5\u0105\u0104\xc3\u0105\u0104]",b:"[b\u2422\u03b2\u0392B\u0e3f\ud800\udf01\u16d2]",c:"[c\u0106\u0107\u0108\u0109\u010c\u010d\u010a\u010bC\u0304c\u0304\xc7\xe7\u1e08\u1e09\u023b\u023c\u0187\u0188\u0255\u1d04\uff23\uff43]",d:"[d\u010e\u010f\u1e0a\u1e0b\u1e10\u1e11\u1e0c\u1e0d\u1e12\u1e13\u1e0e\u1e0f\u0110\u0111D\u0326d\u0326\u0189\u0256\u018a\u0257\u018b\u018c\u1d6d\u1d81\u1d91\u0221\u1d05\uff24\uff44\xf0]",e:"[e\xc9\xe9\xc8\xe8\xca\xea\u1e18\u1e19\u011a\u011b\u0114\u0115\u1ebc\u1ebd\u1e1a\u1e1b\u1eba\u1ebb\u0116\u0117\xcb\xeb\u0112\u0113\u0228\u0229\u0118\u0119\u1d92\u0246\u0247\u0204\u0205\u1ebe\u1ebf\u1ec0\u1ec1\u1ec4\u1ec5\u1ec2\u1ec3\u1e1c\u1e1d\u1e16\u1e17\u1e14\u1e15\u0206\u0207\u1eb8\u1eb9\u1ec6\u1ec7\u2c78\u1d07\uff25\uff45\u0258\u01dd\u018f\u0190\u03b5]",f:"[f\u0191\u0192\u1e1e\u1e1f]",g:"[g\u0262\u20b2\u01e4\u01e5\u011c\u011d\u011e\u011f\u0122\u0123\u0193\u0260\u0120\u0121]",h:"[h\u0124\u0125\u0126\u0127\u1e28\u1e29\u1e96\u1e96\u1e24\u1e25\u1e22\u1e23\u0266\u02b0\u01f6\u0195]",i:"[i\xcd\xed\xcc\xec\u012c\u012d\xce\xee\u01cf\u01d0\xcf\xef\u1e2e\u1e2f\u0128\u0129\u012e\u012f\u012a\u012b\u1ec8\u1ec9\u0208\u0209\u020a\u020b\u1eca\u1ecb\u1e2c\u1e2d\u0197\u0268\u0268\u0306\u1d7b\u1d96\u0130iI\u0131\u026a\uff29\uff49]",j:"[j\u0237\u0134\u0135\u0248\u0249\u029d\u025f\u02b2]",k:"[k\u0198\u0199\ua740\ua741\u1e30\u1e31\u01e8\u01e9\u1e32\u1e33\u1e34\u1e35\u03ba\u03f0\u20ad]",l:"[l\u0141\u0142\u013d\u013e\u013b\u013c\u0139\u013a\u1e36\u1e37\u1e38\u1e39\u1e3c\u1e3d\u1e3a\u1e3b\u013f\u0140\u023d\u019a\u2c60\u2c61\u2c62\u026b\u026c\u1d85\u026d\u0234\u029f\uff2c\uff4c]",n:"[n\u0143\u0144\u01f8\u01f9\u0147\u0148\xd1\xf1\u1e44\u1e45\u0145\u0146\u1e46\u1e47\u1e4a\u1e4b\u1e48\u1e49N\u0308n\u0308\u019d\u0272\u0220\u019e\u1d70\u1d87\u0273\u0235\u0274\uff2e\uff4e\u014a\u014b]",o:"[o\xd8\xf8\xd6\xf6\xd3\xf3\xd2\xf2\xd4\xf4\u01d1\u01d2\u0150\u0151\u014e\u014f\u022e\u022f\u1ecc\u1ecd\u019f\u0275\u01a0\u01a1\u1ece\u1ecf\u014c\u014d\xd5\xf5\u01ea\u01eb\u020c\u020d\u0555\u0585]",p:"[p\u1e54\u1e55\u1e56\u1e57\u2c63\u1d7d\u01a4\u01a5\u1d71]",q:"[q\ua756\ua757\u02a0\u024a\u024b\ua758\ua759q\u0303]",r:"[r\u0154\u0155\u024c\u024d\u0158\u0159\u0156\u0157\u1e58\u1e59\u0210\u0211\u0212\u0213\u1e5a\u1e5b\u2c64\u027d]",s:"[s\u015a\u015b\u1e60\u1e61\u1e62\u1e63\ua7a8\ua7a9\u015c\u015d\u0160\u0161\u015e\u015f\u0218\u0219S\u0308s\u0308]",t:"[t\u0164\u0165\u1e6a\u1e6b\u0162\u0163\u1e6c\u1e6d\u01ae\u0288\u021a\u021b\u1e70\u1e71\u1e6e\u1e6f\u01ac\u01ad]",u:"[u\u016c\u016d\u0244\u0289\u1ee4\u1ee5\xdc\xfc\xda\xfa\xd9\xf9\xdb\xfb\u01d3\u01d4\u0170\u0171\u016c\u016d\u01af\u01b0\u1ee6\u1ee7\u016a\u016b\u0168\u0169\u0172\u0173\u0214\u0215\u222a]",v:"[v\u1e7c\u1e7d\u1e7e\u1e7f\u01b2\u028b\ua75e\ua75f\u2c71\u028b]",w:"[w\u1e82\u1e83\u1e80\u1e81\u0174\u0175\u1e84\u1e85\u1e86\u1e87\u1e88\u1e89]",x:"[x\u1e8c\u1e8d\u1e8a\u1e8b\u03c7]",y:"[y\xdd\xfd\u1ef2\u1ef3\u0176\u0177\u0178\xff\u1ef8\u1ef9\u1e8e\u1e8f\u1ef4\u1ef5\u024e\u024f\u01b3\u01b4]",z:"[z\u0179\u017a\u1e90\u1e91\u017d\u017e\u017b\u017c\u1e92\u1e93\u1e94\u1e95\u01b5\u01b6]"},f=function(){var e,t,n,i,o="",r={};for(n in p)if(p.hasOwnProperty(n))for(o+=i=p[n].substring(2,p[n].length-1),e=0,t=i.length;e<t;e++)r[i.charAt(e)]=n;var a=new RegExp("["+o+"]","g");return function(e){return e.replace(a,(function(e){return r[e]})).toLowerCase()}}(),m=t("macOS",/Mac/),g=65,v=13,y=27,b=37,_=38,w=80,k=39,C=40,x=78,T=8,S=46,E=16,$=m?91:17,A=m?18:17,D=9,O=1,L=2,N=!t("Android",/android/i)&&!!document.createElement("input").validity,j=function(e){return void 0!==e},R=function(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""},M=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},I={before:function(e,t,n){var i=e[t];e[t]=function(){return n.apply(e,arguments),i.apply(e,arguments)}},after:function(e,t,n){var i=e[t];e[t]=function(){var t=i.apply(e,arguments);return n.apply(e,arguments),t}}},P=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},z=function(e,t){var n;return function(){var i=this,o=arguments;window.clearTimeout(n),n=window.setTimeout((function(){e.apply(i,o)}),t)}},F=function(e,t,n){var i,o=e.trigger,r={};for(i in e.trigger=function(){var n=arguments[0];if(-1===t.indexOf(n))return o.apply(e,arguments);r[n]=arguments},n.apply(e,[]),e.trigger=o,r)r.hasOwnProperty(i)&&o.apply(e,r[i])},q=function(e,t,n,i){e.on(t,n,(function(t){for(var n=t.target;n&&n.parentNode!==e[0];)n=n.parentNode;return t.currentTarget=n,i.apply(this,[t])}))},H=function(e){var t={};if(void 0===e)return console.warn("WARN getSelection cannot locate input control"),t;if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-i,t.length=i}return t},B=function(e,t,n){var i,o,r={};if(n)for(i=0,o=n.length;i<o;i++)r[n[i]]=e.css(n[i]);else r=e.css();t.css(r)},U=function(t,n){return t?(Q.$testInput||(Q.$testInput=e("<span />").css({position:"absolute",width:"auto",padding:0,whiteSpace:"pre"}),e("<div />").css({position:"absolute",width:0,height:0,overflow:"hidden"}).append(Q.$testInput).appendTo("body")),Q.$testInput.text(t),B(n,Q.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),Q.$testInput.width()):0},W=function(e){var t=null,n=function(n,i){var o,r,a,s,l,c,d,u,h;i=i||{},(n=n||window.event||{}).metaKey||n.altKey||(i.force||!1!==e.data("grow"))&&(o=e.val(),n.type&&"keydown"===n.type.toLowerCase()&&(a=(r=n.keyCode)>=48&&r<=57||r>=65&&r<=90||r>=96&&r<=111||r>=186&&r<=222||32===r,r===S||r===T?(h=H(e[0])).length?o=o.substring(0,h.start)+o.substring(h.start+h.length):r===T&&h.start?o=o.substring(0,h.start-1)+o.substring(h.start+1):r===S&&void 0!==h.start&&(o=o.substring(0,h.start)+o.substring(h.start+1)):a&&(d=n.shiftKey,u=String.fromCharCode(n.keyCode),o+=u=d?u.toUpperCase():u.toLowerCase())),c=(l=e.attr("placeholder"))?U(l,e)+4:0,(s=Math.max(U(o,e),c)+4)!==t&&(t=s,e.width(s),e.triggerHandler("resize")))};e.on("keydown keyup update blur",n),n()},V=function(e){var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML},Q=function(t,n){var i,o,r,s,l=this;(s=t[0]).selectize=l;var c=window.getComputedStyle&&window.getComputedStyle(s,null);if(r=(r=c?c.getPropertyValue("direction"):s.currentStyle&&s.currentStyle.direction)||t.parents("[dir]:first").attr("dir")||"",e.extend(l,{order:0,settings:n,$input:t,tabIndex:t.attr("tabindex")||"",tagType:"select"===s.tagName.toLowerCase()?O:L,rtl:/rtl/i.test(r),eventNS:".selectize"+ ++Q.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:t.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",lastValidValue:"",caretPos:0,loading:0,loadedSearches:{},isDropdownClosing:!1,$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],
renderCache:{},onSearchChange:null===n.loadThrottle?l.onSearchChange:z(l.onSearchChange,n.loadThrottle)}),l.sifter=new a(this.options,{diacritics:n.diacritics}),l.settings.options){for(i=0,o=l.settings.options.length;i<o;i++)l.registerOption(l.settings.options[i]);delete l.settings.options}if(l.settings.optgroups){for(i=0,o=l.settings.optgroups.length;i<o;i++)l.registerOptionGroup(l.settings.optgroups[i]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return i.mixin(Q),o.mixin(Q),e.extend(Q.prototype,{setup:function(){var t,n,i,o,r,a,s,l,c,d,u=this,h=u.settings,p=u.eventNS,f=e(window),g=e(document),v=u.$input;if(s=u.settings.mode,l=v.attr("class")||"",t=e("<div>").addClass(h.wrapperClass).addClass(l).addClass(s),n=e("<div>").addClass(h.inputClass).addClass("items").appendTo(t),i=e('<input type="select-one" autocomplete="new-password" autofill="no" />').appendTo(n).attr("tabindex",v.is(":disabled")?"-1":u.tabIndex),a=e(h.dropdownParent||t),o=e("<div>").addClass(h.dropdownClass).addClass(s).hide().appendTo(a),r=e("<div>").addClass(h.dropdownContentClass).attr("tabindex","-1").appendTo(o),(d=v.attr("id"))&&(i.attr("id",d+"-selectized"),e("label[for='"+d+"']").attr("for",d+"-selectized")),u.settings.copyClassesToDropdown&&o.addClass(l),t.css({width:v[0].style.width}),u.plugins.names.length&&(c="plugin-"+u.plugins.names.join(" plugin-"),t.addClass(c),o.addClass(c)),(null===h.maxItems||h.maxItems>1)&&u.tagType===O&&v.attr("multiple","multiple"),u.settings.placeholder&&i.attr("placeholder",h.placeholder),!u.settings.splitOn&&u.settings.delimiter){var y=u.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");u.settings.splitOn=new RegExp("\\s*"+y+"+\\s*")}v.attr("autocorrect")&&i.attr("autocorrect",v.attr("autocorrect")),v.attr("autocapitalize")&&i.attr("autocapitalize",v.attr("autocapitalize")),v.is("input")&&(i[0].type=v[0].type),u.$wrapper=t,u.$control=n,u.$control_input=i,u.$dropdown=o,u.$dropdown_content=r,o.on("mouseenter mousedown mouseup click","[data-disabled]>[data-selectable]",(function(e){e.stopImmediatePropagation()})),o.on("mouseenter","[data-selectable]",(function(){return u.onOptionHover.apply(u,arguments)})),o.on("mouseup click","[data-selectable]",(function(){return u.onOptionSelect.apply(u,arguments)})),q(n,"mouseup","*:not(input)",(function(){return u.onItemSelect.apply(u,arguments)})),W(i),n.on({mousedown:function(){return u.onMouseDown.apply(u,arguments)},click:function(){return u.onClick.apply(u,arguments)}}),i.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return u.onKeyDown.apply(u,arguments)},keypress:function(){return u.onKeyPress.apply(u,arguments)},input:function(){return u.onInput.apply(u,arguments)},resize:function(){u.positionDropdown.apply(u,[])},focus:function(){return u.ignoreBlur=!1,u.onFocus.apply(u,arguments)},paste:function(){return u.onPaste.apply(u,arguments)}}),g.on("keydown"+p,(function(e){u.isCmdDown=e[m?"metaKey":"ctrlKey"],u.isCtrlDown=e[m?"altKey":"ctrlKey"],u.isShiftDown=e.shiftKey})),g.on("keyup"+p,(function(e){e.keyCode===A&&(u.isCtrlDown=!1),e.keyCode===E&&(u.isShiftDown=!1),e.keyCode===$&&(u.isCmdDown=!1)})),g.on("mousedown"+p,(function(e){if(u.isFocused){if(e.target===u.$dropdown[0]||e.target.parentNode===u.$dropdown[0])return!1;u.$dropdown.has(e.target).length||e.target===u.$control[0]||u.blur(e.target)}})),f.on(["scroll"+p,"resize"+p].join(" "),(function(){u.isOpen&&u.positionDropdown.apply(u,arguments)})),f.on("mousemove"+p,(function(){u.ignoreHover=u.settings.ignoreHover})),this.revertSettings={$children:v.children().detach(),tabindex:v.attr("tabindex")},v.attr("tabindex",-1).hide().after(u.$wrapper),Array.isArray(h.items)&&(u.lastValidValue=h.items,u.setValue(h.items),delete h.items),N&&v.on("invalid"+p,(function(e){e.preventDefault(),u.isInvalid=!0,u.refreshState()})),u.updateOriginalInput(),u.refreshItems(),u.refreshState(),u.updatePlaceholder(),u.isSetup=!0,v.is(":disabled")&&u.disable(),u.on("change",this.onChange),v.data("selectize",u),v.addClass("selectized"),u.trigger("initialize"),!0===h.preload&&u.onSearchChange("")},setupTemplates:function(){var t=this,n=t.settings.labelField,i=t.settings.valueField,o=t.settings.optgroupLabelField,r={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[o])+"</div>"},option:function(e,t){return'<div class="option '+(""===e[i]?"selectize-dropdown-emptyoptionlabel":"")+'">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&#x2026;</div>"}};t.settings.render=e.extend({},r,t.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur",dropdown_item_activate:"onDropdownItemActivate",dropdown_item_deactivate:"onDropdownItemDeactivate"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]])&&this.on(e,t)},onClick:function(e){var t=this;t.isDropdownClosing||t.isFocused&&t.isOpen||(t.focus(),e.preventDefault())},onMouseDown:function(t){var n=this,i=t.isDefaultPrevented();e(t.target);if(n.isFocused){if(t.target!==n.$control_input[0])return"single"===n.settings.mode?(n.isOpen?n.close():n.open(),n.isDropdownClosing=!0,setTimeout((function(){n.isDropdownClosing=!1}),n.settings.closeDropdownThreshold)):i||n.setActiveItem(null),!1}else i||window.setTimeout((function(){n.focus()}),0)},onChange:function(){var e=this;""!==e.getValue()&&(e.lastValidValue=e.getValue()),this.$input.trigger("input"),this.$input.trigger("change")},onPaste:function(e){var t=this;t.isFull()||t.isInputHidden||t.isLocked?e.preventDefault():t.settings.splitOn&&setTimeout((function(){var e=t.$control_input.val();if(e.match(t.settings.splitOn))for(var n=e.trim().split(t.settings.splitOn),i=0,o=n.length;i<o;i++)t.createItem(n[i])}),0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){e.target,this.$control_input[0];var t=this;if(t.isLocked)e.keyCode!==D&&e.preventDefault();else{switch(e.keyCode){case g:if(t.isCmdDown)return void t.selectAll();break;case y:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case x:if(!e.ctrlKey||e.altKey)break;case C:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case w:if(!e.ctrlKey||e.altKey)break;case _:if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,-1);i.length&&t.setActiveOption(i,!0,!0)}return void e.preventDefault();case v:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case b:return void t.advanceSelection(-1,e);case k:return void t.advanceSelection(1,e);case D:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&t.settings.showAddOptionOnCreate&&e.preventDefault());case T:case S:return void t.deleteSelection(e)}!t.isFull()&&!t.isInputHidden||(m?e.metaKey:e.ctrlKey)||e.preventDefault()}},onInput:function(){var e=this,t=e.$control_input.val()||"";e.lastValue!==t&&(e.lastValue=t,e.onSearchChange(t),e.refreshOptions(),e.trigger("type",t))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load((function(i){n.apply(t,[e,i])}))))},onFocus:function(e){var t=this,n=t.isFocused;if(t.isDisabled)return t.blur(),e&&e.preventDefault(),!1;t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),t&&t.focus&&t.focus(),n.isBlurring=!1,n.ignoreFocus=!1,n.trigger("blur")};n.isBlurring=!0,n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,i,o=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),(i=e(t.currentTarget)).hasClass("create")?o.createItem(null,(function(){o.settings.closeAfterSelect&&o.close()})):void 0!==(n=i.attr("data-value"))&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(n),o.settings.closeAfterSelect?o.close():!o.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&o.setActiveOption(o.getOption(n)))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},getTextboxValue:function(){return this.$control_input.val()},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return this.tagType===O&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){F(this,t?[]:["change"],(function(){this.clear(t),this.addItems(e,t)}))},setMaxItems:function(e){0===e&&(e=null),this.settings.maxItems=e,this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),this.refreshState()},setActiveItem:function(t,n){var i,o,r,a,s,l,c,d,u=this;if("single"!==u.settings.mode){if(!(t=e(t)).length)return e(u.$activeItems).removeClass("active"),u.$activeItems=[],void(u.isFocused&&u.showInput());if("mousedown"===(i=n&&n.type.toLowerCase())&&u.isShiftDown&&u.$activeItems.length){for(d=u.$control.children(".active:last"),(a=Array.prototype.indexOf.apply(u.$control[0].childNodes,[d[0]]))>(s=Array.prototype.indexOf.apply(u.$control[0].childNodes,[t[0]]))&&(c=a,a=s,s=c),o=a;o<=s;o++)l=u.$control[0].childNodes[o],-1===u.$activeItems.indexOf(l)&&(e(l).addClass("active"),u.$activeItems.push(l));n.preventDefault()}else"mousedown"===i&&u.isCtrlDown||"keydown"===i&&this.isShiftDown?t.hasClass("active")?(r=u.$activeItems.indexOf(t[0]),u.$activeItems.splice(r,1),t.removeClass("active")):u.$activeItems.push(t.addClass("active")[0]):(e(u.$activeItems).removeClass("active"),u.$activeItems=[t.addClass("active")[0]]);u.hideInput(),this.isFocused||u.focus()}},setActiveOption:function(t,n,i){var o,r,a,s,l,c=this;c.$activeOption&&(c.$activeOption.removeClass("active"),c.trigger("dropdown_item_deactivate",c.$activeOption.attr("data-value"))),c.$activeOption=null,(t=e(t)).length&&(c.$activeOption=t.addClass("active"),c.isOpen&&c.trigger("dropdown_item_activate",c.$activeOption.attr("data-value")),!n&&j(n)||(o=c.$dropdown_content.height(),r=c.$activeOption.outerHeight(!0),n=c.$dropdown_content.scrollTop()||0,s=a=c.$activeOption.offset().top-c.$dropdown_content.offset().top+n,l=a-o+r,a+r>o+n?c.$dropdown_content.stop().animate({scrollTop:l},i?c.settings.scrollDuration:0):a<n&&c.$dropdown_content.stop().animate({scrollTop:s},i?c.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:0}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;return e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout((function(){e.ignoreFocus=!1,e.onFocus()}),0)),e},blur:function(e){return this.$control_input[0].blur(),this.onBlur(null,e),this},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting,filter:e.filter}},search:function(t){var n,i,o,r=this,a=r.settings,s=this.getSearchOptions();if(a.score&&"function"!=typeof(o=r.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==r.lastQuery?(a.normalize&&(t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),r.lastQuery=t,i=r.sifter.search(t,e.extend(s,{score:o})),r.currentResults=i):i=e.extend(!0,{},r.currentResults),a.hideSelected)for(n=i.items.length-1;n>=0;n--)-1!==r.items.indexOf(R(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(t){var i,o,r,a,s,l,c,d,u,h,p,f,m,g,v,y;void 0===t&&(t=!0);var b=this,_=b.$control_input.val().trim(),w=b.search(_),k=b.$dropdown_content,C=b.$activeOption&&R(b.$activeOption.attr("data-value"));for(a=w.items.length,"number"==typeof b.settings.maxOptions&&(a=Math.min(a,b.settings.maxOptions)),s={},l=[],i=0;i<a;i++)for(c=b.options[w.items[i].id],d=b.render("option",c),u=c[b.settings.optgroupField]||"",o=0,r=(h=Array.isArray(u)?u:[u])&&h.length;o<r;o++)u=h[o],b.optgroups.hasOwnProperty(u)||(u=""),s.hasOwnProperty(u)||(s[u]=document.createDocumentFragment(),l.push(u)),s[u].appendChild(d);for(this.settings.lockOptgroupOrder&&l.sort((function(e,t){return(b.optgroups[e]&&b.optgroups[e].$order||0)-(b.optgroups[t]&&b.optgroups[t].$order||0)})),p=document.createDocumentFragment(),i=0,a=l.length;i<a;i++)u=l[i],b.optgroups.hasOwnProperty(u)&&s[u].childNodes.length?((f=document.createDocumentFragment()).appendChild(b.render("optgroup_header",b.optgroups[u])),f.appendChild(s[u]),p.appendChild(b.render("optgroup",e.extend({},b.optgroups[u],{html:V(f),dom:f})))):p.appendChild(s[u]);if(k.html(p),b.settings.highlight&&(k.removeHighlight(),w.query.length&&w.tokens.length))for(i=0,a=w.tokens.length;i<a;i++)n(k,w.tokens[i].regex);if(!b.settings.hideSelected)for(b.$dropdown.find(".selected").removeClass("selected"),i=0,a=b.items.length;i<a;i++)b.getOption(b.items[i]).addClass("selected");(m=b.canCreate(_))&&b.settings.showAddOptionOnCreate&&(k.prepend(b.render("option_create",{input:_})),y=e(k[0].childNodes[0])),b.hasOptions=w.items.length>0||m&&b.settings.showAddOptionOnCreate||b.settings.setFirstOptionActive,b.hasOptions?(w.items.length>0?(v=C&&b.getOption(C),""!==w.query&&b.settings.setFirstOptionActive?g=k.find("[data-selectable]:first"):""!==w.query&&v&&v.length?g=v:"single"===b.settings.mode&&b.items.length&&(g=b.getOption(b.items[0])),g&&g.length||(g=y&&!b.settings.addPrecedence?b.getAdjacentOption(y,1):k.find("[data-selectable]:first"))):g=y,b.setActiveOption(g),t&&!b.isOpen&&b.open()):(b.setActiveOption(null),t&&b.isOpen&&b.close())},addOption:function(e){var t,n,i,o=this;if(Array.isArray(e))for(t=0,n=e.length;t<n;t++)o.addOption(e[t]);else(i=o.registerOption(e))&&(o.userOptions[i]=!0,o.lastQuery=null,o.trigger("option_add",i,e))},registerOption:function(e){var t=R(e[this.settings.valueField]);return null!=t&&!this.options.hasOwnProperty(t)&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=R(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,n){var i,o,r,a,s,l,c,d=this;if(t=R(t),r=R(n[d.settings.valueField]),null!==t&&d.options.hasOwnProperty(t)){if("string"!=typeof r)throw new Error("Value must be set in option data");c=d.options[t].$order,r!==t&&(delete d.options[t],-1!==(a=d.items.indexOf(t))&&d.items.splice(a,1,r)),n.$order=n.$order||c,d.options[r]=n,s=d.renderCache.item,l=d.renderCache.option,s&&(delete s[t],delete s[r]),l&&(delete l[t],delete l[r]),-1!==d.items.indexOf(r)&&(i=d.getItem(t),o=e(d.render("item",n)),i.hasClass("active")&&o.addClass("active"),i.replaceWith(o)),d.lastQuery=null,d.isOpen&&d.refreshOptions(!1)}},removeOption:function(e,t){var n=this;e=R(e);var i=n.renderCache.item,o=n.renderCache.option;i&&delete i[e],o&&delete o[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},clearOptions:function(t){var n=this;n.loadedSearches={},n.userOptions={},n.renderCache={};var i=n.options;e.each(n.options,(function(e){-1==n.items.indexOf(e)&&delete i[e]})),n.options=n.sifter.items=i,n.lastQuery=null,n.trigger("option_clear"),n.clear(t)},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getFirstOption:function(){var t=this.$dropdown.find("[data-selectable]");return t.length>0?t.eq(0):e()},getAdjacentOption:function(t,n){var i=this.$dropdown.find("[data-selectable]"),o=i.index(t)+n;return o>=0&&o<i.length?i.eq(o):e()},getElementWithValue:function(t,n){if(null!=(t=R(t)))for(var i=0,o=n.length;i<o;i++)if(n[i].getAttribute("data-value")===t)return e(n[i]);return e()},getElementWithTextContent:function(t,n,i){if(null!=(t=R(t)))for(var o=0,r=i.length;o<r;o++){var a=i[o].textContent;if(1==n&&(a=null!==a?a.toLowerCase():null,t=t.toLowerCase()),a===t)return e(i[o])}return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},getFirstItemMatchedByTextContent:function(e,t){return t=null!==t&&!0===t,this.getElementWithTextContent(e,t,this.$dropdown_content.find("[data-selectable]"))},addItems:function(e,t){this.buffer=document.createDocumentFragment();for(var n=this.$control[0].childNodes,i=0;i<n.length;i++)this.buffer.appendChild(n[i]);for(var o=Array.isArray(e)?e:[e],r=(i=0,o.length);i<r;i++)this.isPending=i<r-1,this.addItem(o[i],t);var a=this.$control[0];a.insertBefore(this.buffer,a.firstChild),this.buffer=null},addItem:function(t,n){F(this,n?[]:["change"],(function(){var i,o,r,a,s,l=this,c=l.settings.mode;t=R(t),-1===l.items.indexOf(t)?l.options.hasOwnProperty(t)&&("single"===c&&l.clear(n),"multi"===c&&l.isFull()||(i=e(l.render("item",l.options[t])),s=l.isFull(),l.items.splice(l.caretPos,0,t),l.insertAtCaret(i),(!l.isPending||!s&&l.isFull())&&l.refreshState(),l.isSetup&&(r=l.$dropdown_content.find("[data-selectable]"),l.isPending||(o=l.getOption(t),a=l.getAdjacentOption(o,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==c),a&&l.setActiveOption(l.getOption(a))),!r.length||l.isFull()?l.close():l.isPending||l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",t,i),l.isPending||l.updateOriginalInput({silent:n})))):"single"===c&&l.close()}))},removeItem:function(t,n){var i,o,r,a=this;i=t instanceof e?t:a.getItem(t),t=R(i.attr("data-value")),-1!==(o=a.items.indexOf(t))&&(a.trigger("item_before_remove",t,i),i.remove(),i.hasClass("active")&&(r=a.$activeItems.indexOf(i[0]),a.$activeItems.splice(r,1)),a.items.splice(o,1),a.lastQuery=null,!a.settings.persist&&a.userOptions.hasOwnProperty(t)&&a.removeOption(t,n),o<a.caretPos&&a.setCaret(a.caretPos-1),a.refreshState(),a.updatePlaceholder(),a.updateOriginalInput({silent:n}),a.positionDropdown(),a.trigger("item_remove",t,i))},createItem:function(e,t){var n=this,i=n.caretPos;e=e||(n.$control_input.val()||"").trim();var o=arguments[arguments.length-1];if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof t&&(t=!0),!n.canCreate(e))return o(),!1;n.lock();var r="function"==typeof n.settings.create?this.settings.create:function(e){var t={};t[n.settings.labelField]=e;var i=e;if(n.settings.formatValueToKey&&"function"==typeof n.settings.formatValueToKey&&(null==(i=n.settings.formatValueToKey.apply(this,[i]))||"object"==typeof i||"function"==typeof i))throw new Error('Selectize "formatValueToKey" setting must be a function that returns a value other than object or function.');return t[n.settings.valueField]=i,t},a=P((function(e){if(n.unlock(),!e||"object"!=typeof e)return o();var r=R(e[n.settings.valueField]);if("string"!=typeof r)return o();n.setTextboxValue(""),n.addOption(e),n.setCaret(i),n.addItem(r),n.refreshOptions(t&&"single"!==n.settings.mode),o(e)})),s=r.apply(this,[e,a]);return void 0!==s&&a(s),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var e=!this.items.length;this.isInvalid=e,this.$control_input.prop("required",e),this.$input.prop("required",!e)},refreshClasses:function(){var t=this,n=t.isFull(),i=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,i,o,r=this;if(e=e||{},r.tagType===O){for(i=[],t=0,n=r.items.length;t<n;t++)o=r.options[r.items[t]][r.settings.labelField]||"",i.push('<option value="'+M(r.items[t])+'" selected="selected">'+M(o)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),r.$input.html(i.join(""))}else r.$input.val(r.getValue()),r.$input.attr("value",r.$input.val());r.isSetup&&(e.silent||r.trigger("change",r.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||e.$control_input.is(":invalid")||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.setupDropdownHeight(),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&(e.hideInput(),e.isBlurring&&e.$control_input[0].blur()),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0);var n=e[0].getBoundingClientRect().width;this.settings.minWidth&&this.settings.minWidth>n&&(n=this.settings.minWidth),this.$dropdown.css({width:n,top:t.top,left:t.left})},setupDropdownHeight:function(){if("object"==typeof this.settings.dropdownSize&&"auto"!==this.settings.dropdownSize.sizeType){var t=this.settings.dropdownSize.sizeValue;if("numberItems"===this.settings.dropdownSize.sizeType){var n=this.$dropdown_content.children(),i=0;n.each((function(n,o){if(n===t)return!1;i+=e(o).outerHeight(!0)}));var o=this.$dropdown_content.css("padding-top")?this.$dropdown_content.css("padding-top").replace(/\W*(\w)\w*/g,"$1"):0;t=i-o+"px"}this.$dropdown_content.css({height:t,maxHeight:"none"})}},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(e){var t=Math.min(this.caretPos,this.items.length),n=e[0],i=this.buffer||this.$control[0];0===t?i.insertBefore(n,i.firstChild):i.insertBefore(n,i.childNodes[t]),this.setCaret(t+1)},deleteSelection:function(t){var n,i,o,r,a,s,l,c,d,u=this;if(o=t&&t.keyCode===T?-1:1,r=H(u.$control_input[0]),u.$activeOption&&!u.settings.hideSelected&&(l="string"==typeof u.settings.deselectBehavior&&"top"===u.settings.deselectBehavior?u.getFirstOption().attr("data-value"):u.getAdjacentOption(u.$activeOption,-1).attr("data-value")),a=[],u.$activeItems.length){for(d=u.$control.children(".active:"+(o>0?"last":"first")),s=u.$control.children(":not(input)").index(d),o>0&&s++,n=0,i=u.$activeItems.length;n<i;n++)a.push(e(u.$activeItems[n]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(u.isFocused||"single"===u.settings.mode)&&u.items.length&&(o<0&&0===r.start&&0===r.length?a.push(u.items[u.caretPos-1]):o>0&&r.start===u.$control_input.val().length&&a.push(u.items[u.caretPos]));if(!a.length||"function"==typeof u.settings.onDelete&&!1===u.settings.onDelete.apply(u,[a]))return!1;for(void 0!==s&&u.setCaret(s);a.length;)u.removeItem(a.pop());return u.showInput(),u.positionDropdown(),u.refreshOptions(!0),l&&(c=u.getOption(l)).length&&u.setActiveOption(c),!0},advanceSelection:function(e,t){var n,i,o,r,a,s=this;0!==e&&(s.rtl&&(e*=-1),n=e>0?"last":"first",i=H(s.$control_input[0]),s.isFocused&&!s.isInputHidden?(r=s.$control_input.val().length,(e<0?0===i.start&&0===i.length:i.start===r)&&!r&&s.advanceCaret(e,t)):(a=s.$control.children(".active:"+n)).length&&(o=s.$control.children(":not(input)").index(a),s.setActiveItem(null),s.setCaret(e>0?o+1:o)))},advanceCaret:function(e,t){var n,i,o=this;0!==e&&(n=e>0?"next":"prev",o.isShiftDown?(i=o.$control_input[n]()).length&&(o.hideInput(),o.setActiveItem(i),t&&t.preventDefault()):o.setCaret(o.caretPos+e))},setCaret:function(t){var n,i,o,r,a=this;if(t="single"===a.settings.mode?a.items.length:Math.max(0,Math.min(a.items.length,t)),!a.isPending)for(n=0,i=(o=a.$control.children(":not(input)")).length;n<i;n++)r=e(o[n]).detach(),n<t?a.$control_input.before(r):a.$control.append(r);a.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,n=t.eventNS,i=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),0==--Q.count&&Q.$testInput&&(Q.$testInput.remove(),Q.$testInput=void 0),e(window).off(n),e(document).off(n),e(document.body).off(n),delete t.$input[0].selectize},render:function(t,n){var i,o,r="",a=!1,s=this;return"option"!==t&&"item"!==t||(a=!!(i=R(n[s.settings.valueField]))),a&&(j(s.renderCache[t])||(s.renderCache[t]={}),s.renderCache[t].hasOwnProperty(i))?s.renderCache[t][i]:(r=e(s.settings.render[t].apply(this,[n,M])),"option"===t||"option_create"===t?n[s.settings.disabledField]||r.attr("data-selectable",""):"optgroup"===t&&(o=n[s.settings.optgroupValueField]||"",r.attr("data-group",o),n[s.settings.disabledField]&&r.attr("data-disabled","")),"option"!==t&&"item"!==t||r.attr("data-value",i||""),a&&(s.renderCache[t][i]=r[0]),r[0])},clearCache:function(e){var t=this;void 0===e?t.renderCache={}:delete t.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var n=t.settings.createFilter;return e.length&&("function"!=typeof n||n.apply(t,[e]))&&("string"!=typeof n||new RegExp(n).test(e))&&(!(n instanceof RegExp)||n.test(e))}}),Q.count=0,Q.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,showAddOptionOnCreate:!0,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!0,preload:!1,allowEmptyOption:!1,showEmptyOptionInDropdown:!1,emptyOptionLabel:"--",setFirstOptionActive:!1,closeAfterSelect:!1,closeDropdownThreshold:250,scrollDuration:60,deselectBehavior:"previous",loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,dropdownSize:{sizeType:"auto",sizeValue:"auto"},normalize:!1,render:{}},e.fn.selectize=function(t){var n=e.fn.selectize.defaults,i=e.extend({},n,t),o=i.dataAttr,r=i.labelField,a=i.valueField,s=i.disabledField,l=i.optgroupField,c=i.optgroupLabelField,d=i.optgroupValueField,u=function(t,n){var s,l,c,d,u=t.attr(o);if(u)for(n.options=JSON.parse(u),s=0,l=n.options.length;s<l;s++)n.items.push(n.options[s][a]);else{var h=e.trim(t.val()||"");if(!i.allowEmptyOption&&!h.length)return;for(s=0,l=(c=h.split(i.delimiter)).length;s<l;s++)(d={})[r]=c[s],d[a]=c[s],n.options.push(d);n.items=c}},h=function(t,n){var u,h,p,f,m=n.options,g={},v=function(e){var t=o&&e.attr(o);return"string"==typeof t&&t.length?JSON.parse(t):null},y=function(t,o){t=e(t);var c=R(t.val());if(c||i.allowEmptyOption)if(g.hasOwnProperty(c)){if(o){var d=g[c][l];d?e.isArray(d)?d.push(o):g[c][l]=[d,o]:g[c][l]=o}}else{var u=v(t)||{};u[r]=u[r]||t.text(),u[a]=u[a]||c,u[s]=u[s]||t.prop("disabled"),u[l]=u[l]||o,g[c]=u,m.push(u),t.is(":selected")&&n.items.push(c)}},b=function(t){var i,o,r,a,l;for((r=(t=e(t)).attr("label"))&&((a=v(t)||{})[c]=r,a[d]=r,a[s]=t.prop("disabled"),n.optgroups.push(a)),i=0,o=(l=e("option",t)).length;i<o;i++)y(l[i],r)};for(n.maxItems=t.attr("multiple")?null:1,u=0,h=(f=t.children()).length;u<h;u++)"optgroup"===(p=f[u].tagName.toLowerCase())?b(f[u]):"option"===p&&y(f[u])};return this.each((function(){if(!this.selectize){var o=e(this),r=this.tagName.toLowerCase(),a=o.attr("placeholder")||o.attr("data-placeholder");if(a||i.allowEmptyOption||(a=o.children('option[value=""]').text()),i.allowEmptyOption&&i.showEmptyOptionInDropdown&&!o.children('option[value=""]').length){var s=o.html();o.html('<option value="">'+i.emptyOptionLabel+"</option>"+s)}var l={placeholder:a,options:[],optgroups:[],items:[]};"select"===r?h(o,l):u(o,l),new Q(o,e.extend(!0,{},n,l,t)).settings_user=t}}))},e.fn.selectize.defaults=Q.defaults,e.fn.selectize.support={validity:N},Q.define("auto_position",(function(){const e={top:"top",bottom:"bottom"};this.positionDropdown=function(){const t=this.$control,n="body"===this.settings.dropdownParent?t.offset():t.position();n.top+=t.outerHeight(!0);const i=this.$dropdown.prop("scrollHeight")+5,o=this.$control.get(0).getBoundingClientRect().top+i+this.$wrapper.height()>window.innerHeight?e.top:e.bottom,r={width:t.outerWidth(),left:n.left};o===e.top?(Object.assign(r,{bottom:n.top,top:"unset",margin:"0 0 5px 0"}),this.$dropdown.addClass("selectize-position-top")):(Object.assign(r,{top:n.top,bottom:"unset",margin:"5px 0 0 0"}),this.$dropdown.removeClass("selectize-position-top")),this.$dropdown.css(r)}})),Q.define("auto_select_on_type",(function(){var e,t=this;t.onBlur=(e=t.onBlur,function(n){var i=t.getFirstItemMatchedByTextContent(t.lastValue,!0);return void 0!==i.attr("data-value")&&t.getValue()!==i.attr("data-value")&&t.setValue(i.attr("data-value")),e.apply(this,arguments)})})),
Q.define("autofill_disable",(function(){var e,t=this;t.setup=(e=t.setup,function(){e.apply(t,arguments),t.$control_input.attr({autocomplete:"new-password",autofill:"no"})})})),Q.define("clear_button",(function(t){var n,i=this;t=e.extend({title:"Clear",className:"clear",label:"\xd7",html:function(e){return'<a class="'+e.className+'" title="'+e.title+'"> '+e.label+"</a>"}},t),i.setup=(n=i.setup,function(){n.apply(i,arguments),i.$button_clear=e(t.html(t)),"single"===i.settings.mode&&i.$wrapper.addClass("single"),i.$wrapper.append(i.$button_clear),""!==i.getValue()&&0!==i.getValue().length||i.$wrapper.find("."+t.className).css("display","none"),i.on("change",(function(){""!==i.getValue()||0===i.getValue().length?i.$wrapper.find("."+t.className).css("display",""):i.$wrapper.find("."+t.className).css("display","none")})),i.$wrapper.on("click","."+t.className,(function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),i.isLocked||(i.clear(),i.$wrapper.find("."+t.className).css("display","none"))}))})})),Q.define("drag_drop",(function(){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var t,n=this;n.lock=(t=n.lock,function(){var e=n.$control.data("sortable");return e&&e.disable(),t.apply(n,arguments)}),n.unlock=function(){var e=n.unlock;return function(){var t=n.$control.data("sortable");return t&&t.enable(),e.apply(n,arguments)}}(),n.setup=function(){var t=n.setup;return function(){t.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),i.addClass("dragging")},stop:function(){i.removeClass("dragging");var t=n.$activeItems?n.$activeItems.slice():null,o=[];i.children("[data-value]").each((function(){o.push(e(this).attr("data-value"))})),n.isFocused=!1,n.setValue(o),n.isFocused=!0,n.setActiveItem(t),n.positionDropdown()}})}}()}})),Q.define("dropdown_header",(function(t){var n,i=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&#xd7;</a></div></div>'}},t),i.setup=(n=i.setup,function(){n.apply(i,arguments),i.$dropdown_header=e(t.html(t)),i.$dropdown.prepend(i.$dropdown_header)})})),Q.define("optgroup_columns",(function(t){var n,i=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,n){var i=t.closest("[data-group]").find("[data-selectable]"),o=i.index(t)+n;return o>=0&&o<i.length?i.eq(o):e()},this.onKeyDown=(n=i.onKeyDown,function(e){var t,o,r,a;return!this.isOpen||e.keyCode!==b&&e.keyCode!==k?n.apply(this,arguments):(i.ignoreHover=!0,t=(a=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((o=(r=(a=e.keyCode===b?a.prev("[data-group]"):a.next("[data-group]")).find("[data-selectable]")).eq(Math.min(r.length-1,t))).length&&this.setActiveOption(o)))});var o=function(){var e,t=o.width,n=document;return void 0===t&&((e=n.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=o.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t},r=function(){var n,r,a,s,l,c,d;if((r=(d=e("[data-group]",i.$dropdown_content)).length)&&i.$dropdown_content.width()){if(t.equalizeHeight){for(a=0,n=0;n<r;n++)a=Math.max(a,d.eq(n).height());d.css({height:a})}t.equalizeWidth&&(c=i.$dropdown_content.innerWidth()-o(),s=Math.round(c/r),d.css({width:s}),r>1&&(l=c-s*(r-1),d.eq(r-1).css({width:l})))}};(t.equalizeHeight||t.equalizeWidth)&&(I.after(this,"positionDropdown",r),I.after(this,"refreshOptions",r))})),Q.define("remove_button",(function(t){t=e.extend({label:"&#xd7;",title:"Remove",className:"remove",append:!0},t);var n=function(t,n){n.className="remove-single";var i,o=t,r='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+M(n.title)+'">'+n.label+"</a>",a=function(t,n){return e("<span>").append(t).append(n)};t.setup=(i=o.setup,function(){if(n.append){var s=e(o.$input.context).attr("id"),l=(e("#"+s),o.settings.render.item);o.settings.render.item=function(e){return a(l.apply(t,arguments),r)}}i.apply(t,arguments),t.$control.on("click","."+n.className,(function(e){e.preventDefault(),o.isLocked||o.clear()}))})},i=function(t,n){var i,o=t,r='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+M(n.title)+'">'+n.label+"</a>",a=function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)};t.setup=(i=o.setup,function(){if(n.append){var s=o.settings.render.item;o.settings.render.item=function(e){return a(s.apply(t,arguments),r)}}i.apply(t,arguments),t.$control.on("click","."+n.className,(function(t){if(t.preventDefault(),!o.isLocked){var n=e(t.currentTarget).parent();return o.setActiveItem(n),o.deleteSelection()&&o.setCaret(o.items.length),!1}}))})};"single"!==this.settings.mode?i(this,t):n(this,t)})),Q.define("restore_on_backspace",(function(e){var t,n=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(t=n.onKeyDown,function(n){var i,o;return n.keyCode===T&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1)>=0&&i<this.items.length?(o=this.options[this.items[i]],this.deleteSelection(n)&&(this.setTextboxValue(e.text.apply(this,[o])),this.refreshOptions(!0)),void n.preventDefault()):t.apply(this,arguments)})})),Q.define("select_on_focus",(function(){var e,t,n=this;n.on("focus",(e=n.onFocus,function(t){var i=n.getItem(n.getValue()).text();return n.clear(),n.setTextboxValue(i),n.$control_input.select(),setTimeout((function(){n.settings.selectOnTab&&n.setActiveOption(n.getFirstItemMatchedByTextContent(i)),n.settings.score=null}),0),e.apply(this,arguments)})),n.onBlur=(t=n.onBlur,function(e){return""===n.getValue()&&n.lastValidValue!==n.getValue()&&n.setValue(n.lastValidValue),setTimeout((function(){n.settings.score=function(){return function(){return 1}}}),0),t.apply(this,arguments)}),n.settings.score=function(){return function(){return 1}}})),Q.define("tag_limit",(function(t){const n=this;t.tagLimit=t.tagLimit,this.onBlur=function(){const i=n.onBlur;return function(n){if(i.apply(this,n),!n)return;const o=this.$control,r=o.find(".item"),a=t.tagLimit;void 0===a||r.length<=a||(r.toArray().forEach((function(t,n){n<a||e(t).hide()})),o.append("<span><b>"+(r.length-a)+"</b></span>"))}}(),this.onFocus=function(){const e=n.onFocus;return function(t){if(e.apply(this,t),!t)return;const n=this.$control;n.find(".item").show(),n.find("span").remove()}}()})),Q}));var gallerySlider=function(){function e(e){n(e),P.lazyLoadNext&&n(e+1),P.lazyLoadPrevious&&n(e-1)}function t(){$("#gallery_items").addClass("flickity-enabled"),$("#gallery_items").removeClass("flickity-disabled")}function n(e){e<0&&(e=x()+e);var t=u(e);if(null!=t)l(t);else{var n=h(e);null!=n&&c(n)}}function i(){var e=f();if(null!=e)l(e);else{var t=m();null!=t&&c(t)}}function o(e){var t=H.get(e.data("vid")),n=B.get(e.data("vid"));t&&(t.playVideo(),n&&(n.hide(),e.show()))}function r(e){var t=H.get(e.data("vid")),n=B.get(e.data("vid"));t&&t.pauseVideo(),n&&(n.show(),e.hide())}function a(e){var t=e.data("vid");if(player=H.get(t))return o($(player.getIframe()));P.preloadVideos&&e.hide(),s(e[0],t)}function s(e,t){"undefined"!=typeof YT&&void 0!==YT.Player&&(player=new YT.Player(e,{videoId:t,playerVars:{origin:"//khamsat.com",autoplay:0,showinfo:0,rel:0,enablejsapi:1},events:{onReady:function(e){H.set(t,e.target);var n=e.target.getIframe();$(n).removeClass("keep-aspect-ratio"),P.preloadVideos||o($(n))}}}))}function l(e){var t=e.data("vid"),n=e.data("vthumbnail");if(null==B.get(t)){var i=$("<div>").attr({id:"video_overlay_"+t,class:"video_overlay"}),o=$("<button/>").attr({type:"button",class:"video_play_button"}).hide(),r=$('<svg height="100%" version="1.1" viewBox="0 0 68 48" width="100%"><path class="youtube-play-button" d="M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z" fill="#212121" fill-opacity="0.8"></path><path d="M 45,24 27,14 27,34" fill="#fff"></path></svg>');o.click((function(){i.hide(),a(e)}));var s=r.find("path.youtube-play-button");i.hover((function(){s.attr({fill:"#f00","fill-opacity":1})}),(function(){s.attr({fill:"#212121","fill-opacity":.8})})),$("<img>").attr({class:"keep-aspect-ratio",src:n}).load((function(){o.show(),g()})).prependTo(i),o.prependTo(i),r.prependTo(o),i.prependTo(e.parent()),B.set(t,i),P.preloadVideos&&a(e)}}function c(e){e.attr({src:e.attr("src")}).load((function(){g()}))}function d(e){return S(e,"iframe")}function u(e){return S(e,"div.video-placeholder")}function h(e){return S(e,"img")}function p(){return E("iframe")}function f(){return E("div.video-placeholder")}function m(){return E("img")}function g(){z.resize()}function v(){x()<2?(b(),w()):(y(),_())}function y(){$(".flickity-prev-next-button").show()}function b(){$(".flickity-prev-next-button").hide()}function _(){P.pageDots&&$(".flickity-page-dots").show()}function w(){P.pageDots&&$(".flickity-page-dots").hide()}function k(e,t){var n="youtube";if(null==t&&((iframe=d(e))?t=iframe:(placeholder=u(e))?t=placeholder:(image=h(e))&&(t=image,n="images")),null!=t)return{type:n,video_id:t.attr("data-vid"),img_src:t.attr("src"),file:t.attr("attr-file"),gallery_file_id:t.attr("data-item_id")||t.attr("original_file")}}function C(){return(iframe=p())?k(void 0,iframe):(placeholder=f())?k(void 0,placeholder):(image=m())?k(void 0,image):void 0}function x(){return z.cells.length}function T(){return z.selectedIndex}function S(e,t){var n=$(".flickity-slider div.gitem#gf-"+e).find(t).first();return n.length>0?n:void 0}function E(e){var t=D().find(e).first();return t.length>0?t:void 0}function A(e){var t=$(".flickity-slider div.gitem#gf-"+e).first();return t.length>0?t:void 0}function D(){return $(z.selectedElement)}function O(e){z.remove(A(e)),v()}function L(){z.remove(z.selectedElement),v()}function N(t,n){remove(t),z.insert(n,t),z.select(t),v(),e(t)}function j(e){var t=z.selectedIndex;L(),z.insert(e,t),z.select(t),v(),i()}function R(e){z.append(e),z.select(x()-1),v(),g(),i()}function M(){return null!=z}function I(e){q=e}var P={slider_elem:"#gallery_items",wrapAround:!0,fullscreen:!0,cellSelector:void 0,rightToLeft:!0,pageDots:!1,setGallerySize:!0,lazyLoadNext:!1,lazyLoadPrevious:!1,preloadVideos:!0},z=void 0,F=void 0,q=void 0,H=new Map,B=new Map;return{init:function(){z=new Flickity(P.slider_elem,{wrapAround:P.wrapAround,fullscreen:P.fullscreen,cellSelector:P.cellSelector,rightToLeft:P.rightToLeft,pageDots:P.pageDots,setGallerySize:P.setGallerySize,on:{ready:function(){t()},change:function(){F&&r(F),F=void 0},settle:function(t){e(t),i()},staticClick:function(e,t,n,i){(iframe=d(i)||p())&&(o(iframe),F=iframe)}}}),v(),e(0),i(),q&&q()},ready:M,onready:I,slides_count:x,current_slide_index:T,get_slide_attributes:k,current_slide_attributes:C,current_slide:D,remove_slide:O,remove_current_slide:L,replace_slide:N,replace_current_slide:j,append_slide:R}}();onYouTubeIframeAPIReady=function(){$(document).ready((function(){gallerySlider.init()}))},$(document).ready((function(){if($("#gallery_items").length>0){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}})),jQuery.fn.show_dialog=function(e){void 0===e&&(e="small");var t=$(this).html();if($(this).html(""),$(".dialog").each((function(){$(this).close_dialog()})),$(this).hasClass("no_close")){var n=$('<div id="shadow_box_white"></div>');n.css("display","inline"),n.appendTo("body")}var i="dialog_wrapper--"+e,o=$('<div id="'+$(this).attr("id")+'" class="dialog"><div class="dialog_wrapper '+i+'">'+t+"</div></div>");return o.appendTo("body"),o.css("position","fixed"),o.css("top","10%"),o.css("left",($(window).outerWidth()-o.outerWidth())/2+"px"),o.css("min-width",o.width()+1+"px"),o.css("max-width",o.width()+2+"px"),o},jQuery.fn.close_dialog=function(){$(this).css("display","none"),clear_dialog();var e=$(this).attr("id").replace(/^khamsat_/,"");$("#"+e).html($(this).find(".dialog_wrapper").html()),$(this).remove()};var galleryFilesControl=function(){function e(){null==gallerySlider.flickity&&gallerySlider.init()}function t(){$(".modal-body .dialog_message").addClass("hidden"),$(".modal-body .dialog_message").removeClass("red"),$(".modal-body .dialog_message").text(""),$(".nav-link").on("click",(function(){$(".modal-body .dialog_message").addClass("hidden"),$(".modal-body .dialog_message").removeClass("red"),$(".modal-body .dialog_message").text("")})),$(".gitem_add_btn").on("click",(function(e){e.preventDefault(),e.stopPropagation(),n(!1)})),$(".gitem_edit_btn").on("click",(function(e){e.preventDefault(),e.stopPropagation(),n(!0)}))}function n(t){e(),o(t),r(t),u()}function o(e){d(),items_count=gallerySlider.slides_count();var t={method:"post",url:"/ajax/service/upload_gallery_file.json",maxFilesize:5,acceptedFiles:".jpeg, .jpg, .png, .gif",createImageThumbnails:!0,uploadMultiple:!0,paramName:"images",parallelUploads:10,clickable:".service_image_u_btn",previewsContainer:".selected-images",thumbnailWidth:120,thumbnailHeight:70,dictInvalidFileType:"\u0639\u0630\u0631\u0627\u064b\u060c \u064a\u0633\u0645\u062d \u0628\u0627\u0644\u0635\u064a\u063a \u0627\u0644\u062a\u0627\u0644\u064a\u0629 \u0641\u0642\u0637 jpeg, jpg, png, gif",init:function(){this.on("addedfiles",(function(){var t=this.files.length+items_count;if(10==t&&$("a.service_image_u_btn").addClass("hidden"),t>10&&!e){var n=10-items_count,i="\u0644\u0642\u062f \u0642\u0645\u062a \u0628\u0631\u0641\u0639 "+items_count+" \u0645\u0644\u0641\u0627\u062a (\u0627\u0644\u062d\u062f \u0627\u0644\u0645\u0633\u0645\u0648\u062d \u0628\u0647 \u0644\u0643\u0644 \u062e\u062f\u0645\u0629 10 \u0645\u0644\u0641\u0627\u062a). ";n>0&&(i=i+"\u0628\u0625\u0645\u0643\u0627\u0646\u0643 \u0627\u062e\u062a\u064a\u0627\u0631 "+n+" \u0645\u0644\u0641 \u0641\u0642\u0637"),p(i),this.removeAllFiles(!0)}this.files.length>0&&$("a.upload_seleted_images_btn").removeClass("hidden"),$("a.upload_seleted_images_btn").hasClass("hidden")?$("a.service_image_u_btn").removeClass("c-button--ghost"):$("a.service_image_u_btn").addClass("c-button--ghost")})),this.on("maxfilesreached",(function(){$("a.service_image_u_btn").addClass("hidden")})),this.on("removedfile",(function(){var e=this.files.length+items_count;this.files.length>0?$("a.upload_seleted_images_btn").removeClass("hidden"):$("a.upload_seleted_images_btn").addClass("hidden"),e<10&&$("a.service_image_u_btn").removeClass("hidden"),$("a.upload_seleted_images_btn").hasClass("hidden")?$("a.service_image_u_btn").removeClass("c-button--ghost"):$("a.service_image_u_btn").addClass("c-button--ghost")})),this.on("thumbnail",(function(e){(e.width<800||e.height<470)&&(this.removeFile(e),p("\u0627\u0628\u0639\u0627\u062f \u0627\u0644\u0635\u0648\u0631\u0629 \u0627\u0642\u0644 \u0645\u0646 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u060c \u0646\u0631\u062c\u0648 \u0627\u062e\u062a\u064a\u0627\u0631 \u0635\u0648\u0631\u0629 \u0622\u062e\u0631\u0649 \u0627\u0648\u0636\u062d.")),e.previewElement.querySelector("[data-dz-size]").innerHTML=this.filesize(e.size).replace("strong","span"),$(window).width()<=543&&(e.previewElement.querySelector("[data-dz-name]").innerHTML=text_truncate(e.name,25))})),this.on("error",(function(e,t,n){n&&500==n.status?p("\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642"):p(t.error||t),this.removeFile(e),$("a.upload_seleted_images_btn").find("i").removeClass("fa-check fa-spinner fa-spin").addClass("fa-upload")})),this.on("successmultiple",(function(t,n){for(var i=0;i<n.length;i++){var o=JSON.parse(n[i]);add_to_gallery(o.download_url,o.file,e)}$("a.upload_seleted_images_btn").find("i").removeClass("fa-check fa-spinner fa-spin").addClass("fa-upload"),$("a.upload_seleted_images_btn").addClass("hidden"),$("a.service_image_u_btn").removeClass("hidden"),$(".uploaded-image").remove(),this.removeAllFiles(!0),$("#gallery_modal").modal("toggle"),$("#gallery_modal .modal-body").remove(),$("#gallery_modal .modal-content").append($(".init-modal-body").html())})),this.on("sendingmultiple",(function(t,n,i){n.ontimeout=function(){p("\u0627\u0646\u0642\u0636\u0649 \u0648\u0642\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644"),$("a.upload_seleted_images_btn").find("i").removeClass("fa-check fa-spinner fa-spin").addClass("fa-upload")},i.append("token",C),i.append("items_count",items_count),i.append("edit_mode",e),$("a.upload_seleted_images_btn").find("i").removeClass("fa-upload fa-spinner fa-spin").addClass("fa-spinner fa-spin")}))}};t=e?Object.assign({maxFiles:1,autoProcessQueue:!0,previewTemplate:'<div style="display:none"></div>'},t):Object.assign({maxFiles:10,autoProcessQueue:!1,previewTemplate:$("#service_gallery_temaplate").html()},t);var n=FileUploader.init("#gitem_image_upload",null,t);$("a.upload_seleted_images_btn").on("click",(function(){n.processQueue(),f()})),$(".service_image_u_btn").on("click",(function(){f()}))}function r(e){$(".remote_image_btn").on("click",(function(t){t.preventDefault(),f();var n,i=gallerySlider.slides_count(),o=$("#service_id").val(),r=$(this).attr("id"),s=!1,l=!1,c=!1;if("image_url"==r){if(""==(c=$("#image_url").val().trim()))return p("\u0644\u0645 \u062a\u062f\u062e\u0644 \u0631\u0627\u0628\u0637 \u0627\u0644\u0635\u0648\u0631\u0629 \u0628\u0639\u062f"),void $("#image_url").focus();if(!isNaN(c))return p("\u0646\u0631\u062c\u0648 \u0625\u062f\u062e\u0627\u0644 \u0631\u0627\u0628\u0637 \u0635\u062d\u064a\u062d \u0644\u0644\u0635\u0648\u0631\u0629"),void $("#image_url").focus()}else if("youtube"==r&&""==(c=$("#youtube_url").val()))return p("\u0644\u0645 \u062a\u0642\u0645 \u0628\u0625\u062f\u062e\u0627\u0644 \u0631\u0627\u0628\u0637 \u0628\u0639\u062f."),void $("#youtube_url").focus();$.ajax({type:"POST",url:"/ajax/service/remote_image.json",async:!1,cache:!1,dataType:"json",data:{remote_url:c,token:C,edit_mode:e,type:r,items_count:i,service_id:o},beforeSend:function(){$(".remote_image_btn").find("i").removeClass("fa-upload fa-spinner fa-spin").addClass("fa-spinner fa-spin")}}).done((function(e){l=e.file,"image"==e.file_type?s=e.download_url:(s=c,n=e.download_url),$(".remote_image_btn").find("i").removeClass("fa-spinner fa-spin").addClass("fa fa-upload")})).fail((function(e){p("\u0644\u0644\u0623\u0633\u0641\u060c \u0641\u0634\u0644 \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0645\u0646 \u0627\u0644\u0631\u0627\u0628\u0637 \u0627\u0644\u0630\u064a \u0623\u062f\u062e\u0644\u062a\u0647 "+a(e)),$(".remote_image_btn").find("i").removeClass("fa-spinner fa-spin").addClass("fa fa-upload")})),s&&(s=remove_http(s),"image_url"!=r||-1==k.images.indexOf(s)?"youtube"==r&&k.youtube.includes(youtube_url_id(s))?p("\u0644\u0642\u062f \u0623\u0636\u0641\u062a \u0647\u0630\u0627 \u0627\u0644\u0641\u064a\u062f\u064a\u0648 \u0628\u0627\u0644\u0641\u0639\u0644."):("youtube"==r?add_to_gallery(s,"youtube",e,n):add_to_gallery(s,l,e),$("#gallery_modal").modal("toggle"),$("#gallery_modal .modal-body").remove(),$("#gallery_modal .modal-content").append($(".init-modal-body").html()),$(".add_gitem_input input[type='text']").each((function(){$(this).val("")}))):p("\u0644\u0642\u062f \u0623\u0636\u0641\u062a \u0647\u0630\u0647 \u0627\u0644\u0635\u0648\u0631\u0629 \u0628\u0627\u0644\u0641\u0639\u0644."))}))}function a(e){var t;switch(!0){case s(e.responseJSON.error):t=": \u0646\u0631\u062c\u0648 \u0625\u062f\u062e\u0627\u0644 \u0631\u0627\u0628\u0637 \u0635\u062d\u064a\u062d \u0644\u0644\u0635\u0648\u0631\u0629";break;case/Unauthorized|Forbidden/.test(e.responseJSON.error):t=": \u0645\u0646 \u063a\u064a\u0631 \u0627\u0644\u0645\u062a\u0627\u062d \u062a\u062d\u0645\u064a\u0644 \u0635\u0648\u0631\u0629 \u0645\u0646 \u062e\u0644\u0627\u0644 \u0647\u0630\u0627 \u0627\u0644\u0631\u0627\u0628\u0637";break;case-1!==e.responseJSON.error.indexOf("Not Found"):t=": \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0627\u0644\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0631\u0627\u062f \u062a\u062d\u0645\u064a\u0644\u0647\u0627 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f\u0629";break;case-1!==e.responseJSON.error.indexOf("Faild to open TCP"):t=": \u0627\u0644\u0631\u0627\u0628\u0637 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u060c \u0623\u0648 \u0647\u0646\u0627\u0643 \u062e\u0637\u0623 \u0628\u0627\u0644\u0634\u0628\u0643\u0629 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0647\u0630\u0647 \u0627\u0644\u0635\u0641\u062d\u0629";break;default:t=""}return t}function s(e){var t=!1;return["bad URI","undefined method","URI must be ascii"].some((function(n){-1===e.indexOf(n)||(t=!0)})),t}function l(){$(".gitem_delete_btn").on("click",(function(e){e.preventDefault();var t=gallerySlider.current_slide_attributes(),n=gallerySlider.current_slide();(input=y(t.video_id||t.file))&&input.remove(),n.hasClass("service_gallery_file")&&h(t.gallery_file_id),gallerySlider.remove_current_slide(),update_gallery_urls()}))}function c(){void 0===k&&(k={youtube:[],images:[]})}function d(){$(".selected-images").html(""),$("a.upload_seleted_images_btn").addClass("hidden"),$("a.service_image_u_btn").removeClass("hidden")}function u(){$(document).keyup((function(){!$(".remote_image_btn").find("i").hasClass("fa-spinner")&&$("a.service_image_u_btn").find("i").hasClass("fa-spinner")}))}function h(e){$("<input>").attr({type:"hidden",name:"deleted_gallery_items[]",value:e}).appendTo("#service_gallery")}function p(e){$(".modal-body .dialog_message").removeClass("hidden"),$(".modal-body .dialog_message").text(e),$(".modal-body .dialog_message").addClass("red")}function f(){$(".modal-body .dialog_message").addClass("hidden"),$(".modal-body .dialog_message").removeClass("red"),$(".modal-body .dialog_message").text("")}function m(e,t,n){return $("<input>").attr({id:_(9),type:"hidden",class:"hidden_input",name:"gallery_items["+e+"]["+n+"]",value:t}).appendTo("#service_gallery")}function g(e,t,n){return(input=v(n))&&(n=input.attr("original_file"),input.remove()),$("<input>").attr({id:_(9),type:"hidden",class:"replace_input",name:"replace_items["+e+"]["+n+"]",value:t,original_file:n}).appendTo("#service_gallery")}function v(e){var t=$('input.replace_input[original_file="'+e+'"]');if(t.length>0)return t}function y(e){var t=$('input.hidden_input[value="'+e+'"]');if(t.length>0)return t}function b(e,t,n){var i=youtube_url_id(e);return $("<div>").attr({id:i,"data-vid":i,"data-vthumbnail":t,original_file:n,class:"video-placeholder"})}function _(e){var t="",n=e/1;for(i=0;i<n;i++)t+=Math.random().toString(36).substr(2,1);return t}function w(e){C=e,c(),toggle_edit_new(),gallerySlider.onready(update_gallery_urls),l(),t()}var k,C=C;return add_to_gallery=function(e,t,n,i){if(n)return replace_gallery_file(e,t,i);var o=0==gallerySlider.slides_count()?0:gallerySlider.current_slide_index()+1,r=$("<div>").attr({class:"gitem",id:"gf-"+o});"youtube"==t?(b(e,i).appendTo(r),m("youtube",youtube_url_id(e),o)):($("<img>").attr({src:e,width:"100%","attr-file":t}).appendTo(r),m("images",t,o)),gallerySlider.append_slide(r),update_gallery_urls()},replace_gallery_file=function(e,t,n){var i=gallerySlider.current_slide_attributes(),o=(gallerySlider.current_slide(),youtube_url_id(e));if(input=y(i.video_id||i.file))return input.remove(),gallerySlider.remove_current_slide(),add_to_gallery(e,t,n);var r=$("<div>").attr({class:"gitem"});"youtube"==t?(b(e,n,i.gallery_file_id).appendTo(r),g("youtube",o,i.gallery_file_id)):($("<img>").attr({src:e,width:"100%","attr-file":t,original_file:i.gallery_file_id}).appendTo(r),g("images",t,i.gallery_file_id)),gallerySlider.replace_current_slide(r),update_gallery_urls()},toggle_edit_new=function(){gallerySlider.ready()&&(items_count=gallerySlider.slides_count(),0==items_count?($("#service_gallery").off(),$("#service_gallery #gallery_edit").hide(),$("#service_gallery #gallery_new").show()):($("#service_gallery #gallery_new").hide(),$("#service_gallery").hover((function(){$("#gallery_edit").show()}),(function(){$("#gallery_edit").hide()}))))},update_gallery_urls=function(){if(gallerySlider.ready()){for(toggle_edit_new(),i=-1;i<gallerySlider.slides_count();i++)(attr=gallerySlider.get_slide_attributes(i))&&k[attr.type].push(attr.video_id||attr.file);k.youtube=$.unique(k.youtube),k.images=$.unique(k.images)}},clear_dialog=function(){$(".dialog_message").addClass("hidden"),$(".dialog_message").removeClass("red").removeClass("green").removeClass("yellow"),$(".dialog_content input[type='password']").val("")},youtube_url_id=function(e){var t=/(?:youtube(?:-nocookie)?\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i,n=e.match(t);return!!n&&n[1]},youtube_full_url_id=function(e){return"//www.youtube-nocookie.com/embed/"+e+"?rel=0&showinfo=0&controls=0&vq=hd72"},remove_http=function(e){return 0!=e&&(/^\//i.test(e)||(/^https?:\/\//i.test(e)||(e="http://"+e),e=e.replace(/^https?:/,""))),e},{init:w}}();!function(e){"use strict";function t(e,t){e.className+=" "+t}function n(e,t){for(var n=t.split(" "),i=0;i<n.length;i+=1)e.className=e.className.replace(" "+n[i],"")}function i(){return"rtl"===e.getComputedStyle(document.body).direction}function o(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop}function r(){return document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft}function a(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function s(e,t){return function(){if(arguments.length>0){for(var n=[],i=0;i<arguments.length;i+=1)n.push(arguments[i]);return n.push(e),t.apply(e,n)}return t.apply(e,[null,e])}}function l(e,t){return{index:e,button:t,cancel:!1}}function c(){function e(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function t(e){var t=i[e].dialog;return t&&"function"==typeof t.__init&&t.__init(t),t}function n(t,n,o,r){var a={dialog:null,factory:n};return void 0!==r&&(a.factory=function(){return e(new i[r].factory,new n)}),o||(a.dialog=e(new a.factory,g)),i[t]=a}var i={};return{defaults:u,dialog:function(i,o,r,a){if("function"!=typeof o)return t(i);if(this.hasOwnProperty(i))throw new Error("alertify.dialog: name already exists");var s=n(i,o,r,a);this[i]=r?function(){if(0===arguments.length)return s.dialog;var t=e(new s.factory,g);return t&&"function"==typeof t.__init&&t.__init(t),t.main.apply(t,arguments),t.show.apply(t)}:function(){if(s.dialog&&"function"==typeof s.dialog.__init&&s.dialog.__init(s.dialog),0===arguments.length)return s.dialog;var e=s.dialog;return e.main.apply(s.dialog,arguments),e.show.apply(s.dialog)}},closeAll:function(e){for(var t=h.slice(0),n=0;n<t.length;n+=1){var i=t[n];(void 0===e||e!==i)&&i.close()}},setting:function(e,n,i){if("notifier"===e)return v.setting(n,i);var o=t(e);return o?o.setting(n,i):void 0},set:function(e,t,n){return this.setting(e,t,n)},get:function(e,t){return this.setting(e,t)},notify:function(e,t,n,i){return v.create(t,i).push(e,n)},message:function(e,t,n){return v.create(null,n).push(e,t)},success:function(e,t,n){return v.create("success",n).push(e,t)},error:function(e,t,n){return v.create("error",n).push(e,t)},warning:function(e,t,n){return v.create("warning",n).push(e,t)},dismissAll:function(){v.dismissAll()}}}var d={ENTER:13,ESC:27,F1:112,F12:123,LEFT:37,RIGHT:39},u={modal:!0,basic:!1,frameless:!1,movable:!0,resizable:!0,closable:!0,closableByDimmer:!0,maximizable:!0,startMaximized:!1,pinnable:!0,pinned:!0,padding:!0,overflow:!0,maintainFocus:!0,transition:"pulse",autoReset:!0,notifier:{delay:5,position:"bottom-right"},glossary:{title:"AlertifyJS",ok:"OK",cancel:"Cancel",acccpt:"Accept",deny:"Deny",confirm:"Confirm",decline:"Decline",close:"Close",maximize:"Maximize",restore:"Restore"},theme:{input:"ajs-input",ok:"ajs-ok",cancel:"ajs-cancel"}},h=[],p=document.addEventListener?function(e,t,n,i){e.addEventListener(t,n,!0===i)}:document.attachEvent?function(e,t,n){e.attachEvent("on"+t,n)}:void 0,f=document.removeEventListener?function(e,t,n,i){e.removeEventListener(t,n,!0===i)}:document.detachEvent?function(e,t,n){e.detachEvent("on"+t,n)}:void 0,m=function(){var e,t,n=!1,i={animation:"animationend",OAnimation:"oAnimationEnd oanimationend",msAnimation:"MSAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==document.documentElement.style[e]){t=i[e],n=!0;break}return{type:t,supported:n}}(),g=function(){function c(e){if(!e.__internal){var n;delete e.__init,null===_e&&document.body.setAttribute("tabindex","0"),"function"==typeof e.setup?((n=e.setup()).options=n.options||{},n.focus=n.focus||{}):n={buttons:[],focus:{element:null,select:!1},options:{}},"object"!=typeof e.hooks&&(e.hooks={});var i=[];if(Array.isArray(n.buttons))for(var o=0;o<n.buttons.length;o+=1){var r=n.buttons[o],a={};for(var l in r)r.hasOwnProperty(l)&&(a[l]=r[l]);i.push(a)}var c=e.__internal={isOpen:!1,activeElement:document.body,timerIn:void 0,timerOut:void 0,buttons:i,focus:n.focus,options:{title:void 0,modal:void 0,basic:void 0,frameless:void 0,pinned:void 0,movable:void 0,resizable:void 0,autoReset:void 0,closable:void 0,closableByDimmer:void 0,maximizable:void 0,startMaximized:void 0,pinnable:void 0,transition:void 0,padding:void 0,overflow:void 0,onshow:void 0,onclose:void 0,onfocus:void 0},resetHandler:void 0,beginMoveHandler:void 0,beginResizeHandler:void 0,bringToFrontHandler:void 0,modalClickHandler:void 0,buttonsClickHandler:void 0,commandsClickHandler:void 0,transitionInHandler:void 0,transitionOutHandler:void 0},d={};d.root=document.createElement("div"),d.root.className=Ce.base+" "+Ce.hidden+" ",d.root.innerHTML=ke.dimmer+ke.modal,d.dimmer=d.root.firstChild,d.modal=d.root.lastChild,d.modal.innerHTML=ke.dialog,d.dialog=d.modal.firstChild,d.dialog.innerHTML=ke.reset+ke.commands+ke.header+ke.body+ke.footer+ke.resizeHandle+ke.reset,d.reset=[],d.reset.push(d.dialog.firstChild),d.reset.push(d.dialog.lastChild),d.commands={},d.commands.container=d.reset[0].nextSibling,d.commands.pin=d.commands.container.firstChild,d.commands.maximize=d.commands.pin.nextSibling,d.commands.close=d.commands.maximize.nextSibling,d.header=d.commands.container.nextSibling,d.body=d.header.nextSibling,d.body.innerHTML=ke.content,d.content=d.body.firstChild,d.footer=d.body.nextSibling,d.footer.innerHTML=ke.buttons.auxiliary+ke.buttons.primary,d.resizeHandle=d.footer.nextSibling,d.buttons={},d.buttons.auxiliary=d.footer.firstChild,d.buttons.primary=d.buttons.auxiliary.nextSibling,d.buttons.primary.innerHTML=ke.button,d.buttonTemplate=d.buttons.primary.firstChild,d.buttons.primary.removeChild(d.buttonTemplate);for(var u=0;u<e.__internal.buttons.length;u+=1){var h=e.__internal.buttons[u];for(var p in be.indexOf(h.key)<0&&be.push(h.key),h.element=d.buttonTemplate.cloneNode(),h.element.innerHTML=h.text,"string"==typeof h.className&&""!==h.className&&t(h.element,h.className),h.attrs)"className"!==p&&h.attrs.hasOwnProperty(p)&&h.element.setAttribute(p,h.attrs[p]);"auxiliary"===h.scope?d.buttons.auxiliary.appendChild(h.element):d.buttons.primary.appendChild(h.element)}e.elements=d,c.resetHandler=s(e,W),c.beginMoveHandler=s(e,X),c.beginResizeHandler=s(e,te),c.bringToFrontHandler=s(e,C),c.modalClickHandler=s(e,z),c.buttonsClickHandler=s(e,q),c.commandsClickHandler=s(e,E),c.transitionInHandler=s(e,V),c.transitionOutHandler=s(e,Q),e.set("title",void 0===n.options.title?y.defaults.glossary.title:n.options.title),e.set("modal",void 0===n.options.modal?y.defaults.modal:n.options.modal),e.set("basic",void 0===n.options.basic?y.defaults.basic:n.options.basic),e.set("frameless",void 0===n.options.frameless?y.defaults.frameless:n.options.frameless),
e.set("movable",void 0===n.options.movable?y.defaults.movable:n.options.movable),e.set("resizable",void 0===n.options.resizable?y.defaults.resizable:n.options.resizable),e.set("autoReset",void 0===n.options.autoReset?y.defaults.autoReset:n.options.autoReset),e.set("closable",void 0===n.options.closable?y.defaults.closable:n.options.closable),e.set("closableByDimmer",void 0===n.options.closableByDimmer?y.defaults.closableByDimmer:n.options.closableByDimmer),e.set("maximizable",void 0===n.options.maximizable?y.defaults.maximizable:n.options.maximizable),e.set("startMaximized",void 0===n.options.startMaximized?y.defaults.startMaximized:n.options.startMaximized),e.set("pinnable",void 0===n.options.pinnable?y.defaults.pinnable:n.options.pinnable),e.set("pinned",void 0===n.options.pinned?y.defaults.pinned:n.options.pinned),e.set("transition",void 0===n.options.transition?y.defaults.transition:n.options.transition),e.set("padding",void 0===n.options.padding?y.defaults.padding:n.options.padding),e.set("overflow",void 0===n.options.overflow?y.defaults.overflow:n.options.overflow),"function"==typeof e.build&&e.build()}document.body.appendChild(e.elements.root)}function u(){ve=e.scrollX,ye=e.scrollY}function g(){e.scrollTo(ve,ye)}function v(){for(var e=0,i=0;i<h.length;i+=1){var o=h[i];(o.isModal()||o.isMaximized())&&(e+=1)}0===e?n(document.body,Ce.noOverflow):e>0&&document.body.className.indexOf(Ce.noOverflow)<0&&t(document.body,Ce.noOverflow)}function b(e,i,o){"string"==typeof o&&n(e.elements.root,Ce.prefix+o),t(e.elements.root,Ce.prefix+i),_e=e.elements.root.offsetWidth}function _(e){e.get("modal")?(n(e.elements.root,Ce.modeless),e.isOpen()&&(de(e),R(e),v())):(t(e.elements.root,Ce.modeless),e.isOpen()&&(ce(e),R(e),v()))}function w(e){e.get("basic")?t(e.elements.root,Ce.basic):n(e.elements.root,Ce.basic)}function k(e){e.get("frameless")?t(e.elements.root,Ce.frameless):n(e.elements.root,Ce.frameless)}function C(e,t){for(var n=h.indexOf(t)+1;n<h.length;n+=1)if(h[n].isModal())return;return document.body.lastChild!==t.elements.root&&(document.body.appendChild(t.elements.root),h.splice(h.indexOf(t),1),h.push(t),U(t)),!1}function x(e,i,o,r){switch(i){case"title":e.setHeader(r);break;case"modal":_(e);break;case"basic":w(e);break;case"frameless":k(e);break;case"pinned":M(e);break;case"closable":P(e);break;case"maximizable":I(e);break;case"pinnable":L(e);break;case"movable":Z(e);break;case"resizable":re(e);break;case"transition":case"transition":b(e,r,o);break;case"padding":r?n(e.elements.root,Ce.noPadding):e.elements.root.className.indexOf(Ce.noPadding)<0&&t(e.elements.root,Ce.noPadding);break;case"overflow":r?n(e.elements.root,Ce.noOverflow):e.elements.root.className.indexOf(Ce.noOverflow)<0&&t(e.elements.root,Ce.noOverflow)}"function"==typeof e.hooks.onupdate&&e.hooks.onupdate.call(e,i,o,r)}function T(e,t,n,i,o){var r,a={op:void 0,items:[]};if(void 0===o&&"string"==typeof i)a.op="get",t.hasOwnProperty(i)?(a.found=!0,a.value=t[i]):(a.found=!1,a.value=void 0);else if(a.op="set","object"==typeof i){var s=i;for(var l in s)t.hasOwnProperty(l)?(t[l]!==s[l]&&(r=t[l],t[l]=s[l],n.call(e,l,r,s[l])),a.items.push({key:l,value:s[l],found:!0})):a.items.push({key:l,value:s[l],found:!1})}else{if("string"!=typeof i)throw new Error("args must be a string or object");t.hasOwnProperty(i)?(t[i]!==o&&(r=t[i],t[i]=o,n.call(e,i,r,o)),a.items.push({key:i,value:o,found:!0})):a.items.push({key:i,value:o,found:!1})}return a}function S(e){var t;F(e,(function(e){return t=!0===e.invokeOnClose})),!t&&e.isOpen()&&e.close()}function E(e,t){switch(e.srcElement||e.target){case t.elements.commands.pin:t.isPinned()?A(t):$(t);break;case t.elements.commands.maximize:t.isMaximized()?O(t):D(t);break;case t.elements.commands.close:S(t)}return!1}function $(e){e.set("pinned",!0)}function A(e){e.set("pinned",!1)}function D(e){t(e.elements.root,Ce.maximized),e.isOpen()&&v()}function O(e){n(e.elements.root,Ce.maximized),e.isOpen()&&v()}function L(e){e.get("pinnable")?t(e.elements.root,Ce.pinnable):n(e.elements.root,Ce.pinnable)}function N(e){var t=r();e.elements.modal.style.marginTop=o()+"px",e.elements.modal.style.marginLeft=t+"px",e.elements.modal.style.marginRight=-t+"px"}function j(e){var t=parseInt(e.elements.modal.style.marginTop,10),n=parseInt(e.elements.modal.style.marginLeft,10);if(e.elements.modal.style.marginTop="",e.elements.modal.style.marginLeft="",e.elements.modal.style.marginRight="",e.isOpen()){var i=0,a=0;""!==e.elements.dialog.style.top&&(i=parseInt(e.elements.dialog.style.top,10)),e.elements.dialog.style.top=i+(t-o())+"px",""!==e.elements.dialog.style.left&&(a=parseInt(e.elements.dialog.style.left,10)),e.elements.dialog.style.left=a+(n-r())+"px"}}function R(e){e.get("modal")||e.get("pinned")?j(e):N(e)}function M(e){e.get("pinned")?(n(e.elements.root,Ce.unpinned),e.isOpen()&&j(e)):(t(e.elements.root,Ce.unpinned),e.isOpen()&&!e.isModal()&&N(e))}function I(e){e.get("maximizable")?t(e.elements.root,Ce.maximizable):n(e.elements.root,Ce.maximizable)}function P(e){e.get("closable")?(t(e.elements.root,Ce.closable),me(e)):(n(e.elements.root,Ce.closable),ge(e))}function z(e,t){var n=e.srcElement||e.target;return xe||n!==t.elements.modal||!0!==t.get("closableByDimmer")||S(t),xe=!1,!1}function F(e,t){for(var n=0;n<e.__internal.buttons.length;n+=1){var i=e.__internal.buttons[n];if(!i.element.disabled&&t(i)){var o=l(n,i);"function"==typeof e.callback&&e.callback.apply(e,[o]),!1===o.cancel&&e.close();break}}}function q(e,t){var n=e.srcElement||e.target;F(t,(function(e){return e.element===n&&(Te=!0)}))}function H(e){if(!Te){var t=h[h.length-1],n=e.keyCode;return 0===t.__internal.buttons.length&&n===d.ESC&&!0===t.get("closable")?(S(t),!1):be.indexOf(n)>-1?(F(t,(function(e){return e.key===n})),!1):void 0}Te=!1}function B(e){var t=h[h.length-1],n=e.keyCode;if(n===d.LEFT||n===d.RIGHT){for(var i=t.__internal.buttons,o=0;o<i.length;o+=1)if(document.activeElement===i[o].element)switch(n){case d.LEFT:return void i[(o||i.length)-1].element.focus();case d.RIGHT:return void i[(o+1)%i.length].element.focus()}}else if(n<d.F12+1&&n>d.F1-1&&be.indexOf(n)>-1)return e.preventDefault(),e.stopPropagation(),F(t,(function(e){return e.key===n})),!1}function U(e,t){if(t)t.focus();else{var n=e.__internal.focus,i=n.element;switch(typeof n.element){case"number":e.__internal.buttons.length>n.element&&(i=!0===e.get("basic")?e.elements.reset[0]:e.__internal.buttons[n.element].element);break;case"string":i=e.elements.body.querySelector(n.element);break;case"function":i=n.element.call(e)}null!=i||0!==e.__internal.buttons.length||(i=e.elements.reset[0]),i&&i.focus&&(i.focus(),n.select&&i.select&&i.select())}}function W(e,t){if(!t)for(var n=h.length-1;n>-1;n-=1)if(h[n].isModal()){t=h[n];break}if(t&&t.isModal()){var i,o=e.srcElement||e.target,r=o===t.elements.reset[1]||0===t.__internal.buttons.length&&o===document.body;r&&(t.get("maximizable")?i=t.elements.commands.maximize:t.get("closable")&&(i=t.elements.commands.close)),void 0===i&&("number"==typeof t.__internal.focus.element?o===t.elements.reset[0]?i=t.elements.buttons.auxiliary.firstChild||t.elements.buttons.primary.firstChild:r&&(i=t.elements.reset[0]):o===t.elements.reset[0]&&(i=t.elements.buttons.primary.lastChild||t.elements.buttons.auxiliary.lastChild)),U(t,i)}}function V(e,t){clearTimeout(t.__internal.timerIn),U(t),g(),Te=!1,"function"==typeof t.get("onfocus")&&t.get("onfocus").call(t),f(t.elements.dialog,m.type,t.__internal.transitionInHandler),n(t.elements.root,Ce.animationIn)}function Q(e,t){clearTimeout(t.__internal.timerOut),f(t.elements.dialog,m.type,t.__internal.transitionOutHandler),J(t),oe(t),t.isMaximized()&&!t.get("startMaximized")&&O(t),y.defaults.maintainFocus&&t.__internal.activeElement&&(t.__internal.activeElement.focus(),t.__internal.activeElement=null)}function G(e,t){t.style.left=e[Ae]-Ee+"px",t.style.top=e[De]-$e+"px"}function X(e,n){var i;if(null===Oe&&!n.isMaximized()&&n.get("movable")&&("touchstart"===e.type?(e.preventDefault(),i=e.targetTouches[0],Ae="clientX",De="clientY"):0===e.button&&(i=e),i)){Se=n,Ee=i[Ae],$e=i[De];var o=n.elements.dialog;return t(o,Ce.capture),o.style.left&&(Ee-=parseInt(o.style.left,10)),o.style.top&&($e-=parseInt(o.style.top,10)),G(i,o),t(document.body,Ce.noSelection),!1}}function K(e){var t;Se&&("touchmove"===e.type?(e.preventDefault(),t=e.targetTouches[0]):0===e.button&&(t=e),t&&G(t,Se.elements.dialog))}function Y(){if(Se){var e=Se.elements.dialog;Se=null,n(document.body,Ce.noSelection),n(e,Ce.capture)}}function J(e){Se=null;var t=e.elements.dialog;t.style.left=t.style.top=""}function Z(e){e.get("movable")?(t(e.elements.root,Ce.movable),e.isOpen()&&ue(e)):(J(e),n(e.elements.root,Ce.movable),e.isOpen()&&he(e))}function ee(e,t,n){var o,r,a=t,s=0,l=0;do{s+=a.offsetLeft,l+=a.offsetTop}while(a=a.offsetParent);!0===n?(o=e.pageX,r=e.pageY):(o=e.clientX,r=e.clientY);var c=i();if(c&&(o=document.body.offsetWidth-o,isNaN(Le)||(s=document.body.offsetWidth-s-t.offsetWidth)),t.style.height=r-l+Re+"px",t.style.width=o-s+Re+"px",!isNaN(Le)){var d=.5*Math.abs(t.offsetWidth-Ne);c&&(d*=-1),t.offsetWidth>Ne?t.style.left=Le+d+"px":t.offsetWidth>=je&&(t.style.left=Le-d+"px")}}function te(e,n){var i;if(!n.isMaximized()&&("touchstart"===e.type?(e.preventDefault(),i=e.targetTouches[0]):0===e.button&&(i=e),i)){Oe=n,Re=n.elements.resizeHandle.offsetHeight/2;var o=n.elements.dialog;return t(o,Ce.capture),Le=parseInt(o.style.left,10),o.style.height=o.offsetHeight+"px",o.style.minHeight=n.elements.header.offsetHeight+n.elements.footer.offsetHeight+"px",o.style.width=(Ne=o.offsetWidth)+"px","none"!==o.style.maxWidth&&(o.style.minWidth=(je=o.offsetWidth)+"px"),o.style.maxWidth="none",t(document.body,Ce.noSelection),!1}}function ne(e){var t;Oe&&("touchmove"===e.type?(e.preventDefault(),t=e.targetTouches[0]):0===e.button&&(t=e),t&&ee(t,Oe.elements.dialog,!Oe.get("modal")&&!Oe.get("pinned")))}function ie(){if(Oe){var e=Oe.elements.dialog;Oe=null,n(document.body,Ce.noSelection),n(e,Ce.capture),xe=!0}}function oe(e){Oe=null;var t=e.elements.dialog;"none"===t.style.maxWidth&&(t.style.maxWidth=t.style.minWidth=t.style.width=t.style.height=t.style.minHeight=t.style.left="",Le=Number.Nan,Ne=je=Re=0)}function re(e){e.get("resizable")?(t(e.elements.root,Ce.resizable),e.isOpen()&&pe(e)):(oe(e),n(e.elements.root,Ce.resizable),e.isOpen()&&fe(e))}function ae(){for(var e=0;e<h.length;e+=1){var t=h[e];t.get("autoReset")&&(J(t),oe(t))}}function se(t){1===h.length&&(p(e,"resize",ae),p(document.body,"keyup",H),p(document.body,"keydown",B),p(document.body,"focus",W),p(document.documentElement,"mousemove",K),p(document.documentElement,"touchmove",K),p(document.documentElement,"mouseup",Y),p(document.documentElement,"touchend",Y),p(document.documentElement,"mousemove",ne),p(document.documentElement,"touchmove",ne),p(document.documentElement,"mouseup",ie),p(document.documentElement,"touchend",ie)),p(t.elements.commands.container,"click",t.__internal.commandsClickHandler),p(t.elements.footer,"click",t.__internal.buttonsClickHandler),p(t.elements.reset[0],"focus",t.__internal.resetHandler),p(t.elements.reset[1],"focus",t.__internal.resetHandler),Te=!0,p(t.elements.dialog,m.type,t.__internal.transitionInHandler),t.get("modal")||ce(t),t.get("resizable")&&pe(t),t.get("movable")&&ue(t)}function le(t){1===h.length&&(f(e,"resize",ae),f(document.body,"keyup",H),f(document.body,"keydown",B),f(document.body,"focus",W),f(document.documentElement,"mousemove",K),f(document.documentElement,"mouseup",Y),f(document.documentElement,"mousemove",ne),f(document.documentElement,"mouseup",ie)),f(t.elements.commands.container,"click",t.__internal.commandsClickHandler),f(t.elements.footer,"click",t.__internal.buttonsClickHandler),f(t.elements.reset[0],"focus",t.__internal.resetHandler),f(t.elements.reset[1],"focus",t.__internal.resetHandler),p(t.elements.dialog,m.type,t.__internal.transitionOutHandler),t.get("modal")||de(t),t.get("movable")&&he(t),t.get("resizable")&&fe(t)}function ce(e){p(e.elements.dialog,"focus",e.__internal.bringToFrontHandler,!0)}function de(e){f(e.elements.dialog,"focus",e.__internal.bringToFrontHandler,!0)}function ue(e){p(e.elements.header,"mousedown",e.__internal.beginMoveHandler),p(e.elements.header,"touchstart",e.__internal.beginMoveHandler)}function he(e){f(e.elements.header,"mousedown",e.__internal.beginMoveHandler),f(e.elements.header,"touchstart",e.__internal.beginMoveHandler)}function pe(e){p(e.elements.resizeHandle,"mousedown",e.__internal.beginResizeHandler),p(e.elements.resizeHandle,"touchstart",e.__internal.beginResizeHandler)}function fe(e){f(e.elements.resizeHandle,"mousedown",e.__internal.beginResizeHandler),f(e.elements.resizeHandle,"touchstart",e.__internal.beginResizeHandler)}function me(e){p(e.elements.modal,"click",e.__internal.modalClickHandler)}function ge(e){f(e.elements.modal,"click",e.__internal.modalClickHandler)}var ve,ye,be=[],_e=null,we=e.navigator.userAgent.indexOf("Safari")>-1&&e.navigator.userAgent.indexOf("Chrome")<0,ke={dimmer:'<div class="ajs-dimmer"></div>',modal:'<div class="ajs-modal" tabindex="0"></div>',dialog:'<div class="ajs-dialog" tabindex="0"></div>',reset:'<button class="ajs-reset"></button>',commands:'<div class="ajs-commands"><button class="ajs-pin"></button><button class="ajs-maximize"></button><button class="ajs-close"></button></div>',header:'<div class="ajs-header"></div>',body:'<div class="ajs-body"></div>',content:'<div class="ajs-content"></div>',footer:'<div class="ajs-footer"></div>',buttons:{primary:'<div class="ajs-primary ajs-buttons"></div>',auxiliary:'<div class="ajs-auxiliary ajs-buttons"></div>'},button:'<button class="ajs-button"></button>',resizeHandle:'<div class="ajs-handle"></div>'},Ce={base:"alertify",prefix:"ajs-",hidden:"ajs-hidden",noSelection:"ajs-no-selection",noOverflow:"ajs-no-overflow",noPadding:"ajs-no-padding",modeless:"ajs-modeless",movable:"ajs-movable",resizable:"ajs-resizable",capture:"ajs-capture",fixed:"ajs-fixed",closable:"ajs-closable",maximizable:"ajs-maximizable",maximize:"ajs-maximize",restore:"ajs-restore",pinnable:"ajs-pinnable",unpinned:"ajs-unpinned",pin:"ajs-pin",maximized:"ajs-maximized",animationIn:"ajs-in",animationOut:"ajs-out",shake:"ajs-shake",basic:"ajs-basic",frameless:"ajs-frameless"},xe=!1,Te=!1,Se=null,Ee=0,$e=0,Ae="pageX",De="pageY",Oe=null,Le=Number.Nan,Ne=0,je=0,Re=0;return{__init:c,isOpen:function(){return this.__internal.isOpen},isModal:function(){return this.elements.root.className.indexOf(Ce.modeless)<0},isMaximized:function(){return this.elements.root.className.indexOf(Ce.maximized)>-1},isPinned:function(){return this.elements.root.className.indexOf(Ce.unpinned)<0},maximize:function(){return this.isMaximized()||D(this),this},restore:function(){return this.isMaximized()&&O(this),this},pin:function(){return this.isPinned()||$(this),this},unpin:function(){return this.isPinned()&&A(this),this},moveTo:function(e,t){if(!isNaN(e)&&!isNaN(t)){var n=this.elements.dialog,o=n,r=0,a=0;n.style.left&&(r-=parseInt(n.style.left,10)),n.style.top&&(a-=parseInt(n.style.top,10));do{r+=o.offsetLeft,a+=o.offsetTop}while(o=o.offsetParent);var s=e-r,l=t-a;i()&&(s*=-1),n.style.left=s+"px",n.style.top=l+"px"}return this},resizeTo:function(e,t){var n=parseFloat(e),i=parseFloat(t),o=/(\d*\.\d+|\d+)%/;if(!isNaN(n)&&!isNaN(i)&&!0===this.get("resizable")){(""+e).match(o)&&(n=n/100*document.documentElement.clientWidth),(""+t).match(o)&&(i=i/100*document.documentElement.clientHeight);var r=this.elements.dialog;"none"!==r.style.maxWidth&&(r.style.minWidth=(je=r.offsetWidth)+"px"),r.style.maxWidth="none",r.style.minHeight=this.elements.header.offsetHeight+this.elements.footer.offsetHeight+"px",r.style.width=n+"px",r.style.height=i+"px"}return this},setting:function(e,t){var n=this,i=T(this,this.__internal.options,(function(e,t,i){x(n,e,t,i)}),e,t);if("get"===i.op)return i.found?i.value:void 0!==this.settings?T(this,this.settings,this.settingUpdated||function(){},e,t).value:void 0;if("set"===i.op){if(i.items.length>0)for(var o=this.settingUpdated||function(){},r=0;r<i.items.length;r+=1){var a=i.items[r];a.found||void 0===this.settings||T(this,this.settings,o,a.key,a.value)}return this}},set:function(e,t){return this.setting(e,t),this},get:function(e){return this.setting(e)},setHeader:function(t){return"string"==typeof t?(a(this.elements.header),this.elements.header.innerHTML=t):t instanceof e.HTMLElement&&this.elements.header.firstChild!==t&&(a(this.elements.header),this.elements.header.appendChild(t)),this},setContent:function(t){return"string"==typeof t?(a(this.elements.content),this.elements.content.innerHTML=t):t instanceof e.HTMLElement&&this.elements.content.firstChild!==t&&(a(this.elements.content),this.elements.content.appendChild(t)),this},showModal:function(e){return this.show(!0,e)},show:function(e,i){if(c(this),this.__internal.isOpen){J(this),oe(this),t(this.elements.dialog,Ce.shake);var o=this;setTimeout((function(){n(o.elements.dialog,Ce.shake)}),200)}else{if(this.__internal.isOpen=!0,h.push(this),y.defaults.maintainFocus&&(this.__internal.activeElement=document.activeElement),"function"==typeof this.prepare&&this.prepare(),se(this),void 0!==e&&this.set("modal",e),u(),v(),"string"==typeof i&&""!==i&&(this.__internal.className=i,t(this.elements.root,i)),this.get("startMaximized")?this.maximize():this.isMaximized()&&O(this),R(this),n(this.elements.root,Ce.animationOut),t(this.elements.root,Ce.animationIn),clearTimeout(this.__internal.timerIn),this.__internal.timerIn=setTimeout(this.__internal.transitionInHandler,m.supported?1e3:100),we){var r=this.elements.root;r.style.display="none",setTimeout((function(){r.style.display="block"}),0)}_e=this.elements.root.offsetWidth,n(this.elements.root,Ce.hidden),"function"==typeof this.hooks.onshow&&this.hooks.onshow.call(this),"function"==typeof this.get("onshow")&&this.get("onshow").call(this)}return this},close:function(){return this.__internal.isOpen&&(le(this),n(this.elements.root,Ce.animationIn),t(this.elements.root,Ce.animationOut),clearTimeout(this.__internal.timerOut),this.__internal.timerOut=setTimeout(this.__internal.transitionOutHandler,m.supported?1e3:100),t(this.elements.root,Ce.hidden),_e=this.elements.modal.offsetWidth,void 0!==this.__internal.className&&""!==this.__internal.className&&n(this.elements.root,this.__internal.className),"function"==typeof this.hooks.onclose&&this.hooks.onclose.call(this),"function"==typeof this.get("onclose")&&this.get("onclose").call(this),h.splice(h.indexOf(this),1),this.__internal.isOpen=!1,v()),this},closeOthers:function(){return y.closeAll(this),this}}}(),v=function(){function i(e){e.__internal||(e.__internal={position:y.defaults.notifier.position,delay:y.defaults.notifier.delay},d=document.createElement("DIV"),l(e)),d.parentNode!==document.body&&document.body.appendChild(d)}function o(e){e.__internal.pushed=!0,u.push(e)}function r(e){u.splice(u.indexOf(e),1),e.__internal.pushed=!1}function l(e){switch(d.className=h.base,e.__internal.position){case"top-right":t(d,h.top+" "+h.right);break;case"top-left":t(d,h.top+" "+h.left);break;case"bottom-left":t(d,h.bottom+" "+h.left);break;default:t(d,h.bottom+" "+h.right)}}function c(i,l){function c(e,t){t.dismiss(!0)}function u(e,t){f(t.element,m.type,u),d.removeChild(t.element)}function g(e){return e.__internal||(e.__internal={pushed:!1,delay:void 0,timer:void 0,clickHandler:void 0,transitionEndHandler:void 0,transitionTimeout:void 0},e.__internal.clickHandler=s(e,c),e.__internal.transitionEndHandler=s(e,u)),e}function y(e){clearTimeout(e.__internal.timer),clearTimeout(e.__internal.transitionTimeout)}return g({element:i,push:function(e,n){if(!this.__internal.pushed){var i,r;switch(o(this),y(this),arguments.length){case 0:r=this.__internal.delay;break;case 1:"number"==typeof e?r=e:(i=e,r=this.__internal.delay);break;case 2:i=e,r=n}return void 0!==i&&this.setContent(i),v.__internal.position.indexOf("top")<0?d.appendChild(this.element):d.insertBefore(this.element,d.firstChild),this.element.offsetWidth,t(this.element,h.visible),p(this.element,"click",this.__internal.clickHandler),this.delay(r)}return this},ondismiss:function(){},callback:l,dismiss:function(e){return this.__internal.pushed&&(y(this),("function"!=typeof this.ondismiss||!1!==this.ondismiss.call(this))&&(f(this.element,"click",this.__internal.clickHandler),void 0!==this.element&&this.element.parentNode===d&&(this.__internal.transitionTimeout=setTimeout(this.__internal.transitionEndHandler,m.supported?1e3:100),n(this.element,h.visible),"function"==typeof this.callback&&this.callback.call(this,e)),r(this))),this},delay:function(e){if(y(this),this.__internal.delay=void 0===e||isNaN(+e)?v.__internal.delay:+e,this.__internal.delay>0){var t=this;this.__internal.timer=setTimeout((function(){t.dismiss()}),1e3*this.__internal.delay)}return this},setContent:function(t){return"string"==typeof t?(a(this.element),this.element.innerHTML=t):t instanceof e.HTMLElement&&this.element.firstChild!==t&&(a(this.element),this.element.appendChild(t)),this},dismissOthers:function(){return v.dismissAll(this),this}})}var d,u=[],h={base:"alertify-notifier",message:"ajs-message",top:"ajs-top",right:"ajs-right",bottom:"ajs-bottom",left:"ajs-left",visible:"ajs-visible",hidden:"ajs-hidden"};return{setting:function(e,t){if(i(this),void 0===t)return this.__internal[e];switch(e){case"position":this.__internal.position=t,l(this);break;case"delay":this.__internal.delay=t}return this},set:function(e,t){return this.setting(e,t),this},get:function(e){return this.setting(e)},create:function(e,t){i(this);var n=document.createElement("div");return n.className=h.message+("string"==typeof e&&""!==e?" ajs-"+e:""),c(n,t)},dismissAll:function(e){for(var t=u.slice(0),n=0;n<t.length;n+=1){var i=t[n];(void 0===e||e!==i)&&i.dismiss()}}}}(),y=new c;y.dialog("alert",(function(){return{main:function(e,t,n){var i,o,r;switch(arguments.length){case 1:o=e;break;case 2:"function"==typeof t?(o=e,r=t):(i=e,o=t);break;case 3:i=e,o=t,r=n}return this.set("title",i),this.set("message",o),this.set("onok",r),this},setup:function(){return{buttons:[{text:y.defaults.glossary.ok,key:d.ESC,invokeOnClose:!0,className:y.defaults.theme.ok}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(e){this.setContent(e)},settings:{message:void 0,onok:void 0,label:void 0},settingUpdated:function(e,t,n){switch(e){case"message":this.setMessage(n);break;case"label":this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=n)}},callback:function(e){if("function"==typeof this.get("onok")){var t=this.get("onok").call(this,e);void 0!==t&&(e.cancel=!t)}}}})),y.dialog("confirm",(function(){function e(e){null!==n.timer&&(clearInterval(n.timer),n.timer=null,e.__internal.buttons[n.index].element.innerHTML=n.text)}function t(t,i,o){e(t),n.duration=o,n.index=i,n.text=t.__internal.buttons[i].element.innerHTML,n.timer=setInterval(s(t,n.task),1e3),n.task(null,t)}var n={timer:null,index:null,text:null,duratuin:null,task:function(t,i){if(i.isOpen()){if(i.__internal.buttons[n.index].element.innerHTML=n.text+" (&#8207;"+n.duration+"&#8207;) ",n.duration-=1,-1===n.duration){e(i);var o=i.__internal.buttons[n.index],r=l(n.index,o);"function"==typeof i.callback&&i.callback.apply(i,[r]),!1!==r.close&&i.close()}}else e(i)}};return{main:function(e,t,n,i){var o,r,a,s;switch(arguments.length){case 1:r=e;break;case 2:r=e,a=t;break;case 3:r=e,a=t,s=n;break;case 4:o=e,r=t,a=n,s=i}return this.set("title",o),this.set("message",r),this.set("onok",a),this.set("oncancel",s),this},setup:function(){return{buttons:[{text:y.defaults.glossary.ok,key:d.ENTER,className:y.defaults.theme.ok},{text:y.defaults.glossary.cancel,key:d.ESC,invokeOnClose:!0,className:y.defaults.theme.cancel}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(e){this.setContent(e)},settings:{message:null,labels:null,onok:null,oncancel:null,defaultFocus:null,reverseButtons:null},settingUpdated:function(e,t,n){switch(e){case"message":this.setMessage(n);break;case"labels":"ok"in n&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].text=n.ok,this.__internal.buttons[0].element.innerHTML=n.ok),"cancel"in n&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].text=n.cancel,this.__internal.buttons[1].element.innerHTML=n.cancel);break;case"reverseButtons":this.elements.buttons.primary.appendChild(!0===n?this.__internal.buttons[0].element:this.__internal.buttons[1].element);break;case"defaultFocus":this.__internal.focus.element="ok"===n?0:1}},callback:function(t){var n;switch(e(this),t.index){case 0:"function"==typeof this.get("onok")&&(void 0!==(n=this.get("onok").call(this,t))&&(t.cancel=!n));break;case 1:"function"==typeof this.get("oncancel")&&(void 0!==(n=this.get("oncancel").call(this,t))&&(t.cancel=!n))}},autoOk:function(e){return t(this,0,e),this},autoCancel:function(e){return t(this,1,e),this}}})),y.dialog("prompt",(function(){var t=document.createElement("INPUT"),n=document.createElement("P");return{main:function(e,t,n,i,o){var r,a,s,l,c;switch(arguments.length){case 1:a=e;break;case 2:a=e,s=t;break;case 3:a=e,s=t,l=n;break;case 4:a=e,s=t,l=n,c=i;break;case 5:r=e,a=t,s=n,l=i,c=o}return this.set("title",r),this.set("message",a),this.set("value",s),this.set("onok",l),this.set("oncancel",c),this},setup:function(){return{buttons:[{text:y.defaults.glossary.ok,key:d.ENTER,className:y.defaults.theme.ok},{text:y.defaults.glossary.cancel,key:d.ESC,invokeOnClose:!0,className:y.defaults.theme.cancel}],focus:{element:t,select:!0},options:{maximizable:!1,resizable:!1}}},build:function(){t.className=y.defaults.theme.input,t.setAttribute("type","text"),t.value=this.get("value"),this.elements.content.appendChild(n),this.elements.content.appendChild(t)},prepare:function(){},setMessage:function(t){"string"==typeof t?(a(n),n.innerHTML=t):t instanceof e.HTMLElement&&n.firstChild!==t&&(a(n),n.appendChild(t))},settings:{message:void 0,labels:void 0,onok:void 0,oncancel:void 0,value:"",type:"text",reverseButtons:void 0},settingUpdated:function(e,n,i){switch(e){case"message":this.setMessage(i);break;case"value":t.value=i;break;case"type":switch(i){case"text":case"color":case"date":case"datetime-local":case"email":case"month":case"number":case"password":case"search":case"tel":case"time":case"week":t.type=i;break;default:t.type="text"}break;case"labels":i.ok&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=i.ok),i.cancel&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].element.innerHTML=i.cancel);break;case"reverseButtons":this.elements.buttons.primary.appendChild(!0===i?this.__internal.buttons[0].element:this.__internal.buttons[1].element)}},callback:function(e){var n;switch(e.index){case 0:this.value=t.value,"function"==typeof this.get("onok")&&(void 0!==(n=this.get("onok").call(this,e,this.value))&&(e.cancel=!n));break;case 1:"function"==typeof this.get("oncancel")&&(void 0!==(n=this.get("oncancel").call(this,e))&&(e.cancel=!n))}}}})),"object"==typeof module&&"object"==typeof module.exports?module.exports=y:"function"==typeof define&&define.amd?define([],(function(){return y})):e.alertify||(e.alertify=y)}("undefined"!=typeof window?window:this);var alertsControl=function(){function e(e,t){alertify.alert(t).setting("title",e),$(".ajs-modal").attr("style","")}function t(){$(".ajs-modal").attr("style","")}function n(){alertify.defaults={glossary:{title:"\u0625\u0634\u0639\u0627\u0631",ok:"\u0645\u0648\u0627\u0641\u0642",cancel:"\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u0623\u0645\u0631"},theme:{input:"ajs-input",ok:"ajs-ok",cancel:"ajs-cancel"}}}return{set_alertify_defaults:n,show:e,clear_style:t}}(),Filter=function(){function e(e){f={append:e.append,replace:e.replace,data:e.data,load_more_data:e.load_more_data,url_query:e.url_query,filter_url:e.filter_url||d,load_more_url:e.load_more_url||u,on_loading:e.on_loading,on_not_loading:e.on_not_loading},m={load_more_btn_id:e.load_more_btn_id||"#load_more_content"},t(),n(),r(),a(),s(),l()}function t(){$(".filters-list .filter").change((function(){$("#back").removeClass("js-filter-sidebar-button"),o()}))}function n(){$(".filter-sort a.filter").click((function(){$(".filter-sort a.filter").removeClass("active"),$(".filter-sort .dropdown-button .text").html($(this).html()),$(this).addClass("active"),o()}))}function i(){t(),r(),a(),s(),l()}function o(){$.ajax({url:f.filter_url(),method:"GET",dataType:"json",data:f.data(),beforeSend:function(){f.on_loading()}}).done((function(e){f.replace(e),c()})).fail((function(e,t,n){h(e,t,n)})).always((function(){f.on_not_loading()}))}function r(){$(m.load_more_btn_id).click((function(e){e.preventDefault(),disable_btn($(m.load_more_btn_id)),$.ajax({url:f.load_more_url(),method:"POST",dataType:"json",data:f.load_more_data()}).done((function(e){f.append(e)})).fail((function(e,t,n){h(e,t,n)})).always((function(){enable_btn($(m.load_more_btn_id))}))}))}function a(){$(".js-show-more").click((function(e){e.preventDefault();var t=$(this);t.hasClass("opened")?(t.parents("ul").removeClass("revealed"),t.text("\u0627\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),t.removeClass("opened")):(t.parents("ul").addClass("revealed"),t.text("\u0627\u0639\u0631\u0636 \u0623\u0642\u0644"),t.addClass("opened"))}))}function s(){$(".reset-filter").click((function(e){e.preventDefault();var t=$(this).parent().closest(".card").find(".card-body .filters-list");t.find("a.filter").removeClass("is-active"),t.find("input[type=radio].filter").removeAttr("checked"),t.find("input[type=checkbox].filter").prop("checked",!1),o()}))}function l(){$(".filters-list a.filter").click((function(e){e.preventDefault();var t=$(this),n="true"==t.attr("data-deselect-others"),i="true"==t.parent().attr("data-clear-filters"),r=""==t.parent().attr("data-sub-filter-id"),a=t.parent().attr("data-filter-id");(i||n)&&r&&$(".filters-list a.filter.is-active").each((function(){$(this).removeClass("is-active"),$(this).parent().find("ul:first").addClass("u-hidden")})),$(".filters-list a.filter.is-active").each((function(){var e=""==$(this).parent().attr("data-sub-filter-id"),t=$(this).parent().attr("data-filter-id");!r&&e&&a==t?$(this).addClass("is-active"):($(this).removeClass("is-active"),$(this).parent().find("ul:first").addClass("u-hidden"))})),t.addClass("is-active"),r&&t.parent().find("ul:first").removeClass("u-hidden"),o()}))}function c(){var e=f.url_query();0==e.length?history.pushState({},"",window.location.pathname):history.pushState({},"",window.location.pathname+"?"+e)}function d(){return"/ajax"+window.location.pathname}function u(){return"/ajax/load_more/"+window.location.pathname}function h(e,t,n){"timeout"==n?alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0627\u0646\u0642\u0636\u0649 \u0648\u0642\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644"):303==e.status?window.location.href=e.responseText:500==e.status?alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642"):e.responseText?alertsControl.show("\u0625\u0634\u0639\u0627\u0631",e.responseText):alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0639\u0630\u0631\u0627 \u0641\u0634\u0644 \u0627\u0644\u0627\u062a\u0635\u0627\u0644\u060c \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629.")}function p(){var e=$(".filter-sort a.filter.active").first();return e.length?e.data("sort"):void 0}var f={},m={};return{init:e,get_sort:p,rewatch:i,watch_load_more:r}}(),ordersFilter=function(){function e(){$("#orders_table").length&&Filter.init({append:t,replace:n,data:i,load_more_data:o,url_query:c,on_loading:a,on_not_loading:s})}function t(e){$("#orders_table tbody").append(e.content),e.count<25?$("#more_content").parent().hide():$("#more_content").parent().show()}function n(e){$("#orders_table tbody").html(e.content),e.count<25?$("#more_content").parent().hide():$("#more_content").parent().show()}function i(){return{"status[]":l(),sort:Filter.get_sort()}}function o(){return{"status[]":l(),"not_ids[]":r(),sort:Filter.get_sort()}}function r(){var e=[];return $("#orders_table .order").each((function(){e.push(this.id.split("-")[1])})),array_unique_values(e)}function a(){$(".filter-loading").removeClass("hidden"),
$("#orders-card").addClass("hidden")}function s(){$(".filter-loading").addClass("hidden"),$("#orders-card").removeClass("hidden")}function l(){var e=[];return $(".filters-list input:checkbox[name=status]:checked").each((function(){e.push($(this).val())})),e}function c(){return $.param(i())}return{init:e}}(),messagesFilter=function(){function e(){$("#messages_table").length&&Filter.init({append:t,replace:n,data:i,load_more_data:o,url_query:c,on_loading:a,on_not_loading:s})}function t(e){$("#messages_table tbody").append(e.content),e.count<25?$("#more_content").parent().hide():$("#more_content").parent().show()}function n(e){$("#messages_table tbody").html(e.content),e.count<25?$("#more_content").parent().hide():$("#more_content").parent().show()}function i(){return{"dir[]":l(),sort:Filter.get_sort()}}function o(){return{"dir[]":l(),"not_ids[]":r(),sort:Filter.get_sort()}}function r(){var e=[];return $("#messages-card .message").each((function(){e.push(this.id.split("-")[1])})),array_unique_values(e)}function a(){$(".filter-loading").removeClass("hidden"),$("#messages-card").addClass("hidden")}function s(){$(".filter-loading").addClass("hidden"),$("#messages-card").removeClass("hidden")}function l(){var e=[];return $(".filters-list input:checkbox[name=dir]:checked").each((function(){e.push($(this).val())})),e}function c(){return $.param(i())}return{init:e}}(),searchFilter=function(){function e(){$("#services_home").length&&Filter.init({append:t,replace:n,get_not_ids:i,data:a,url_query:b,load_more_data:s,on_loading:o,on_not_loading:r,filter_url:v,load_more_url:y})}function t(e){e&&""!=e.content?($(".services_block_list:first").append(e.content),$("#more_content").show()):$("#more_content").hide()}function n(e){$(".js-page").html(e.content),Filter.watch_load_more()}function i(){var e=[];return $(".services_block_list .service-block").each((function(){e.push(this.id.split("-")[1])})),array_unique_values(e)}function o(){$(".filter-loading").removeClass("hidden"),$("#services_home").addClass("hidden")}function r(){$(".filter-loading").addClass("hidden"),$("#services_home").removeClass("hidden")}function a(){return clean_object({q:l(),c:c(),sc:d(),dt:u(),sl:p(),scu:f(),so:m(),siv:g(),sr:h(),sort:Filter.get_sort(),no_keyword:$("#no_keyword").length>0})}function s(){var e=$(".services_block_list .service-block").length/page_size+1;return clean_object(merge_object({page:e=Math.ceil(e)},a()))}function l(){return keyword=$(".keyword-input").val(),(""==keyword||keyword.length<3)&&(keyword=null),keyword}function c(){var e=[];return selected_categories=$(".filters-list").find(".is-active"),selected_categories.each((function(){main_category_id=$(this).parent().attr("data-filter-id"),sub_category_id=$(this).parent().attr("data-sub-filter-id"),""==sub_category_id&&""!=main_category_id&&e.push(main_category_id)})),array_unique_values(e)}function d(){var e=[];return selected_categories=$(".filters-list .c-list--sub").find(".is-active"),selected_categories.each((function(){sub_category_id=$(this).parent().attr("data-sub-filter-id"),""!=sub_category_id&&e.push(sub_category_id)})),array_unique_values(e)}function u(){var e=$(".filters-list input:radio[name=dt]:checked");if(e.length>0)return e.val()}function h(){var e=$(".filters-list input:radio[name=sr]:checked");if(e.length>0)return e.val()}function p(){var e=[];return $(".filters-list input:checkbox[name=sl]:checked").each((function(){e.push($(this).val())})),e.indexOf("s3")>-1&&e.push("s4"),array_unique_values(e)}function f(){var e=[];return $(".filters-list input:checkbox[name=scu]:checked").each((function(){e.push($(this).val())})),array_unique_values(e)}function m(){if($(".filters-list input:checkbox[name=so]:checked").length>0)return!0}function g(){return $(".filters-list input:checkbox[name=siv]:checked").length>0}function v(){return"/ajax/search"}function y(){return"/ajax/load_more/search/"}function b(){return $.param(a())}return{init:e}}(),paymentsControl=function(){function e(){f(),update_total_price(),o(),u(),c(),$("#pay--total_amount").length&&a()}function t(){success=!0;var e=$("#cc_payment_name").val();return $("#message").addClass("hidden").html(""),""==e?($("#message").removeClass("hidden").html("\u0627\u0644\u0627\u0633\u0645 \u0641\u0627\u0631\u063a\u060c \u0644\u0645 \u062a\u062f\u062e\u0644\u0647 \u0628\u0639\u062f"),$("#cc_payment_name").addClass("error"),$("#cc_payment_name").focus(),success=!1):d(e)&&($("#message").removeClass("hidden").html("\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0630\u064a \u0623\u062f\u062e\u0644\u062a\u0647 \u063a\u064a\u0631 \u0635\u0627\u0644\u062d"),$("#cc_payment_name").addClass("error"),$("#cc_payment_name").focus(),success=!1),success}function n(){window.onbeforeunload=function(){return""},$(".page_header").addClass("offset-md-2"),$("#pay-page").addClass("hidden"),$("#cart-loading-page").removeClass("hidden")}function i(){window.onbeforeunload=function(){}}function o(){$("#cc_payment_form").live("submit",(function(e){e.preventDefault();$(this);var n=$(".saved_credit_card.selected").attr("data-payment-method-id"),o=$("#stripe_customer_id").val(),a=$("#cc_payment_name").val();if(!$("#cc_payment_button").hasClass("disabled"))return n?o&&n?(h(),$("#message").addClass("hidden").html(""),r(o,n),!1):(alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u064a\u0631\u062c\u0649 \u0627\u062e\u062a\u064a\u0627\u0631 \u0628\u0637\u0627\u0642\u0629"),!1):(valid=t(),!!valid&&(h(),stripe.createPaymentMethod("card",cardElement,{billing_details:{name:a}}).then((function(e){if(e.error)i(),$("#pay-message").html(stripe_error_message(e.error.code,e.error.message)),$("#loading-img").addClass("hidden"),p();else{$("#message").addClass("hidden").html("");var t=e.paymentMethod.id;r(o,t)}})),!1))}))}function r(e,t){var i=$("#cc_payment_name").val(),o=$("#user_token").val(),r=$("#cc_cart_order_unique_id").val(),a=$("#save_card").is(":checked"),l="/cart/creditcard/checkout";header_data={token:o,unique_id:r,full_name:i,save_card:a},t&&(header_data.payment_method_id=t),e&&(header_data.stripe_customer_id=e),n(),s(l,header_data,"")}function a(){var e=stripe.paymentRequest({country:"GB",currency:"usd",total:{label:"KHAMSATCOM",amount:parseFloat($("#pay--total_amount").val())},requestPayerName:!0,requestPayerEmail:!1,requestShipping:!1,requestPayerPhone:!1}),t=stripe.elements().create("paymentRequestButton",{paymentRequest:e,style:{paymentRequestButton:{type:"default",theme:"dark"}}});e.canMakePayment().then((function(e){e?(e.applePay&&(document.getElementById("payment_requests").innerHTML='<i class="fa fa-fw fa-apple"></i><span>Apple Pay</span>'),t.mount("#payment-request-button"),document.getElementById("payment-request-button").style.display="block",document.getElementById("payment_requests").classList.remove("force_hidden")):document.getElementById("payment-request-button").style.display="none"})),e.on("paymentmethod",(function(e){var t=$("#cc_cart_order_unique_id").val(),i=$("#user_token").val(),o={unique_id:t,payment_method_id:e.paymentMethod.id,token:i},r="/cart/creditcard/checkout";n(),s(r,o,e.paymentMethod.id)}))}function s(e,t){$.post(e,t,(function(e){"succeeded"==e.payment_status?(i(),$("#pay-message").html("\u062a\u0645\u062a \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062f\u0641\u0639 \u0628\u0646\u062c\u0627\u062d \u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0648\u064a\u0644 \u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0637\u0644\u0628"),window.location=e.redirect_url):"requires_source_action"!=e.payment_status&&"requires_action"!=e.payment_status||l(e,t)}),"json").fail((function(e){i(),$("#pay-message").html(stripe_error_message(e.responseText,e.responseText)),$("#loading-img").addClass("hidden"),p()}))}function l(e){var t="/cart/creditcard/handle_card_action";stripe.confirmCardPayment(e.payment_intent_client_secret).then((function(){$.post(t,e,(function(e){console.log(e),i(),$("#pay-message").html("\u062a\u0645\u062a \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062f\u0641\u0639 \u0628\u0646\u062c\u0627\u062d \u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0648\u064a\u0644 \u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0637\u0644\u0628"),window.location=e.redirect_url}),"json").fail((function(e){i(),$("#pay-message").html(stripe_error_message(e.responseText,e.responseText)),$("#loading-img").addClass("hidden"),p()}))}))}function c(){$("#pay_account_credit").live("click",(function(e){e.preventDefault();var t=$(this);t.hasClass("disabled")||($(this).closest("form").submit(),t.addClass("disabled"))}))}function d(e){return/\d/.test(e)}function u(){$(document).keyup((function(e){$(".remote_image_btn").find("i").hasClass("fa-spinner")||$("a.service_image_u_btn").find("i").hasClass("fa-spinner")||27==e.keyCode&&close_dialog()})),$("#container").on("click",(function(){$(".remote_image_btn").find("i").hasClass("fa-spinner")||$("a.service_image_u_btn").find("i").hasClass("fa-spinner")||close_dialog()})),$("#cc_payment_cancel").live("click",(function(){close_dialog()}))}function h(){$("#cc_payment_button").html('<i class="fa fa-spinner fa-spin"></i> \u062c\u0627\u0631\u064a \u0627\u0644\u062f\u0641\u0639...'),$("#cc_payment_button").addClass("disabled")}function p(){$("#cc_payment_button").html("\u0627\u062f\u0641\u0639 \u0628\u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u0627\u0626\u062a\u0645\u0627\u0646\u064a\u0629"),$("#cc_payment_button").removeClass("disabled")}function f(){$("#card-element").length&&cardElement.mount("#card-element")}return stripe_error_message=function(e,t){var n={invalid_number:"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",incorrect_number:"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",invalid_cvc:"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",incorrect_cvc:"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",expired_card:"\u0628\u0637\u0627\u0642\u0629 \u0645\u0646\u062a\u0647\u064a\u0629\u060c \u064a\u0631\u062c\u0649 \u0645\u0631\u0627\u062c\u0639\u0629 \u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0623\u0648 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0628\u0637\u0627\u0642\u0629 \u0645\u062e\u062a\u0644\u0641\u0629 \u0644\u0644\u062f\u0641\u0639",card_declined:"\u0644\u0644\u0623\u0633\u0641\u060c \u062a\u0645 \u0631\u0641\u0636 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u0627\u0626\u062a\u0645\u0627\u0646\u064a\u0629",exp_month:"\u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u0630\u064a \u0623\u062f\u062e\u0644\u062a\u0647 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",exp_year:"\u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u0630\u064a \u0623\u062f\u062e\u0644\u062a\u0647 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",invalid_expiry_month:"\u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u0630\u064a \u0623\u062f\u062e\u0644\u062a\u0647 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",incomplete_number:"\u0631\u0642\u0645 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0641\u0627\u0631\u063a \u0623\u0648 \u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",incomplete_zip:"\u0643\u0648\u062f zip \u0641\u0627\u0631\u063a \u0623\u0648 \u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",incomplete_expiry:"\u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0641\u0627\u0631\u063a \u0623\u0648 \u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",incomplete_cvc:"\u0643\u0648\u062f CVC \u0641\u0627\u0631\u063a \u0623\u0648 \u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",insufficient_funds:"\u0644\u0627 \u062a\u062d\u062a\u0648\u064a \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0639\u0644\u0649 \u0631\u0635\u064a\u062f \u0643\u0627\u0641\u064a\u060c \u064a\u0631\u062c\u0649 \u0634\u062d\u0646 \u0631\u0635\u064a\u062f \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",card_not_supported:"\u0644\u0644\u0623\u0633\u0641 \u0644\u0645 \u062a\u0646\u062c\u062d \u0627\u0644\u0639\u0645\u0644\u064a\u0629. \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0627 \u062a\u062f\u0639\u0645 \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u0634\u0631\u0627\u0621\u060c \u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0628\u0646\u0643 \u0644\u062d\u0644 \u0627\u0644\u0645\u0634\u0643\u0644\u0629",currency_not_supported:"\u0644\u0644\u0623\u0633\u0641 \u0644\u0645 \u062a\u0646\u062c\u062d \u0627\u0644\u0639\u0645\u0644\u064a\u0629. \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0627 \u062a\u062f\u0639\u0645 \u0627\u0644\u0639\u0645\u0644\u0629 \u0627\u0644\u062a\u064a \u062a\u062d\u0627\u0648\u0644 \u0627\u0644\u062f\u0641\u0639 \u0628\u0647\u0627\u060c \u064a\u0631\u062c\u0649 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0628\u0637\u0627\u0642\u0629 \u0645\u062e\u062a\u0644\u0641\u0629 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",do_not_honor:"\u0644\u0644\u0623\u0633\u0641 \u0644\u0645 \u062a\u0646\u062c\u062d \u0627\u0644\u0639\u0645\u0644\u064a\u0629. \u062a\u0645 \u0631\u0641\u0636 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0633\u0628\u0628 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0628\u0646\u0643 \u0644\u062d\u0644 \u0627\u0644\u0645\u0634\u0643\u0644\u0629",do_not_try_again:"\u0644\u0644\u0623\u0633\u0641 \u0644\u0645 \u062a\u0646\u062c\u062d \u0627\u0644\u0639\u0645\u0644\u064a\u0629. \u062a\u0645 \u0631\u0641\u0636 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0633\u0628\u0628 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0628\u0646\u0643 \u0644\u062d\u0644 \u0627\u0644\u0645\u0634\u0643\u0644\u0629",generic_decline:"\u0644\u0644\u0623\u0633\u0641 \u0644\u0645 \u062a\u0646\u062c\u062d \u0627\u0644\u0639\u0645\u0644\u064a\u0629. \u062a\u0645 \u0631\u0641\u0636 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0633\u0628\u0628 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0628\u0646\u0643 \u0644\u062d\u0644 \u0627\u0644\u0645\u0634\u0643\u0644\u0629",invalid_card_type:"\u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u063a\u064a\u0631 \u0645\u062f\u0639\u0648\u0645\u0629\u060c \u064a\u0631\u062c\u0649 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0628\u0637\u0627\u0642\u0629 \u0645\u062e\u062a\u0644\u0641\u0629 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",incorrect_zip:"\u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u0628\u0631\u064a\u062f\u064a \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",fraudulent:"\u0644\u0644\u0623\u0633\u0641 \u0644\u0645 \u062a\u0646\u062c\u062d \u0627\u0644\u0639\u0645\u0644\u064a\u0629. \u062a\u0645 \u0631\u0641\u0636 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0633\u0628\u0628 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0628\u0646\u0643 \u0644\u062d\u0644 \u0627\u0644\u0645\u0634\u0643\u0644\u0629",payment_intent_authentication_failure:"\u0644\u0644\u0623\u0633\u0641 \u0644\u0645 \u062a\u0646\u062c\u062d \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u0628\u0637\u0627\u0642\u0629\u060c \u064a\u0631\u062d\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u0627",stolen_card:"\u0644\u0644\u0623\u0633\u0641\u060c \u064a\u0628\u062f\u0648 \u0623\u0646 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u064a \u0623\u062f\u062e\u0644\u062a\u0647\u0627 \u062e\u0627\u0637\u0626\u0629 \u0623\u0648 \u0623\u0646 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0627 \u062a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0631\u0635\u064a\u062f \u0643\u0627\u0641\u064a",processing_error:"\u0641\u0634\u0644\u062a \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062f\u0641\u0639\u060c \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",lost_card:"\u0644\u0644\u0623\u0633\u0641\u060c \u064a\u0628\u062f\u0648 \u0623\u0646 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u064a \u0623\u062f\u062e\u0644\u062a\u0647\u0627 \u062e\u0627\u0637\u0626\u0629 \u0623\u0648 \u0623\u0646 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0627 \u062a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0631\u0635\u064a\u062f \u0643\u0627\u0641\u064a",resource_missing:"\u0644\u0644\u0623\u0633\u0641\u060c \u064a\u0628\u062f\u0648 \u0623\u0646 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u064a \u0623\u062f\u062e\u0644\u062a\u0647\u0627 \u062e\u0627\u0637\u0626\u0629 \u0623\u0648 \u0623\u0646 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0627 \u062a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0631\u0635\u064a\u062f \u0643\u0627\u0641\u064a.",amount_too_large:"\u0642\u064a\u0645\u0629 \u0627\u0644\u0637\u0644\u0628 \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 \u0627\u0644\u0645\u0633\u0645\u0648\u062d \u0628\u0647",amount_too_small:"\u0642\u064a\u0645\u0629 \u0627\u0644\u0637\u0644\u0628 \u0623\u0642\u0644 \u0645\u0646 \u0627\u0644\u062d\u062f \u0627\u0644\u0623\u062f\u0646\u0649 \u0627\u0644\u0645\u0633\u0645\u0648\u062d \u0628\u0647",authentication_required:"\u0644\u0644\u0623\u0633\u0641\u060c \u064a\u0628\u062f\u0648 \u0623\u0646 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u064a \u0623\u062f\u062e\u0644\u062a\u0647\u0627 \u062e\u0627\u0637\u0626\u0629 \u0623\u0648 \u0623\u0646 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0627 \u062a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0631\u0635\u064a\u062f \u0643\u0627\u0641\u064a.",balance_insufficient:"\u062a\u0639\u0630\u0632\u0631 \u0625\u062a\u0645\u0627\u0645 \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062f\u0641\u0639 \u0644\u0639\u062f\u0645 \u0648\u062c\u0648\u062f \u0631\u0635\u064a\u062f \u0643\u0627\u0641\u064a",card_decline_rate_limit_exceeded:"\u0639\u062f\u062f \u0643\u0628\u064a\u0631 \u0645\u0646 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0627\u062a \u0627\u0644\u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629 \u0644\u0644\u062f\u0641\u0639 \u0628\u0627\u0644\u0628\u0637\u0627\u0642\u0629\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u0627",charge_already_captured:"\u0644\u0644\u0623\u0633\u0641\u060c \u064a\u0628\u062f\u0648 \u0623\u0646 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u064a \u0623\u062f\u062e\u0644\u062a\u0647\u0627 \u062e\u0627\u0637\u0626\u0629 \u0623\u0648 \u0623\u0646 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0627 \u062a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0631\u0635\u064a\u062f \u0643\u0627\u0641\u064a.",charge_already_refunded:"\u0644\u0627 \u064a\u0645\u0643\u0646\u0643 \u062a\u0643\u0631\u0627\u0631 \u0625\u0639\u0627\u062f\u0629 \u0646\u0641\u0633 \u0627\u0644\u0645\u0628\u0644\u063a \u0623\u0643\u062b\u0631 \u0645\u0646 \u0645\u0631\u0629",charge_disputed:"\u0644\u0627 \u064a\u0645\u0643\u0646\u0643 \u062a\u0643\u0631\u0627\u0631 \u0625\u0639\u0627\u062f\u0629 \u0646\u0641\u0633 \u0627\u0644\u0645\u0628\u0644\u063a \u0623\u0643\u062b\u0631 \u0645\u0646 \u0645\u0631\u0629",customer_max_payment_methods:"\u0644\u0627 \u064a\u0645\u0643\u0646\u0643 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0632\u064a\u062f \u0645\u0646 \u0648\u0633\u0627\u0626\u0644 \u0627\u0644\u062f\u0641\u0639 \u0644\u062a\u062e\u0637\u064a \u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649",instant_payouts_unsupported:"\u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0627 \u062a\u062f\u0639\u0645 \u0627\u0644\u062f\u0641\u0639\u060c \u064a\u0631\u062c\u0649 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0628\u0637\u0627\u0642\u0629 \u0645\u062e\u062a\u0644\u0641\u0629 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",intent_invalid_state:"\u0644\u0644\u0623\u0633\u0641\u060c \u064a\u0628\u062f\u0648 \u0623\u0646 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u064a \u0623\u062f\u062e\u0644\u062a\u0647\u0627 \u062e\u0627\u0637\u0626\u0629 \u0623\u0648 \u0623\u0646 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0627 \u062a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0631\u0635\u064a\u062f \u0643\u0627\u0641\u064a.",intent_verification_method_missing:"\u0644\u0644\u0623\u0633\u0641\u060c \u064a\u0628\u062f\u0648 \u0623\u0646 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u064a \u0623\u062f\u062e\u0644\u062a\u0647\u0627 \u062e\u0627\u0637\u0626\u0629 \u0623\u0648 \u0623\u0646 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0627 \u062a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0631\u0635\u064a\u062f \u0643\u0627\u0641\u064a.",invalid_characters:"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",invalid_charge_amount:"\u0642\u064a\u0645\u0629 \u0627\u0644\u0637\u0644\u0628 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u062f\u0639\u0645 \u0627\u0644\u0641\u0646\u064a",invalid_expiry_year:"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",payment_method_provider_timeout:"\u0627\u0633\u062a\u063a\u0631\u0642\u062a \u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u0648\u0642\u062a \u0623\u0637\u0648\u0644 \u0645\u0646 \u0627\u0644\u0645\u062a\u0648\u0642\u0639\u060c \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",payment_method_unactivated:"\u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u063a\u064a\u0631 \u0641\u0639\u0627\u0644\u0629\u060c \u064a\u0631\u062c\u0649 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0628\u0637\u0627\u0642\u0629 \u0645\u062e\u062a\u0644\u0641\u0629 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",payment_method_unexpected_state:"\u0641\u0634\u0644\u062a \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062f\u0641\u0639\u060c \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629"};return n[e]?n[e]:t},close_dialog=function(){$(".dialog").each((function(){$(this).close_dialog(),$("#show_cc_form").find("i").removeClass("fa-spin fa-fw fa-spinner")}))},{init:e}}(),paypal=function(){function e(){t()}function t(){$("#credit_add_paypal").click((function(e){if($(this).hasClass("ban_buying")){var t=$(this).data("banned-country")||"\u062f\u0648\u0644\u062a\u0643";return alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0634\u062d\u0646 \u0627\u0644\u0631\u0635\u064a\u062f \u063a\u064a\u0631 \u0645\u062a\u0627\u062d \u0641\u064a  "+t),void e.preventDefault()}}))}return{init:e}}(),addToCollectionControl=function(){function e(){t(),i(),o(),r()}function t(){$(".add_to_collection").click((function(e){e.preventDefault(),e.stopPropagation(),$("#add_to_collection_form_wrapper .dialog_content").html('<div class="center"> <i class="fa fa-spinner" fa-spin></i> </div>'),$("#add_to_collection_dialog").show_dialog(),$.getJSON("/ajax/collection/add/"+$("#service_id").val(),(function(e){$("#add_to_collection_form_wrapper .dialog_content").html(e.content)}))})),$("#add_cart_to_collection").click((function(e){e.preventDefault(),e.stopPropagation(),$("#add_to_collection_form_wrapper .dialog_content").html('<div class="center"> <i class="fa fa-spinner" fa-spin></i> </div>'),$("#add_to_collection_dialog").show_dialog(),$.getJSON("/ajax/collection/add/cart/services",(function(e){$("#add_to_collection_form_wrapper .dialog_content").html(e.content)}))})),$("#add_collection_to_cart").live("click",(function(e){e.preventDefault();var t=$("#collection_id").val(),n=$("#user_token").val();alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0625\u0636\u0627\u0641\u0629 \u0645\u062d\u062a\u0648\u0649 \u0647\u0630\u0647 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u0627\u0644\u0649 \u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a\u061f").setting("title","\u062a\u0623\u0643\u064a\u062f \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629").set("onok",(function(){$.ajax({type:"POST",url:"/cart/collection/add/"+t,dataType:"json",data:{token:n}}).done((function(){notificationsUtil.get_notifications(),alertsControl.clear_style();var e="\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u0625\u0644\u0649 \u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a \u0628\u0646\u062c\u0627\u062d.";alertify.confirm(e).setting("title","\u0625\u0634\u0639\u0627\u0631").set("onok",(function(){window.location="/cart"})).set({labels:{ok:"\u0625\u062a\u0645\u0627\u0645 \u0627\u0644\u0634\u0631\u0627\u0621",cancel:"\u062a\u0635\u0641\u062d \u0627\u0644\u0645\u0632\u064a\u062f"}}),alertsControl.clear_style()})).fail((function(e){alertsControl.show("\u0625\u0634\u0639\u0627\u0631",e.responseJSON.error)}))})).set({labels:{ok:"\u0623\u0636\u0641 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629",cancel:"\u062a\u0631\u0627\u062c\u0639",title:""}}),alertsControl.clear_style()}))}function n(){success=!0;var e=$("#collection_id").val();if("-1"==e)$("#collection_id").focus(),success=!1;else if("0"==e){""==$.trim($("#collection_title").val())&&($("#collection_title").focus(),success=!1)}return success}function i(){$("#collection_id").live("change",(function(){"0"==$(this).val()?$("#create_new_collection").fadeIn():$("#create_new_collection").fadeOut()}))}function o(){$("#add_to_collection_form").live("submit",(function(){var e,t;$(this);if(valid=n(),!valid)return!1;var i=$("#cart_items").length,o=$("input[name=delete_cart]:first"),r=$("input[name=private_collection]:first"),c=!1;return o.length&&(c=o.is(":checked")),s(),"0"==$("#collection_id").val()&&$("#service_id").length?(e="/collection/new",t={title:$("#collection_title").val(),description:$("#collection_description").val(),service_id:$("#service_id").val(),private:r.is(":checked"),token:$("#user_token").val(),delete_cart:c}):"0"==$("#collection_id").val()?(e="/collection/new",t={title:$("#collection_title").val(),description:$("#collection_description").val(),service_id:$("#service_id").val(),private:r.is(":checked"),token:$("#user_token").val(),cart:i,delete_cart:c}):(t={token:$("#user_token").val()},$("#service_id").length?e="/collection/"+$("#collection_id").val()+"/add/"+$("#service_id").val():(t.delete_cart=c,e="/collection/"+$("#collection_id").val()+"/add/cart/services")),$("#add_to_collection_form_wrapper").find(".dialog_message").addClass("hidden").html(""),$.ajax({type:"POST",url:e,dataType:"json",data:t}).done((function(e){if(a(),e.cart){notificationsUtil.get_notifications();var t=$("<div></div>").text(e.title).html(),n="\u062a\u0645 \u062d\u0641\u0638 \u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a \u0641\u064a \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 <a href='"+$("<div></div>").text(e.url).html()+"' class='u-clr--primary'>"+t+"</a> \u0628\u0646\u062c\u0627\u062d.";alertsControl.show("\u062a\u0645 \u0627\u0644\u062d\u0641\u0638!",n),c&&($("#cart_items").html('<div class="card"><div class="card-body p0"><div class="u-text--center u-padding">\u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a \u0641\u0627\u0631\u063a\u0629</div></div></div>'),$(".cart_button").addClass("hidden"))}else alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u062a\u0645\u062a \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d")})).fail((function(e){l(),$("#add_to_collection_form_wrapper").find(".dialog_message").removeClass("hidden").html(e.responseJSON.error)})),!1}))}function r(){$(document).keyup((function(e){27==e.keyCode&&a()})),$("#container").on("click",(function(){a()})),$("#add_to_collection_cancel").live("click",(function(){a()}))}function a(){$(".dialog").each((function(){$(this).close_dialog()}))}function s(){$("#add_cart_to_collection_button").html('<i class="fa fa-spinner fa-spin"></i> \u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0636\u0627\u0641\u0629...'),$("#add_cart_to_collection_button").prop("disabled",!0),$("#add_cart_to_collection_button").addClass("disabled"),$("#add_to_collection_button").html('<i class="fa fa-spinner fa-spin"></i> \u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0636\u0627\u0641\u0629...'),$("#add_to_collection_button").prop("disabled",!0),$("#add_to_collection_button").addClass("disabled")}function l(){$("#add_to_collection_button").html("\u0625\u0636\u0627\u0641\u0629"),$("#add_to_collection_button").prop("disabled",!1),$("#add_to_collection_button").removeClass("disabled"),$("#add_cart_to_collection_button").html("\u0625\u0636\u0627\u0641\u0629"),$("#add_cart_to_collection_button").prop("disabled",!1),$("#add_cart_to_collection_button").removeClass("disabled")}return{init:e}}(),addCollectionControl=function(){function e(){t(),i(),o()}
function t(){$(".add_collection, .edit_collection").click((function(e){e.preventDefault(),e.stopPropagation(),$("#collection_dialog").show_dialog()}))}function n(){return success=!0,""==$.trim($("#collection_title").val())&&($("#collection_title").addClass("error"),$("#collection_title").focus(),success=!1),success}function i(){$("#collection_form").live("submit",(function(){$(this);if(valid=n(),!valid)return!1;a();var e=$("input[name=private_collection]:first");return $("#collection_form_wrapper").find(".dialog_message").addClass("hidden").html(""),$.post($(this).prop("action"),{title:$("#collection_title").val(),description:$("#collection_description").val(),private:e.is(":checked"),token:$("#user_token").val(),back:$("#back").val()},null,"json").done((function(e){r(),e.cart?(r(),alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u0629 \u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a \u0625\u0644\u0649 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 <a href='"+e.url+"' class='u-clr--primary'>"+e.title+"</a> \u0628\u0646\u062c\u0627\u062d")):window.location=e.redirect_url})).fail((function(e){s(),$("#collection_form_wrapper").find(".dialog_message").removeClass("hidden").html(e.responseJSON.error)})),!1}))}function o(){$(document).keyup((function(e){27==e.keyCode&&r()})),$("#container").on("click",(function(){r()})),$("#collection_cancel").live("click",(function(){r()}))}function r(){$(".dialog").each((function(){$(this).close_dialog()}))}function a(){var e="add"==$("#op_type").val()?"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0636\u0627\u0641\u0629...":"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u062f\u064a\u062b...";$("#collection_button").prop("value",e),$("#collection_button").prop("disabled",!0),$("#collection_button").addClass("disabled")}function s(){var e="add"==$("#op_type").val()?"\u0625\u0636\u0627\u0641\u0629":"\u062a\u062d\u062f\u064a\u062b";$("#collection_button").prop("value",e),$("#collection_button").prop("disabled",!1),$("#collection_button").removeClass("disabled")}return{init:e}}(),collectionControl=function(){function e(){n(),i(),t(),r(),o()}function t(){addToCollectionControl.init()}function n(){addCollectionControl.init()}function i(){$(".delete_collection").live("click",(function(e){e.preventDefault();var t=$(this),n=t.prop("id").split("_")[1];alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629\u061f").set("onok",(function(){t.html('<i class="fa fa-spinner fa-spin"></i>'),$.post("/collection/"+n+"/delete",{token:$("#user_token").val()},null,"json").done((function(e){window.location=e.redirect_url}))})).set({labels:{ok:"\u0645\u0648\u0627\u0641\u0642",cancel:"\u0625\u0644\u063a\u0627\u0621"}}),alertsControl.clear_style()}))}function o(){$(".product.removable").hover((function(){$(this).find(".product-close__addon").css("display","block")}),(function(){$(this).find(".product-close__addon").css("display","none")})),$(".remove_from_collection").live("click",(function(e){e.preventDefault();var t=$(this);alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0627\u0644\u062e\u062f\u0645\u0629 \u0645\u0646 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629\u061f").set("onok",(function(){t.parents(".removable_service").fadeOut(),$.post(t.prop("href"),{token:$("#user_token").val()},null,"json").done((function(){})).fail((function(){t.parents(".removable_service").fadeIn()}))})).set({labels:{ok:"\u0645\u0648\u0627\u0641\u0642",cancel:"\u0625\u0644\u063a\u0627\u0621"}}),alertsControl.clear_style()}))}function r(){$(".add_embeded_collection").click((function(e){e.preventDefault(),e.stopPropagation(),$.getJSON("/ajax/collection/form",(function(e){$("#collection_form_wrapper").html(e.content),$("#collection_dialog").show_dialog()}))})),$(".edit_embeded_collection").live("click",(function(e){e.preventDefault(),e.stopPropagation();var t=$(this);t.find("i").addClass("fa-spinner fa-spin fa-fw");var n=$(this).attr("data-id");$.getJSON("/ajax/collection/form",{id:n},(function(e){$("#collection_form_wrapper").html(e.content),$("#collection_dialog").show_dialog(),t.find("i").removeClass("fa-spinner fa-spin fa-fw")}))}))}return{init:e}}(),cartControl=function(){function e(){a(),s(),t(),r()}function t(){c(),l(),h(),u(),n(),i()}function n(){$(".cart_item_quantity").change((function(){var e=$(this),t=e.val(),n=e.attr("id").split("-")[1],i=$("#cart-item-"+n).val().split(":")[0],o=[];$("#upgrades-"+n+" .cart_item_service_upgrade:checked").each((function(){var e=$(this);o.push(e.val())}));var r=i+":"+t+":"+o;$("#cart-item-"+n).val(r),d()}))}function i(){$(".cart_item_service_upgrade").change((function(){elem=$(this),parent_item=elem.closest("ul"),parent_item_splitted=parent_item.attr("id").split("-"),item_id=parent_item_splitted[1];var e=$("#cart-item-"+item_id).val().split(":")[0],t=$("#quantity-"+item_id).val(),n=[];$("#upgrades-"+item_id+" .cart_item_service_upgrade:checked").each((function(){var e=$(this);n.push(e.val())}));var i=e+":"+t+":"+n;$("#cart-item-"+item_id).val(i),d()}))}function o(){var e=$("#cart-page").length>0,t=$("#add_to_cart_btn").length>0;return e||t}function r(){$("#update_item_cancel").live("click",(function(){close_dialog()}))}function a(){$("#cart_items").length&&($("#cart_loading").removeClass("hidden"),$.get("/cart/items",(function(e){$("#cart_items").html(e),$("#cart_loading").addClass("hidden"),t(),init_tooltip(),$(".cart_button").removeClass("hidden")})))}function s(){$("#add_to_cart_btn").click((function(e){e.preventDefault();var t=$(this);if(t.hasClass("ban_buying")){var n=t.data("banned-country")||"\u062f\u0648\u0644\u062a\u0643";alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0634\u0631\u0627\u0621 \u0627\u0644\u062e\u062f\u0645\u0627\u062a \u063a\u064a\u0631 \u0645\u062a\u0627\u062d \u0641\u064a "+n)}else{var i=$("#user_token").val(),o=[],r=$("#service_id").val(),a=$("#service_quantity").val();$.each($(".service_upgrade_check:checked"),(function(){var e=$(this);o.push(e.val())}));var s="/cart";$.ajax({url:s,method:"post",dataType:"json",data:{token:i,service_id:r,upgrade_ids:o,quantity:a},beforeSend:function(){p(t)}}).done((function(e){f(t),g(),m(e)})).fail((function(e,n,i){f(t);var o="";o=401==e.status?e.responseText||i:500==e.status?"\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642.":"\u0639\u0630\u0631\u0627 \u0644\u0645 \u062a\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u0627.",alertsControl.show("\u0625\u0634\u0639\u0627\u0631",o)}))}}))}function l(){$(".update_cart_items").live("click",(function(e){e.stopImmediatePropagation();var t=$(".update_form").attr("data-id"),n=$(".cart_item_quantity").val(),i=[];$("input[name=cart_item_service_upgrade]:checked").each((function(){i.push($(this).val())}));var o=i.join(",");close_dialog();var r=$("#cart-item-"+t).val().split(":")[0];$("#cart-item-"+t).val(r+":"+n+":"+o),d()}))}function c(){$(".remove_cart_item").click((function(e){e.preventDefault(),item_id=$(this).attr("data-id"),alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u062d\u0630\u0641 \u0627\u0644\u062e\u062f\u0645\u0629 \u0645\u0646 \u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a\u061f").set("onok",(function(){$("#cart-item-"+item_id).remove(),d()})),alertsControl.clear_style()}))}function d(){var e=$("#cart_items_form"),n=e.attr("action");$.ajax({url:n,method:"put",dataType:"json",data:e.serialize(),beforeSend:function(){$("#cart_load").removeClass("hidden"),$("#cart_checkout_form").addClass("disabled"),$("#unlogged_user_cart_checkout_form").addClass("disabled")}}).done((function(e){$("#cart_items").html(e.html_content),init_tooltip(),0==e.count&&$(".cart_button").hide(),t(),g()})).fail((function(e){var t="";t=500==e.status?"\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642.":e.status+" "+e.responseText,alertsControl.show("\u0625\u0634\u0639\u0627\u0631",t)})).complete((function(){$("#cart_loading").addClass("hidden")}))}function u(){$(".checkable").live("click",(function(e){e.stopImmediatePropagation(),$(this).prev(".checkable-col").find("input").trigger("click")}))}function h(){$("#cart_checkout_form").click((function(e){e.preventDefault();$(this);var t=$("#user_token").val(),n="/cart/checkout/";$.ajax({url:n,method:"post",dataType:"json",data:{token:t},beforeSend:function(){$("#cart_checkout_form").addClass("disabled")}}).done((function(e){$("#cart_items").html(e.html_content),$("#cart_checkout_form").addClass("disabled"),window.location.href="cart/pay"})).fail((function(e,t,n){"timeout"==n?alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0627\u0646\u0642\u0636\u0649 \u0648\u0642\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644"):302==e.status?window.location.href=e.responseText:(alertify.alert().setting({label:"\u0645\u0648\u0627\u0641\u0642",message:e.responseText,onok:function(){d()}}).show(),alertsControl.clear_style())})).complete((function(){}))}))}function p(e){e.prop("disabled",!0),e.addClass("disabled"),e.find("i").addClass("fa-spinner fa-spin")}function f(e){e.removeClass("disabled"),e.prop("disabled",!1),e.find("i").removeClass("fa-spinner fa-spin")}function m(e){count=e.count,count>0&&(alertify.confirm("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u062e\u062f\u0645\u0629 \u0627\u0644\u0649 \u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a").set("onok",(function(){window.location="/cart"})).set({labels:{ok:"\u0625\u062a\u0645\u0627\u0645 \u0627\u0644\u0634\u0631\u0627\u0621",cancel:"\u062a\u0635\u0641\u062d \u0627\u0644\u0645\u0632\u064a\u062f"}}),alertsControl.clear_style())}function g(){notificationsUtil.get_notifications()}return{init:e,enabled:o}}(),comments=function(){function e(){return $('[data-commentable="true"]').length>0}function t(){return $('[data-commentable="true"]').data("commentable-id")}function n(){return $('[data-commentable="true"]').data("commentable-type")}function i(){return o().data("id")}function o(){return $('[data-commentable="true"] .comments').children().last()}function r(){return{commentable_type:n(),commentable_id:t(),last_id:i()}}function a(){e()&&(s(),g=i()||0,$(window).on("resize focus scroll",f),l())}function s(){$("#commentable_form").live("submit",(function(e){e.preventDefault();var t=$(this),n=$("#commentable_submit"),o=disable_btn(n),r=$("#commentable_form textarea[name=content]:first").val(),a=$("#commentable_form input[name=confirm]:first"),s=$("#user_token").val(),l=FileUploader.get_files(),c=$("#commentable_form input[name=voicemessage]:first").val(),u={content:r,token:s,"attachments[]":l};c&&(u.voicemessage=c);var h={type:"post",url:t.attr("action"),data:u};a.length&&a.is(":checked")&&(u.confirm=0),i()&&(u.last_id=i()),h={type:"post",url:t.attr("action"),data:u},$.ajax(h).done((function(e){d(e),t.trigger("reset"),t.find("textarea").focus(),FileUploader.reset_dropzone(),VoiceMessageUploader.clear_recorder()})).fail((function(e,t,n){"timeout"==n?alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0627\u0646\u0642\u0636\u0649 \u0648\u0642\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644"):303==e.status?window.location.href=e.responseText:500==e.status?alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642"):e.responseText?alertsControl.show("\u0625\u0634\u0639\u0627\u0631",e.responseText):alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0639\u0630\u0631\u0627 \u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0625\u0631\u0633\u0627\u0644\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u0627.")})).always((function(){enable_btn(n,o)}))}))}function l(e){e=void 0===e||e;var t={iconUrl:"https://khamsat.hsoubcdn.com/assets/images/plyr-74659570e7ea771a2671c58786c0d10ab7e3fd325d0229844758b30c2fa73f5f.svg",invertTime:!1,autopause:!0,i18n:{restart:"\u0625\u0639\u0627\u062f\u0629",rewind:"Rewind {seektime} secs",play:"\u062a\u0634\u063a\u064a\u0644",pause:"\u0627\u064a\u0642\u0627\u0641 \u0645\u0624\u0642\u062a",fastForward:"Forward {seektime} secs",seek:"Seek",played:"Played",buffered:"Buffered",currentTime:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u062d\u0627\u0644\u064a",duration:"\u0627\u0644\u0645\u062f\u0629 \u0627\u0644\u0632\u0645\u0646\u064a\u0629",volume:"\u0627\u0644\u0635\u0648\u062a",mute:"\u0635\u0627\u0645\u062a",unmute:"\u063a\u064a\u0631 \u0635\u0627\u0645\u062a",enableCaptions:"Enable captions",disableCaptions:"Disable captions",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",speed:"\u0627\u0644\u0633\u0631\u0639\u0629",normal:"\u0637\u0628\u064a\u0639\u0649",quality:"\u0627\u0644\u062c\u0648\u062f\u0629",loop:"\u062a\u0643\u0631\u0627\u0631",start:"\u0628\u062f\u0627\u064a\u0629",end:"\u0646\u0647\u0627\u064a\u0629",all:"\u0627\u0644\u0643\u0644",reset:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646",disabled:"\u0645\u0639\u0637\u0651\u0644",advertisement:"Ad"},controls:["play","progress","current-time","volume","settings"]};t.enable=e,Array.from($('[data-type="comment-audio-player"]')).map((function(e){var n=e.parentElement,i=0,o=new Plyr(e,t);o.once("play",(function(){c(o)})),o.on("loadeddata",(function(){o.currentTime=i})),o.on("error",(function(e){i=o.currentTime,null!=e.detail.plyr.media.error&&2==e.detail.plyr.media.error.code&&c(o)})),n.style.visibility="visible"})),$(".comment-voicemessage").show()}function c(e){var t=$("#"+e.elements.original.firstChild.nextSibling.id).parents().eq(3).find(".comment-voicemessage__id").val(),n=$("#"+e.elements.original.firstChild.nextSibling.id).parents().eq(3).find(".comment-voicemessage__class").val(),i=$("#user_token").val();$.ajax({type:"POST",url:"/attachment/voicemessage_url/"+t,dataType:"json",data:{token:i,class:n}}).done((function(n){e.source={type:"audio",title:"Player for {title}",sources:[{src:n.url,type:"audio/"+n.ext,id:"comment-voicemessage__source-"+t}]},e.play()})).fail((function(){}))}function d(e){$('[data-commentable="true"]').removeClass("hidden");for(var t=$('[data-commentable="true"] .comments'),n=i(),o=0;o<e.length;o++)e[o].id<=n||(t.append(e[o].html_content),e[o].highlight&&u(e[o].id));l(),e.length>0&&p()}function u(e){var t=$(".discussion-item[data-id="+e+"]");document.hasFocus()&&isElementInViewport(t[0])?h(t):m.push(t)}function h(e){e.addClass("highlighted"),setTimeout((function(){e.removeClass("highlighted")}),3e3)}function p(){i()>g&&isElementInViewport(o()[0])&&(g=i(),$.post(window.location.pathname+"/seen"))}function f(){for(var e=0;e<m.length;e++)isElementInViewport(m[e][0])&&(h(m[e]),m.splice(e,1));p()}var m=[],g=0;return{init:a,fetch_params:r,append:d,enabled:e}}(),ordersUtil=function(){function e(e){var t=$("#manage-order-template").children().clone(),n=e.print_status,i=$(".page_header--title span"),o="label label-"+e.status;i.removeAttr("class"),i.addClass(o),i.html(e.print_status);var r=e.seller_status_message;t.find(".order-status").html(n),t.find(".order-status-message").html(r),e.show_delivery_date?(t.find(".order-status-date").html("<br>"+e.expected_at),e.order_delivery_delay&&t.find(".order-delivery-date").html("<br>"+e.order_delivery_delay)):(t.find(".order-status-date").remove(),t.find(".order-status-date-title").remove()),e.can_seller_deliver||(t.find("a#deliver_order").parent().remove(),alertify.confirm().close()),e.can_seller_decline||(t.find("a#decline_order_main").parent().remove(),$("#decline_order_wrapper").hide()),$(".manage-order-body").html(t)}function t(e){var t=$("#manage-order-template").children().clone(),n=e.print_status,i=e.buyer_status_message;t.find(".order-status").html(n),t.find(".order-status-message").html(i);var o=$(".page_header--title span"),r="label label-"+e.status;o.removeAttr("class"),o.addClass(r),o.html(e.print_status),e.show_delivery_date?(t.find(".order-status-date").html("<br>"+e.expected_at),e.order_delivery_delay&&t.find(".order-delivery-date").html("<br>"+e.order_delivery_delay)):(t.find(".order-status-date").remove(),t.find(".order-status-date-title").remove()),e.can_buyer_approve||(t.find("a#approve_purchase").parent().remove(),alertify.confirm().close()),e.can_buyer_reject||(t.find("a#reject_purchase_main").parent().remove(),$("#reject_purchase_wrapper").hide()),e.can_buyer_decline||(t.find("a#decline_purchase_main").parent().remove(),$("#decline_purchase_wrapper").hide()),e.can_buyer_request_decline||(t.find("a#request_purchase_decline_main").parent().remove(),$("#request_purchase_decline_wrapper").hide()),$(".manage-order-body").html(t)}function n(){}return{init:n,append_manage_order:e,append_manage_purchase:t}}();!function(e,t){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("jquery")):e.jQueryBridget=t(e,e.jQuery)}(window,(function(e,t){"use strict";function n(n,r,s){function l(e,t,i){var o,r="$()."+n+'("'+t+'")';return e.each((function(e,l){var c=s.data(l,n);if(c){var d=c[t];if(d&&"_"!=t.charAt(0)){var u=d.apply(c,i);o=void 0===o?u:o}else a(r+" is not a valid method")}else a(n+" not initialized. Cannot call methods, i.e. "+r)})),void 0!==o?o:e}function c(e,t){e.each((function(e,i){var o=s.data(i,n);o?(o.option(t),o._init()):(o=new r(i,t),s.data(i,n,o))}))}(s=s||t||e.jQuery)&&(r.prototype.option||(r.prototype.option=function(e){s.isPlainObject(e)&&(this.options=s.extend(!0,this.options,e))}),s.fn[n]=function(e){return"string"==typeof e?l(this,e,o.call(arguments,1)):(c(this,e),this)},i(s))}function i(e){!e||e&&e.bridget||(e.bridget=n)}var o=Array.prototype.slice,r=e.console,a=void 0===r?function(){}:function(e){r.error(e)};return i(t||e.jQuery),n})),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,(function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],o=0;o<n.length;o++){var r=n[o];i&&i[r]&&(this.off(e,r),delete i[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})),function(e,t){"function"==typeof define&&define.amd?define("get-size/get-size",t):"object"==typeof module&&module.exports?module.exports=t():e.getSize=t()}(window,(function(){"use strict";function e(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}function t(){}function n(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<c;t++){e[l[t]]=0}return e}function i(e){var t=getComputedStyle(e);return t||s("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),t}function o(){if(!d){d=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(t);var o=i(t);a=200==Math.round(e(o.width)),r.isBoxSizeOuter=a,n.removeChild(t)}}function r(t){if(o(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var r=i(t);if("none"==r.display)return n();var s={};s.width=t.offsetWidth,s.height=t.offsetHeight;for(var d=s.isBorderBox="border-box"==r.boxSizing,u=0;u<c;u++){var h=l[u],p=r[h],f=parseFloat(p);s[h]=isNaN(f)?0:f}var m=s.paddingLeft+s.paddingRight,g=s.paddingTop+s.paddingBottom,v=s.marginLeft+s.marginRight,y=s.marginTop+s.marginBottom,b=s.borderLeftWidth+s.borderRightWidth,_=s.borderTopWidth+s.borderBottomWidth,w=d&&a,k=e(r.width);!1!==k&&(s.width=k+(w?0:m+b));var C=e(r.height);return!1!==C&&(s.height=C+(w?0:g+_)),s.innerWidth=s.width-(m+b),s.innerHeight=s.height-(g+_),s.outerWidth=s.width+v,s.outerHeight=s.height+y,s}}var a,s="undefined"==typeof console?t:function(e){console.error(e)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],c=l.length,d=!1;return r})),function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,(function(){"use strict";var e=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var i=t[n]+"MatchesSelector";if(e[i])return i}}();return function(t,n){return t[e](n)}})),function(e,t){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("desandro-matches-selector")):e.fizzyUIUtils=t(e,e.matchesSelector)}(window,(function(e,t){var n={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t}},i=Array.prototype.slice;n.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?i.call(e):[e]},n.removeFrom=function(e,t){var n=e.indexOf(t);-1!=n&&e.splice(n,1)},n.getParent=function(e,n){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,t(e,n))return e},n.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},n.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.filterFindElements=function(e,i){e=n.makeArray(e);var o=[];return e.forEach((function(e){if(e instanceof HTMLElement){if(!i)return void o.push(e);t(e,i)&&o.push(e);for(var n=e.querySelectorAll(i),r=0;r<n.length;r++)o.push(n[r])}})),o},n.debounceMethod=function(e,t,n){n=n||100;var i=e.prototype[t],o=t+"Timeout";e.prototype[t]=function(){var e=this[o];clearTimeout(e);var t=arguments,r=this;this[o]=setTimeout((function(){i.apply(r,t),delete r[o]}),n)}},n.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},n.toDashed=function(e){return e.replace(/(.)([A-Z])/g,(function(e,t,n){return t+"-"+n})).toLowerCase()};var o=e.console;return n.htmlInit=function(t,i){n.docReady((function(){var r=n.toDashed(i),a="data-"+r,s=document.querySelectorAll("["+a+"]"),l=document.querySelectorAll(".js-"+r),c=n.makeArray(s).concat(n.makeArray(l)),d=a+"-options",u=e.jQuery;c.forEach((function(e){var n,r=e.getAttribute(a)||e.getAttribute(d);try{n=r&&JSON.parse(r)}catch(t){return void(o&&o.error("Error parsing "+a+" on "+e.className+": "+t))}var s=new t(e,n);u&&u.data(e,i,s)}))}))},n})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("get-size")):(e.Flickity=e.Flickity||{},e.Flickity.Cell=t(e,e.getSize))}(window,(function(e,t){function n(e,t){this.element=e,this.parent=t,this.create()}var i=n.prototype;return i.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-selected","false"),this.x=0,this.shift=0},i.destroy=function(){this.element.style.position="";var e=this.parent.originSide;this.element.removeAttribute("aria-selected"),this.element.style[e]=""},i.getSize=function(){this.size=t(this.element)},i.setPosition=function(e){this.x=e,this.updateTarget(),this.renderPosition(e)},i.updateTarget=i.setDefaultTarget=function(){var e="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[e]+this.size.width*this.parent.cellAlign},i.renderPosition=function(e){var t=this.parent.originSide;this.element.style[t]=this.parent.getPositionValue(e)},i.wrapShift=function(e){this.shift=e,this.renderPosition(this.x+this.parent.slideableWidth*e)},i.remove=function(){this.element.parentNode.removeChild(this.element)},n})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/slide",t):"object"==typeof module&&module.exports?module.exports=t():(e.Flickity=e.Flickity||{},e.Flickity.Slide=t())}(window,(function(){"use strict";function e(e){this.parent=e,this.isOriginLeft="left"==e.originSide,this.cells=[],this.outerWidth=0,this.height=0}var t=e.prototype;return t.addCell=function(e){if(this.cells.push(e),this.outerWidth+=e.size.outerWidth,this.height=Math.max(e.size.outerHeight,this.height),1==this.cells.length){this.x=e.x;var t=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=e.size[t]}},t.updateTarget=function(){var e=this.isOriginLeft?"marginRight":"marginLeft",t=this.getLastCell(),n=t?t.size[e]:0,i=this.outerWidth-(this.firstMargin+n);this.target=this.x+this.firstMargin+i*this.parent.cellAlign},t.getLastCell=function(){return this.cells[this.cells.length-1]},t.select=function(){this.changeSelected(!0)},t.unselect=function(){this.changeSelected(!1)},t.changeSelected=function(e){var t=e?"add":"remove";this.cells.forEach((function(n){n.element.classList[t]("is-selected"),n.element.setAttribute("aria-selected",e.toString())}))},t.getCellElements=function(){return this.cells.map((function(e){return e.element}))},e})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("fizzy-ui-utils")):(e.Flickity=e.Flickity||{},e.Flickity.animatePrototype=t(e,e.fizzyUIUtils))}(window,(function(e,t){var n={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var e=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(e),this.isAnimating){var t=this;requestAnimationFrame((function(){t.animate()}))}},positionSlider:function(){var e=this.x;this.options.wrapAround&&this.cells.length>1&&(e=t.modulo(e,this.slideableWidth),e-=this.slideableWidth,this.shiftWrapCells(e)),e+=this.cursorPosition,e=this.options.rightToLeft?-e:e;var n=this.getPositionValue(e);this.slider.style.transform=this.isAnimating?"translate3d("+n+",0,0)":"translateX("+n+")";var i=this.slides[0];if(i){var o=-this.x-i.target,r=o/this.slidesWidth;this.dispatchEvent("scroll",null,[r,o])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(e){return this.options.percentPosition?.01*Math.round(e/this.size.innerWidth*1e4)+"%":Math.round(e)+"px"},settle:function(e){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*e)||this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(e){var t=this.cursorPosition+e;this._shiftCells(this.beforeShiftCells,t,-1);var n=this.size.innerWidth-(e+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,n,1)},_shiftCells:function(e,t,n){for(var i=0;i<e.length;i++){var o=e[i],r=t>0?n:0;o.wrapShift(r),t-=o.size.outerWidth}},_unshiftCells:function(e){if(e&&e.length)for(var t=0;t<e.length;t++)e[t].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(e){this.velocity+=e},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var e=this.dragX-this.x-this.velocity;this.applyForce(e)}},applySelectedAttraction:function(){if(!(this.isDraggable&&this.isPointerDown)&&!this.isFreeScrolling&&this.slides.length){var e=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction;this.applyForce(e)}}};return n})),function(e,t){if("function"==typeof define&&define.amd)define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],(function(n,i,o,r,a,s){return t(e,n,i,o,r,a,s)}));else if("object"==typeof module&&module.exports)module.exports=t(e,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate"));else{var n=e.Flickity;e.Flickity=t(e,e.EvEmitter,e.getSize,e.fizzyUIUtils,n.Cell,n.Slide,n.animatePrototype)}}(window,(function(e,t,n,i,o,r,a){function s(e,t){for(e=i.makeArray(e);e.length;)t.appendChild(e.shift())}function l(e,t){var n=i.getQueryElement(e);if(n){if(this.element=n,this.element.flickityGUID){var o=p[this.element.flickityGUID];return o.option(t),o}c&&(this.$element=c(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(t),this._create()}else u&&u.error("Bad element for Flickity: "+(n||e))}var c=e.jQuery,d=e.getComputedStyle,u=e.console,h=0,p={};l.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},l.createMethods=[];var f=l.prototype;i.extend(f,t.prototype),f._create=function(){var t=this.guid=++h;for(var n in this.element.flickityGUID=t,p[t]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&e.addEventListener("resize",this),this.options.on){var i=this.options.on[n];this.on(n,i)}l.createMethods.forEach((function(e){this[e]()}),this),this.options.watchCSS?this.watchCSS():this.activate()},f.option=function(e){i.extend(this.options,e)},f.activate=function(){if(!this.isActive){this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),s(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate");var e,t=this.options.initialIndex;e=this.isInitActivated?this.selectedIndex:void 0!==t&&this.cells[t]?t:0,this.select(e,!1,!0),this.isInitActivated=!0,this.dispatchEvent("ready")}},f._createSlider=function(){var e=document.createElement("div");e.className="flickity-slider",e.style[this.originSide]=0,this.slider=e},f._filterFindCellElements=function(e){
return i.filterFindElements(e,this.options.cellSelector)},f.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},f._makeCells=function(e){return this._filterFindCellElements(e).map((function(e){return new o(e,this)}),this)},f.getLastCell=function(){return this.cells[this.cells.length-1]},f.getLastSlide=function(){return this.slides[this.slides.length-1]},f.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},f._positionCells=function(e){e=e||0,this.maxCellHeight=e&&this.maxCellHeight||0;var t=0;if(e>0){var n=this.cells[e-1];t=n.x+n.size.outerWidth}for(var i=this.cells.length,o=e;o<i;o++){var r=this.cells[o];r.setPosition(t),t+=r.size.outerWidth,this.maxCellHeight=Math.max(r.size.outerHeight,this.maxCellHeight)}this.slideableWidth=t,this.updateSlides(),this._containSlides(),this.slidesWidth=i?this.getLastSlide().target-this.slides[0].target:0},f._sizeCells=function(e){e.forEach((function(e){e.getSize()}))},f.updateSlides=function(){if(this.slides=[],this.cells.length){var e=new r(this);this.slides.push(e);var t="left"==this.originSide?"marginRight":"marginLeft",n=this._getCanCellFit();this.cells.forEach((function(i,o){if(e.cells.length){var a=e.outerWidth-e.firstMargin+(i.size.outerWidth-i.size[t]);n.call(this,o,a)||(e.updateTarget(),e=new r(this),this.slides.push(e)),e.addCell(i)}else e.addCell(i)}),this),e.updateTarget(),this.updateSelectedSlide()}},f._getCanCellFit=function(){var e=this.options.groupCells;if(!e)return function(){return!1};if("number"==typeof e){var t=parseInt(e,10);return function(e){return e%t!=0}}var n="string"==typeof e&&e.match(/^(\d+)%$/),i=n?parseInt(n[1],10)/100:1;return function(e,t){return t<=(this.size.innerWidth+1)*i}},f._init=f.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},f.getSize=function(){this.size=n(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var m={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return f.setCellAlign=function(){var e=m[this.options.cellAlign];this.cellAlign=e?e[this.originSide]:this.options.cellAlign},f.setGallerySize=function(){if(this.options.setGallerySize){var e=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=e+"px"}},f._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var e=this.cursorPosition,t=this.cells.length-1;this.beforeShiftCells=this._getGapCells(e,t,-1),e=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(e,0,1)}},f._getGapCells=function(e,t,n){for(var i=[];e>0;){var o=this.cells[t];if(!o)break;i.push(o),t+=n,e-=o.size.outerWidth}return i},f._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var e=this.options.rightToLeft,t=e?"marginRight":"marginLeft",n=e?"marginLeft":"marginRight",i=this.slideableWidth-this.getLastCell().size[n],o=i<this.size.innerWidth,r=this.cursorPosition+this.cells[0].size[t],a=i-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach((function(e){o?e.target=i*this.cellAlign:(e.target=Math.max(e.target,r),e.target=Math.min(e.target,a))}),this)}},f.dispatchEvent=function(e,t,n){var i=t?[t].concat(n):n;if(this.emitEvent(e,i),c&&this.$element){var o=e+=this.options.namespaceJQueryEvents?".flickity":"";if(t){var r=c.Event(t);r.type=e,o=r}this.$element.trigger(o,n)}},f.select=function(e,t,n){if(this.isActive&&(e=parseInt(e,10),this._wrapSelect(e),(this.options.wrapAround||t)&&(e=i.modulo(e,this.slides.length)),this.slides[e])){var o=this.selectedIndex;this.selectedIndex=e,this.updateSelectedSlide(),n?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[e]),e!=o&&this.dispatchEvent("change",null,[e]),this.dispatchEvent("cellSelect")}},f._wrapSelect=function(e){var t=this.slides.length;if(!(this.options.wrapAround&&t>1))return e;var n=i.modulo(e,t),o=Math.abs(n-this.selectedIndex),r=Math.abs(n+t-this.selectedIndex),a=Math.abs(n-t-this.selectedIndex);!this.isDragSelect&&r<o?e+=t:!this.isDragSelect&&a<o&&(e-=t),e<0?this.x-=this.slideableWidth:e>=t&&(this.x+=this.slideableWidth)},f.previous=function(e,t){this.select(this.selectedIndex-1,e,t)},f.next=function(e,t){this.select(this.selectedIndex+1,e,t)},f.updateSelectedSlide=function(){var e=this.slides[this.selectedIndex];e&&(this.unselectSelectedSlide(),this.selectedSlide=e,e.select(),this.selectedCells=e.cells,this.selectedElements=e.getCellElements(),this.selectedCell=e.cells[0],this.selectedElement=this.selectedElements[0])},f.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},f.selectCell=function(e,t,n){var i=this.queryCell(e);if(i){var o=this.getCellSlideIndex(i);this.select(o,t,n)}},f.getCellSlideIndex=function(e){for(var t=0;t<this.slides.length;t++){if(-1!=this.slides[t].cells.indexOf(e))return t}},f.getCell=function(e){for(var t=0;t<this.cells.length;t++){var n=this.cells[t];if(n.element==e)return n}},f.getCells=function(e){e=i.makeArray(e);var t=[];return e.forEach((function(e){var n=this.getCell(e);n&&t.push(n)}),this),t},f.getCellElements=function(){return this.cells.map((function(e){return e.element}))},f.getParentCell=function(e){var t=this.getCell(e);return t||(e=i.getParent(e,".flickity-slider > *"),this.getCell(e))},f.getAdjacentCellElements=function(e,t){if(!e)return this.selectedSlide.getCellElements();t=void 0===t?this.selectedIndex:t;var n=this.slides.length;if(1+2*e>=n)return this.getCellElements();for(var o=[],r=t-e;r<=t+e;r++){var a=this.options.wrapAround?i.modulo(r,n):r,s=this.slides[a];s&&(o=o.concat(s.getCellElements()))}return o},f.queryCell=function(e){return"number"==typeof e?this.cells[e]:("string"==typeof e&&(e=this.element.querySelector(e)),this.getCell(e))},f.uiChange=function(){this.emitEvent("uiChange")},f.childUIPointerDown=function(e){this.emitEvent("childUIPointerDown",[e])},f.onresize=function(){this.watchCSS(),this.resize()},i.debounceMethod(l,"onresize",150),f.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=i.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var e=this.selectedElements&&this.selectedElements[0];this.selectCell(e,!1,!0)}},f.watchCSS=function(){this.options.watchCSS&&(-1!=d(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},f.onkeydown=function(e){var t=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!t){var n=l.keyboardHandlers[e.keyCode];n&&n.call(this)}},l.keyboardHandlers={37:function(){var e=this.options.rightToLeft?"next":"previous";this.uiChange(),this[e]()},39:function(){var e=this.options.rightToLeft?"previous":"next";this.uiChange(),this[e]()}},f.focus=function(){var t=e.pageYOffset;this.element.focus({preventScroll:!0}),e.pageYOffset!=t&&e.scrollTo(e.pageXOffset,t)},f.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach((function(e){e.destroy()})),this.element.removeChild(this.viewport),s(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},f.destroy=function(){this.deactivate(),e.removeEventListener("resize",this),this.emitEvent("destroy"),c&&this.$element&&c.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete p[this.guid]},i.extend(f,a),l.data=function(e){var t=(e=i.getQueryElement(e))&&e.flickityGUID;return t&&p[t]},i.htmlInit(l,"flickity"),c&&c.bridget&&c.bridget("flickity",l),l.setJQuery=function(e){c=e},l.Cell=o,l})),function(e,t){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.Unipointer=t(e,e.EvEmitter)}(window,(function(e,t){function n(){}function i(){}var o=i.prototype=Object.create(t.prototype);o.bindStartEvent=function(e){this._bindStartEvent(e,!0)},o.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},o._bindStartEvent=function(t,n){var i=(n=void 0===n||n)?"addEventListener":"removeEventListener",o="mousedown";e.PointerEvent?o="pointerdown":"ontouchstart"in e&&(o="touchstart"),t[i](o,this)},o.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},o.getTouch=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.identifier==this.pointerIdentifier)return n}},o.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this._pointerDown(e,e)},o.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},o.onpointerdown=function(e){this._pointerDown(e,e)},o._pointerDown=function(e,t){e.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t))},o.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])};var r={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return o._bindPostStartEvents=function(t){if(t){var n=r[t.type];n.forEach((function(t){e.addEventListener(t,this)}),this),this._boundPointerEvents=n}},o._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach((function(t){e.removeEventListener(t,this)}),this),delete this._boundPointerEvents)},o.onmousemove=function(e){this._pointerMove(e,e)},o.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},o.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},o._pointerMove=function(e,t){this.pointerMove(e,t)},o.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},o.onmouseup=function(e){this._pointerUp(e,e)},o.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},o.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},o._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},o.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},o._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},o._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},o.pointerDone=n,o.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},o.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},o._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},o.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},i.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}},i})),function(e,t){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("unipointer")):e.Unidragger=t(e,e.Unipointer)}(window,(function(e,t){function n(){}var i=n.prototype=Object.create(t.prototype);i.bindHandles=function(){this._bindHandles(!0)},i.unbindHandles=function(){this._bindHandles(!1)},i._bindHandles=function(t){for(var n=(t=void 0===t||t)?"addEventListener":"removeEventListener",i=t?this._touchActionValue:"",o=0;o<this.handles.length;o++){var r=this.handles[o];this._bindStartEvent(r,t),r[n]("click",this),e.PointerEvent&&(r.style.touchAction=i)}},i._touchActionValue="none",i.pointerDown=function(e,t){this.okayPointerDown(e)&&(this.pointerDownPointer=t,e.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t]))};var o={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},r={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return i.okayPointerDown=function(e){var t=o[e.target.nodeName],n=r[e.target.type],i=!t||n;return i||this._pointerReset(),i},i.pointerDownBlur=function(){var e=document.activeElement;e&&e.blur&&e!=document.body&&e.blur()},i.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,n]),this._dragMove(e,t,n)},i._dragPointerMove=function(e,t){var n={x:t.pageX-this.pointerDownPointer.pageX,y:t.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(n)&&this._dragStart(e,t),n},i.hasDragStarted=function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3},i.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},i._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},i._dragStart=function(e,t){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(e,t)},i.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},i._dragMove=function(e,t,n){this.isDragging&&this.dragMove(e,t,n)},i.dragMove=function(e,t,n){e.preventDefault(),this.emitEvent("dragMove",[e,t,n])},i._dragEnd=function(e,t){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(e,t)},i.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},i.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},i._staticClick=function(e,t){this.isIgnoringMouseUp&&"mouseup"==e.type||(this.staticClick(e,t),"mouseup"!=e.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},i.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},n.getPointerPoint=t.getPointerPoint,n})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],(function(n,i,o){return t(e,n,i,o)})):"object"==typeof module&&module.exports?module.exports=t(e,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):e.Flickity=t(e,e.Flickity,e.Unidragger,e.fizzyUIUtils)}(window,(function(e,t,n,i){function o(){return{x:e.pageXOffset,y:e.pageYOffset}}i.extend(t.defaults,{draggable:">1",dragThreshold:3}),t.createMethods.push("_createDrag");var r=t.prototype;i.extend(r,n.prototype),r._touchActionValue="pan-y";var a="createTouch"in document,s=!1;r._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("childUIPointerDown",this._childUIPointerDownDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),a&&!s&&(e.addEventListener("touchmove",(function(){})),s=!0)},r.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},r.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},r.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},r.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},r.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},r._uiChangeDrag=function(){delete this.isFreeScrolling},r._childUIPointerDownDrag=function(e){e.preventDefault(),this.pointerDownFocus(e)},r.pointerDown=function(t,n){this.isDraggable?this.okayPointerDown(t)&&(this._pointerDownPreventDefault(t),this.pointerDownFocus(t),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=o(),e.addEventListener("scroll",this),this._pointerDownDefault(t,n)):this._pointerDownDefault(t,n)},r._pointerDownDefault=function(e,t){this.pointerDownPointer=t,this._bindPostStartEvents(e),this.dispatchEvent("pointerDown",e,[t])};var l={INPUT:!0,TEXTAREA:!0,SELECT:!0};return r.pointerDownFocus=function(e){l[e.target.nodeName]||this.focus()},r._pointerDownPreventDefault=function(e){var t="touchstart"==e.type,n="touch"==e.pointerType,i=l[e.target.nodeName];t||n||i||e.preventDefault()},r.hasDragStarted=function(e){return Math.abs(e.x)>this.options.dragThreshold},r.pointerUp=function(e,t){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",e,[t]),this._dragPointerUp(e,t)},r.pointerDone=function(){e.removeEventListener("scroll",this),delete this.pointerDownScroll},r.dragStart=function(t,n){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),e.removeEventListener("scroll",this),this.dispatchEvent("dragStart",t,[n]))},r.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.dispatchEvent("pointerMove",e,[t,n]),this._dragMove(e,t,n)},r.dragMove=function(e,t,n){if(this.isDraggable){e.preventDefault(),this.previousDragX=this.dragX;var i=this.options.rightToLeft?-1:1;this.options.wrapAround&&(n.x=n.x%this.slideableWidth);var o=this.dragStartPosition+n.x*i;if(!this.options.wrapAround&&this.slides.length){var r=Math.max(-this.slides[0].target,this.dragStartPosition);o=o>r?.5*(o+r):o;var a=Math.min(-this.getLastSlide().target,this.dragStartPosition);o=o<a?.5*(o+a):o}this.dragX=o,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",e,[t,n])}},r.dragEnd=function(e,t){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var n=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var i=this.getRestingPosition();this.isFreeScrolling=-i>this.slides[0].target&&-i<this.getLastSlide().target}else this.options.freeScroll||n!=this.selectedIndex||(n+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(n),delete this.isDragSelect,this.dispatchEvent("dragEnd",e,[t])}},r.dragEndRestingSelect=function(){var e=this.getRestingPosition(),t=Math.abs(this.getSlideDistance(-e,this.selectedIndex)),n=this._getClosestResting(e,t,1),i=this._getClosestResting(e,t,-1);return n.distance<i.distance?n.index:i.index},r._getClosestResting=function(e,t,n){for(var i=this.selectedIndex,o=1/0,r=this.options.contain&&!this.options.wrapAround?function(e,t){return e<=t}:function(e,t){return e<t};r(t,o)&&(i+=n,o=t,null!==(t=this.getSlideDistance(-e,i)));)t=Math.abs(t);return{distance:o,index:i-n}},r.getSlideDistance=function(e,t){var n=this.slides.length,o=this.options.wrapAround&&n>1,r=o?i.modulo(t,n):t,a=this.slides[r];if(!a)return null;var s=o?this.slideableWidth*Math.floor(t/n):0;return e-(a.target+s)},r.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var e=this.getSlideDistance(-this.dragX,this.selectedIndex),t=this.previousDragX-this.dragX;return e>0&&t>0?1:e<0&&t<0?-1:0},r.staticClick=function(e,t){var n=this.getParentCell(e.target),i=n&&n.element,o=n&&this.cells.indexOf(n);this.dispatchEvent("staticClick",e,[t,i,o])},r.onscroll=function(){var e=o(),t=this.pointerDownScroll.x-e.x,n=this.pointerDownScroll.y-e.y;(Math.abs(t)>3||Math.abs(n)>3)&&this._pointerDone()},t})),function(e,t){"function"==typeof define&&define.amd?define("tap-listener/tap-listener",["unipointer/unipointer"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("unipointer")):e.TapListener=t(e,e.Unipointer)}(window,(function(e,t){function n(e){this.bindTap(e)}var i=n.prototype=Object.create(t.prototype);return i.bindTap=function(e){e&&(this.unbindTap(),this.tapElement=e,this._bindStartEvent(e,!0))},i.unbindTap=function(){this.tapElement&&(this._bindStartEvent(this.tapElement,!0),delete this.tapElement)},i.pointerUp=function(n,i){if(!this.isIgnoringMouseUp||"mouseup"!=n.type){var o=t.getPointerPoint(i),r=this.tapElement.getBoundingClientRect(),a=e.pageXOffset,s=e.pageYOffset;if(o.x>=r.left+a&&o.x<=r.right+a&&o.y>=r.top+s&&o.y<=r.bottom+s&&this.emitEvent("tap",[n,i]),"mouseup"!=n.type){this.isIgnoringMouseUp=!0;var l=this;setTimeout((function(){delete l.isIgnoringMouseUp}),400)}}},i.destroy=function(){this.pointerDone(),this.unbindTap()},n})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],(function(n,i,o){return t(e,n,i,o)})):"object"==typeof module&&module.exports?module.exports=t(e,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):t(e,e.Flickity,e.TapListener,e.fizzyUIUtils)}(window,(function(e,t,n,i){"use strict";function o(e,t){this.direction=e,this.parent=t,this._create()}function r(e){return"string"==typeof e?e:"M "+e.x0+",50 L "+e.x1+","+(e.y1+50)+" L "+e.x2+","+(e.y2+50)+" L "+e.x3+",50  L "+e.x2+","+(50-e.y2)+" L "+e.x1+","+(50-e.y1)+" Z"}var a="http://www.w3.org/2000/svg";o.prototype=Object.create(n.prototype),o.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var e=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==e;var t=this.element=document.createElement("button");t.className="flickity-button flickity-prev-next-button",t.className+=this.isPrevious?" previous":" next",t.setAttribute("type","button"),this.disable(),t.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var n=this.createSVG();t.appendChild(n),this.on("tap",this.onTap),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.bindTap(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.element),n.prototype.destroy.call(this),this.element.removeEventListener("click",this)},o.prototype.createSVG=function(){var e=document.createElementNS(a,"svg");e.setAttribute("class","flickity-button-icon"),e.setAttribute("viewBox","0 0 100 100");var t=document.createElementNS(a,"path"),n=r(this.parent.options.arrowShape);return t.setAttribute("d",n),t.setAttribute("class","arrow"),this.isLeft||t.setAttribute("transform","translate(100, 100) rotate(180) "),e.appendChild(t),e},o.prototype.onTap=function(){if(this.isEnabled){this.parent.uiChange();var e=this.isPrevious?"previous":"next";this.parent[e]()}},o.prototype.handleEvent=i.handleEvent,o.prototype.onclick=function(e){var t=document.activeElement;t&&t==this.element&&this.onTap(e,e)},o.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},o.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},o.prototype.update=function(){var e=this.parent.slides;if(this.parent.options.wrapAround&&e.length>1)this.enable();else{var t=e.length?e.length-1:0,n=this.isPrevious?0:t;this[this.parent.selectedIndex==n?"disable":"enable"]()}},o.prototype.destroy=function(){this.deactivate()},i.extend(t.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),t.createMethods.push("_createPrevNextButtons");var s=t.prototype;return s._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new o(-1,this),this.nextButton=new o(1,this),this.on("activate",this.activatePrevNextButtons))},s.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},s.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},t.PrevNextButton=o,t})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],(function(n,i,o){return t(e,n,i,o)})):"object"==typeof module&&module.exports?module.exports=t(e,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):t(e,e.Flickity,e.TapListener,e.fizzyUIUtils)}(window,(function(e,t,n,i){function o(e){this.parent=e,this._create()}o.prototype=new n,o.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.on("tap",this.onTap),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.setDots(),this.bindTap(this.holder),this.parent.element.appendChild(this.holder)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.holder),n.prototype.destroy.call(this)},o.prototype.setDots=function(){var e=this.parent.slides.length-this.dots.length;e>0?this.addDots(e):e<0&&this.removeDots(-e)},o.prototype.addDots=function(e){for(var t=document.createDocumentFragment(),n=[],i=this.dots.length,o=i+e,r=i;r<o;r++){var a=document.createElement("li");a.className="dot",a.setAttribute("aria-label","Page dot "+(r+1)),t.appendChild(a),n.push(a)}this.holder.appendChild(t),this.dots=this.dots.concat(n)},o.prototype.removeDots=function(e){this.dots.splice(this.dots.length-e,e).forEach((function(e){this.holder.removeChild(e)}),this)},o.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},o.prototype.onTap=function(e){var t=e.target;if("LI"==t.nodeName){this.parent.uiChange();var n=this.dots.indexOf(t);this.parent.select(n)}},o.prototype.destroy=function(){this.deactivate()},t.PageDots=o,i.extend(t.defaults,{pageDots:!0}),t.createMethods.push("_createPageDots");var r=t.prototype;return r._createPageDots=function(){this.options.pageDots&&(this.pageDots=new o(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},r.activatePageDots=function(){this.pageDots.activate()},r.updateSelectedPageDots=function(){this.pageDots.updateSelected()},r.updatePageDots=function(){this.pageDots.setDots()},r.deactivatePageDots=function(){this.pageDots.deactivate()},t.PageDots=o,t})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],(function(e,n,i){return t(e,n,i)})):"object"==typeof module&&module.exports?module.exports=t(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):t(e.EvEmitter,e.fizzyUIUtils,e.Flickity)}(window,(function(e,t,n){function i(e){this.parent=e,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}i.prototype=Object.create(e.prototype),i.prototype.play=function(){if("playing"!=this.state){if(document.hidden)return void document.addEventListener("visibilitychange",this.onVisibilityPlay);this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()}},i.prototype.tick=function(){if("playing"==this.state){var e=this.parent.options.autoPlay;e="number"==typeof e?e:3e3;var t=this;this.clear(),this.timeout=setTimeout((function(){t.parent.next(!0),t.tick()}),e)}},i.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},i.prototype.clear=function(){clearTimeout(this.timeout)},i.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},i.prototype.unpause=function(){"paused"==this.state&&this.play()},i.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},i.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},t.extend(n.defaults,{pauseAutoPlayOnHover:!0}),n.createMethods.push("_createPlayer");var o=n.prototype;return o._createPlayer=function(){this.player=new i(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},o.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},o.playPlayer=function(){this.player.play()},o.stopPlayer=function(){this.player.stop()},o.pausePlayer=function(){this.player.pause()},o.unpausePlayer=function(){this.player.unpause()},o.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},o.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},o.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},n.Player=i,n})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],(function(n,i){return t(e,n,i)})):"object"==typeof module&&module.exports?module.exports=t(e,require("./flickity"),require("fizzy-ui-utils")):t(e,e.Flickity,e.fizzyUIUtils)}(window,(function(e,t,n){function i(e){var t=document.createDocumentFragment();return e.forEach((function(e){t.appendChild(e.element)})),t}var o=t.prototype;return o.insert=function(e,t){var n=this._makeCells(e);if(n&&n.length){var o=this.cells.length;t=void 0===t?o:t;var r=i(n),a=t==o;if(a)this.slider.appendChild(r);else{var s=this.cells[t].element;this.slider.insertBefore(r,s)}if(0===t)this.cells=n.concat(this.cells);else if(a)this.cells=this.cells.concat(n);else{var l=this.cells.splice(t,o-t);this.cells=this.cells.concat(n).concat(l)}this._sizeCells(n),this.cellChange(t,!0)}},o.append=function(e){this.insert(e,this.cells.length)},o.prepend=function(e){this.insert(e,0)},o.remove=function(e){var t=this.getCells(e);if(t&&t.length){var i=this.cells.length-1;t.forEach((function(e){e.remove();var t=this.cells.indexOf(e);i=Math.min(t,i),n.removeFrom(this.cells,e)}),this),this.cellChange(i,!0)}},o.cellSizeChange=function(e){var t=this.getCell(e);if(t){t.getSize();var n=this.cells.indexOf(t);this.cellChange(n)}},o.cellChange=function(e,t){var n=this.selectedElement;this._positionCells(e),this._getWrapShiftCells(),this.setGallerySize();var i=this.getCell(n);i&&(this.selectedIndex=this.getCellSlideIndex(i)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[e]),this.select(this.selectedIndex),t&&this.positionSliderAtSelected()},t})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],(function(n,i){return t(e,n,i)})):"object"==typeof module&&module.exports?module.exports=t(e,require("./flickity"),require("fizzy-ui-utils")):t(e,e.Flickity,e.fizzyUIUtils)}(window,(function(e,t,n){"use strict";function i(e){if("IMG"==e.nodeName){var t=e.getAttribute("data-flickity-lazyload"),i=e.getAttribute("data-flickity-lazyload-src"),o=e.getAttribute("data-flickity-lazyload-srcset");if(t||i||o)return[e]}var r="img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]",a=e.querySelectorAll(r);return n.makeArray(a)}function o(e,t){this.img=e,this.flickity=t,this.load()}t.createMethods.push("_createLazyload");var r=t.prototype;return r._createLazyload=function(){this.on("select",this.lazyLoad)},r.lazyLoad=function(){var e=this.options.lazyLoad;if(e){var t="number"==typeof e?e:0,n=this.getAdjacentCellElements(t),r=[];n.forEach((function(e){var t=i(e);r=r.concat(t)})),r.forEach((function(e){new o(e,this)}),this)}},o.prototype.handleEvent=n.handleEvent,o.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var e=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),t=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=e,t&&this.img.setAttribute("srcset",t),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},o.prototype.onload=function(e){this.complete(e,"flickity-lazyloaded")},o.prototype.onerror=function(e){this.complete(e,"flickity-lazyerror")},o.prototype.complete=function(e,t){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var n=this.flickity.getParentCell(this.img),i=n&&n.element;this.flickity.cellSizeChange(i),this.img.classList.add(t),this.flickity.dispatchEvent("lazyLoad",e,i)},t.LazyLoader=o,t})),function(e,t){
"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],t):"object"==typeof module&&module.exports&&(module.exports=t(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}(window,(function(e){return e})),function(e,t){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],t):"object"==typeof module&&module.exports?module.exports=t(require("flickity"),require("fizzy-ui-utils")):e.Flickity=t(e.Flickity,e.fizzyUIUtils)}(window,(function(e,t){function n(e,t,n){return(t-e)*n+e}e.createMethods.push("_createAsNavFor");var i=e.prototype;return i._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var e=this.options.asNavFor;if(e){var t=this;setTimeout((function(){t.setNavCompanion(e)}))}},i.setNavCompanion=function(n){n=t.getQueryElement(n);var i=e.data(n);if(i&&i!=this){this.navCompanion=i;var o=this;this.onNavCompanionSelect=function(){o.navCompanionSelect()},i.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0)}},i.navCompanionSelect=function(e){if(this.navCompanion){var t=this.navCompanion.selectedCells[0],i=this.navCompanion.cells.indexOf(t),o=i+this.navCompanion.selectedCells.length-1,r=Math.floor(n(i,o,this.navCompanion.cellAlign));if(this.selectCell(r,!1,e),this.removeNavSelectedElements(),!(r>=this.cells.length)){var a=this.cells.slice(i,o+1);this.navSelectedElements=a.map((function(e){return e.element})),this.changeNavSelectedClass("add")}}},i.changeNavSelectedClass=function(e){this.navSelectedElements.forEach((function(t){t.classList[e]("is-nav-selected")}))},i.activateAsNavFor=function(){this.navCompanionSelect(!0)},i.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},i.onNavStaticClick=function(e,t,n,i){"number"==typeof i&&this.navCompanion.selectCell(i)},i.deactivateAsNavFor=function(){this.removeNavSelectedElements()},i.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},e})),function(e,t){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,(function(e,t){function n(e,t){for(var n in t)e[n]=t[n];return e}function i(e){return Array.isArray(e)?e:"object"==typeof e&&"number"==typeof e.length?c.call(e):[e]}function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);var a=e;return"string"==typeof e&&(a=document.querySelectorAll(e)),a?(this.elements=i(a),this.options=n({},this.options),"function"==typeof t?r=t:n(this.options,t),r&&this.on("always",r),this.getImages(),s&&(this.jqDeferred=new s.Deferred),void setTimeout(this.check.bind(this))):void l.error("Bad element for imagesLoaded "+(a||e))}function r(e){this.img=e}function a(e,t){this.url=e,this.element=t,this.img=new Image}var s=e.jQuery,l=e.console,c=Array.prototype.slice;o.prototype=Object.create(t.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&d[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var o=n[i];this.addImage(o)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(i=0;i<r.length;i++){var a=r[i];this.addElementBackgroundImages(a)}}}};var d={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var o=i&&i[2];o&&this.addBackground(o,e),i=n.exec(t.backgroundImage)}},o.prototype.addImage=function(e){var t=new r(e);this.images.push(t)},o.prototype.addBackground=function(e,t){var n=new a(e,t);this.images.push(n)},o.prototype.check=function(){function e(e,n,i){setTimeout((function(){t.progress(e,n,i)}))}var t=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach((function(t){t.once("progress",e),t.check()})):void this.complete()},o.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+n,e,t)},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},r.prototype=Object.create(t.prototype),r.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype=Object.create(r.prototype),a.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},a.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},o.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((s=t).fn.imagesLoaded=function(e,t){return new o(this,e,t).jqDeferred.promise(s(this))})},o.makeJQueryPlugin(),o})),function(e,t){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],(function(n,i){return t(e,n,i)})):"object"==typeof module&&module.exports?module.exports=t(e,require("flickity"),require("imagesloaded")):e.Flickity=t(e,e.Flickity,e.imagesLoaded)}(window,(function(e,t,n){"use strict";t.createMethods.push("_createImagesLoaded");var i=t.prototype;return i._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},i.imagesLoaded=function(){function e(e,n){var i=t.getParentCell(n.img);t.cellSizeChange(i&&i.element),t.options.freeScroll||t.positionSliderAtSelected()}if(this.options.imagesLoaded){var t=this;n(this.slider).on("progress",e)}},t}));var escapeHtml=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,i,o,r,a,s,l="",c=0;for(e=Base64._utf8_encode(e);c<e.length;)o=(t=e.charCodeAt(c++))>>2,r=(3&t)<<4|(n=e.charCodeAt(c++))>>4,a=(15&n)<<2|(i=e.charCodeAt(c++))>>6,s=63&i,isNaN(n)?a=s=64:isNaN(i)&&(s=64),l=l+Base64._keyStr.charAt(o)+Base64._keyStr.charAt(r)+Base64._keyStr.charAt(a)+Base64._keyStr.charAt(s);return l},decode:function(e){var t,n,i,o,r,a,s="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)t=Base64._keyStr.indexOf(e.charAt(l++))<<2|(o=Base64._keyStr.indexOf(e.charAt(l++)))>>4,n=(15&o)<<4|(r=Base64._keyStr.indexOf(e.charAt(l++)))>>2,i=(3&r)<<6|(a=Base64._keyStr.indexOf(e.charAt(l++))),s+=String.fromCharCode(t),64!=r&&(s+=String.fromCharCode(n)),64!=a&&(s+=String.fromCharCode(i));return s=Base64._utf8_decode(s)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},_utf8_decode:function(e){for(var t="",n=0,i=c1=c2=0;n<e.length;)(i=e.charCodeAt(n))<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),n+=3);return t}};$.fn.replace_urls=function(){var e=/(\b(https?|ftp):\/\/[^\s<>"'\(\)]+)/gi,t=["khamsat.com","blog.khamsat.com","support.khamsat.com","suar.me","i.suar.me","mostaql.com","blog.mostaql.com","baaeed.com","blog.baaeed.com","academy.hsoub.com","wiki.hsoub.com","io.hsoub.com","ana.hsoub.com","hsoub.com","picalica.com","zaetoon.com"];return this.each((function(){var n=!1;$(this).html($(this).html().replace(e,(function(e,i){return $.each(t,(function(e,t){i.indexOf(t)>-1&&(n=!0)})),n?(n=!1,'<a href="'+i+'" rel="nofollow noopener noreferrer" target="_blank" style="color:#52b035;direction:ltr;display:inline-block;word-break:break-all">'+i+"</a>"):'<a href="/redirect?url='+Base64.encode(encodeURI(i))+'" target="_blank" rel="nofollow noopener noreferrer" style="color:#52b035;direction:ltr;display:inline-block;word-break:break-all">'+i+"</a>"})))})),$(this)},document.addEventListener("DOMContentLoaded",(function(){var e,t=document.getElementsByClassName("video__iframe-responsive__youtube");for(e=0;e<t.length;e++)t[e].onclick=labnolIframe;var n=$(".new_main_category").val(),i=$("#sub-categories-dropdown").val();""!=n&&""==i&&loadSubCategories(n,"#sub-categories-dropdown");var o=$("input[name = page_type]input[checked = checked]").val();o&&$("."+o+"_section").removeClass("d-none")})),$(document).ready((function(){function e(){alertify.YoutubeDialog||alertify.dialog("YoutubeDialog",(function(){var e;return{main:function(e){return this.set({videoId:e})},setup:function(){return{buttons:[{key:27}],focus:{element:0},options:{padding:!1,overflow:!1}}},build:function(){(e=document.createElement("iframe")).frameBorder="no",e.width="100%",e.height="100%",this.elements.content.appendChild(e),this.elements.body.style.minHeight=.5*screen.height+"px"},settings:{videoId:void 0},settingUpdated:function(t,n,i){if("videoId"===t)e.src="https://www.youtube.com/embed/"+i+"?enablejsapi=1&rel=0&showinfo=0"},hooks:{onclose:function(){e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")},onupdate:function(t,n,i){if("resizable"===t)i?(this.elements.content.removeAttribute("style"),e&&e.removeAttribute("style")):(this.elements.content.style.minHeight="inherit",e&&(e.style.minHeight="inherit"))}}}}))}function t(e){return arr=[],e.forEach((e=>{arr.push({text:escapeHtml(e.tag),value:escapeHtml(e.tag)})})),arr}function n(){if($(".multi-select-or-create-selectize").length>0){var e=$("#service_id").val(),n=$("#select-tags").attr("data-tags-count");n<5&&(n=5),null==e&&(e=null),$.ajax({url:"/ajax/tags",method:"GET",dataType:"json",data:{service_id:e}}).done((function(i){for(var o=t(i.tags),r=$(".multi-select-or-create-selectize").val().split(","),a=0;a<r.length;a++)o.push({text:escapeHtml(r[a]),value:escapeHtml(r[a])});y.searchField=["text","value"],y.maxItems=n,y.closeAfterSelect=!1,y.options=o,y.onChange=b(),y.load=function(n,i){i(),$.ajax({url:"/ajax/tags",type:"GET",data:{service_id:e,query:n},error:function(){i()},success:function(e){var n=t(e.tags);i(n)}})},$(".multi-select-or-create-selectize").selectize(y)}))}}function i(){if($(".multi-select-or-create-selectize").length>0){var e=$(".multi-select-or-create-selectize").val().split(","),t=$("input[name=title]").val(),n=$("textarea[name=description]").val();""!=t&&$.ajax({url:"/ajax/tags/predict",method:"POST",dataType:"json",data:{title:t,description:n,tags:e}}).done((function(t){var n=[];if(t.tags.forEach((e=>{n.push({id:e.id,tag:escapeHtml(e.tag),keyword:e.keyword})})),n.length>0){if(""==e)var i=n;else i=n.filter((function(t){return-1==e.indexOf(t)}));for(var o="",r=0;r<i.length;r++){o=o+'<span class="suggestion-block-keywords-btn btn" id="'+(null==i[r].keyword?"tag":"keyword")+"-"+i[r].id+'"> <i class="fa fa-fw fa-plus" />'+escapeHtml(i[r].tag)+"</span>"}""!=o&&($(".suggestion-block").removeClass("hidden"),$(".suggestion-block-keywords").empty().append(o));var a={};$(".suggestion-block-keywords-btn").each((function(){var e=$.trim($(this).text());a[e]?$(this).remove():a[e]=!0}))}}))}}function o(e){var t=e.replace(/(\/)/,"");t||(t="home"),window.pageYOffset>$(".js-page").offset().top&&$("html,body").animate({scrollTop:0},"fast"),$(".js-page").fadeOut(300,(function(){$("#loading").fadeIn(100),$.getJSON("/ajax/"+t,(function(e){e.content&&$(".js-page").html(e.content),$("#loading").fadeOut(300,(function(){$(".js-page").fadeIn(100)}))}))})),e!=window.location&&window.history.pushState({path:e},"",e)}function r(){!0,$("#loadmore_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#loadmore_btn").attr("disabled",!0);var e=$("#page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$(".services_block_list .service-block").each((function(){t.push(this.id.split("-")[1])})),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"service_ids[]":t},(function(e){e.count<32?$("#more_content").fadeOut(300,(function(){$(".services_block_list:first").append(e.content)})):$(".services_block_list:first").append(e.content),$("#loadmore_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#loadmore_btn").attr("disabled",!1),!1}),"json")}function a(){var e=$("input[name=payment_method]:checked").val();"Khamsat"==e||""==e?$("#unique-reference-details").addClass("hidden"):$("#unique-reference-details").removeClass("hidden")}function s(){!0,$("#loadmore_collection_btn").html("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#loadmore_collection_btn").attr("disabled",!0);var e=$("#page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$(".services_block_list .service-block").each((function(){t.push(this.id.split("-")[1])})),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"service_ids[]":t,token:v},(function(e){e.count<32?$("#more_content").fadeOut(300,(function(){$(".services_block_list:first").append(e.content)})):$(".services_block_list:first").append(e.content),$("#loadmore_collection_btn").html("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#loadmore_collection_btn").attr("disabled",!1),!1}),"json")}function l(){!0,$("#loadmore_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#loadmore_btn").attr("disabled",!0);var e=$("#page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$("#reviews-section .review_section").each((function(){t.push(this.id.split("-")[1])})),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"reviews_ids[]":t},(function(e){e.count<25?$("#more_content").fadeOut(300,(function(){$(".services_reviews:first").append(e.content)})):$(".services_reviews:first").append(e.content),$("#loadmore_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#loadmore_btn").attr("disabled",!1),!1}),"json")}function c(){!0,$("#loadmore_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#loadmore_btn").attr("disabled",!0);var e=$("#page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$("#reviews-section .review_section").each((function(){t.push(this.id.split("-")[1])})),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"reviews_ids[]":t},(function(e){e.count<25?$("#more_content").fadeOut(300,(function(){$(".services_reviews:first").append(e.content)})):$(".services_reviews:first").append(e.content),$("#loadmore_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#loadmore_btn").attr("disabled",!1),!1}),"json")}function d(){!0,$("#loadmore_pages_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#loadmore_pages_btn").attr("disabled",!0);var e=$("#page_url").val().replace("/ajax","").replace(/(\/)/,""),t=$(".services_block_list .service-block").length/32+1;$.post("/ajax/load_more/"+e,{page:t},(function(e){e.count<32?$("#more_content").fadeOut(300,(function(){$(".services_block_list:first").append(e.content)})):$(".services_block_list:first").append(e.content),$("#loadmore_pages_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#loadmore_pages_btn").attr("disabled",!1),!1}),"json")}function u(){!0,$("#community_loadmore_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#community_loadmore_btn").attr("disabled",!0);var e=$("#community_page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$("#forums_table .forum_post").each((function(){t.push(this.id.split("-")[1])})),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"posts_ids[]":t},(function(e){e.count<25?$("#community_more_content").fadeOut(300,(function(){$("#forums_table tbody").append(e.content)})):$("#forums_table tbody").append(e.content),$("#community_loadmore_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#community_loadmore_btn").attr("disabled",!1),!1}),"json")}function h(){!0,$("#loadmore_notifications_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#loadmore_notifications_btn").attr("disabled",!0);var e=$("#page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$("#notifications_table .notification-item").each((function(){t.push(this.id.split("-")[1])})),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"notification_ids[]":t,token:v},(function(e){e.count<25?$("#more_content").fadeOut(300,(function(){$("#notifications_table tbody").append(e.content)})):$("#notifications_table tbody").append(e.content),$("#loadmore_notifications_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#loadmore_notifications_btn").attr("disabled",!1),!1}),"json")}function p(){!0,$("#loadmore_collections_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#loadmore_collections_btn").attr("disabled",!0);var e=$("#page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$("#collections_table .collection-item").each((function(){t.push(this.id.split("-")[1])})),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"collection_ids[]":t,token:v},(function(e){e.count<25?$("#more_content").fadeOut(300,(function(){$("#collections_table tbody").append(e.content)})):$("#collections_table tbody").append(e.content),$("#loadmore_collections_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#loadmore_collections_btn").attr("disabled",!1),!1}),"json")}function f(){!0,$("#payments_loadmore_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#payments_loadmore_btn").attr("disabled",!0);var e=$("#payments_page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$("#payments_table .payment_id").each((function(){t.push(this.id.split("-")[1])})),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"payments_ids[]":t},(function(e){e.count<25?$("#payments_more_content").fadeOut(300,(function(){$("#payments_table").append(e.content)})):$("#payments_table").append(e.content),$("#payments_loadmore_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#payments_loadmore_btn").attr("disabled",!1),!1}),"json")}function m(){var e=$("#forum_name_select").val(),t=$("#"+e+"_description").val(),n=$("#"+e+"_confirmation").val();$("#forum_name_description").html(t),$("#forum_post_confirmation").html(n)}function g(){this.parentElement.classList.toggle("active_faq")}ajax_loading=!1,sidebar_fixed=!1,is_mobile=!1;var v=$("#user_token").val();/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(is_mobile=!0),$.ajaxSetup({cache:!1}),$("body").ajaxStart((function(){ajax_loading=!0})),$("body").ajaxStop((function(){ajax_loading=!1})),init_tooltip(),$('a[href="#add_to_cart"]').click((function(e){e.preventDefault(),$("body, html").animate({scrollTop:$("#add_to_cart").offset().top-60},0)})),$(".c-button--paypal").click((function(){window.onbeforeunload=function(){}})),$("#tips_button").on("click",(function(t){t.preventDefault(),e(),videoID=$("#tips_button").attr("data-videoid"),alertify.YoutubeDialog(videoID).set({frameless:!0,maximizable:!1,closable:!0,closableByDimmer:!0}).setting("title","5 \u0646\u0635\u0627\u0626\u062d \u0644\u0642\u0628\u0648\u0644 \u062e\u062f\u0645\u0627\u062a\u0643"),$(".alertify").addClass("tips_and_advice"),$(".ajs-body").attr("style","")})),fix_sidebar=function(){$("#search").css("position","fixed"),$("#search").css("top","20px"),$("#categories").css("position","fixed"),$("#categories").css("top",$("#search").height()+40+"px"),sidebar_over_footer()?hide_sidebar():unhide_sidebar()},unfix_sidebar=function(){$("#search").css("position",""),$("#search").css("top",""),$("#categories").css("position",""),$("#categories").css("top",""),sidebar_over_footer()?hide_sidebar():unhide_sidebar()},hide_sidebar=function(){$("#categories").css("visibility","hidden"),$("#search").css("visibility","hidden")},unhide_sidebar=function(){$("#categories").css("visibility",""),$("#search").css("visibility","")},sidebar_over_footer=function(){var e=$("#categories").offset().top+$("#categories").height()+$("#search").height()-10;if($("#footer_categories").length)var t=$("#footer_categories");else t=$("#footer");return e>t.offset().top},is_mobile||$(window).scroll((function(){$("#categories").length&&$("#search").length&&(sidebar_over_footer()?hide_sidebar():unhide_sidebar(),$(window).scrollTop()>$(".fix_sidebar").offset().top?sidebar_fixed||sidebar_over_footer()||(fix_sidebar(),sidebar_fixed=!0):sidebar_fixed&&(unfix_sidebar(),sidebar_fixed=!1))})),centralised_elements=function(e,t){if(!$(e).hasClass("no_center")){var n=$(e).width()-30,i=0,o=0,r=0;jQuery.each($(e+" "+t),(function(){i+=$(this).width(),o+=1})),r=parseInt((n-i)/(o-1)),jQuery.each($(e+" "+t),(function(){o>1&&r>0&&$(this).css("margin-left",r+"px"),o-=1}))}},$("#service_info .service_info_meta").length?centralised_elements("#service_info .service_info_meta","span"):$("#service_info").length&&centralised_elements("#service_info","span"),$("#message_info").length&&centralised_elements("#message_info","span"),$("#sub-categories-dropdown , #to-sub-categories-dropdown").selectize({optgroups:[],disabledField:"disable",optgroupLabelField:"groupName",optgroupValueField:"groupName",valueField:"itemValue",labelField:"itemName",searchField:["itemName"],lockOptgroupOrder:!1,render:{item:function(e,t){return"<div class='item'><span>"+t(e.itemName).trim()+"</span></div>"},option:function(e,t){return"<div class='option'>"+("true"==e.itemNested?'<span class="ps-4">'+t(e.itemName)+"</span>":"<span>"+t(e.itemName)+"</span>")+"</div>"}}}),$(".clickable-selection-area").live("click",(function(){$(".icon-unchecked").removeClass("d-none"),$(this).children(".icon-unchecked").addClass("d-none"),$(".icon-checked").addClass("d-none"),$(this).children(".icon-checked").removeClass("d-none"),$(this).children("input").prop("checked",!0)})),$("input[name = page_type]").live("click",(function(){pageType=$(this).val(),pageType&&($(".section").addClass("d-none"),$("."+pageType+"_section").removeClass("d-none"))})),$("#main_category, #from_category").live("change",(function(){var e=$("#main_category").val();void 0===e&&(e=$("#from_category").val()),loadSubCategories(e,"#sub-categories-dropdown")})),$("#to_category").live("change",(function(){loadSubCategories($("#to_category").val(),"#to-sub-categories-dropdown")})),$("#decline_reason_category").selectize({sortField:"text",create:!0,render:{option_create:function(e,t){return t(e.input).length<3?"":isNaN(t(e.input))?($(".selectize-dropdown").removeClass("hard-hidden"),'<div class="create  bg-gray-darker">\u0623\u0636\u0641 \u062a\u0635\u0646\u064a\u0641 \u062c\u062f\u064a\u062f : '+t(e.input)+"</div>"):""}}}),$("#main_category, #to_category, #from_category").selectize({readOnly:!0,onDelete:function(){return!1}}),$(".dropdown_single_readonly").selectize({readOnly:!0,onDelete:function(){return!1}});var y={valueField:"text",labelField:"text",delimiter:",",options:[],create:!0,render:{option_create:function(e,t){return t(e.input).length<3||t(e.input).length>30?"":isNaN(t(e.input))?($(".selectize-dropdown").removeClass("hard-hidden"),'<div class="create  bg-gray-darker">\u0623\u0636\u0641 \u0643\u0644\u0645\u0629 \u062c\u062f\u064a\u062f\u0629 : '+t(e.input)+"</div>"):""}},plugins:{remove_button:{label:'<i class="fa fa-fw fa-times"></i>',title:"\u062d\u0630\u0641",className:"remove"}}};$(".multi-create-selectize").selectize(y),n();var b=function(){return function(){$(".multi-select-or-create-selectize").hasClass("predicted")||(selectizeElement=$(".multi-select-or-create-selectize")[0].selectize,selectizeElement.blur(),selectizeElement.focus()),$(".multi-select-or-create-selectize").removeClass("predicted")}};if($(".suggestion-block-keywords-btn").live("click",(function(){(null==$(".multi-select-or-create-selectize").val().match(/,/g)?0:$(".multi-select-or-create-selectize").val().match(/,/g).length)+1<10&&($(".multi-select-or-create-selectize").addClass("predicted"),selectizeElement=$(".multi-select-or-create-selectize")[0].selectize,selectizeElement.addOption({text:escapeHtml(this.innerText),value:escapeHtml(this.innerText)}),selectizeElement.addItem(this.innerText),$(this).remove(),i()),0==$(".suggestion-block-keywords-btn").length&&$(".suggestion-block").addClass("hidden")})),i(),$("input[name=title] , textarea[name=description]").live("change",(function(){i()})),$("#forum_post_content").replace_urls(),$("#service_page .description").replace_urls(),$(".replace_urls").replace_urls(),$("form").live("submit",(function(){$("#khamsatinput").val("")})),$("a[data-href]").live("hover click",(function(){var e=$(this);e.attr("href",e.attr("data-href"))})),$("a[data-text]").each((function(){var e=$(this);e.text(e.attr("data-text"))})),$("#categories_btn").click((function(e){e.preventDefault(),"hidden"==$("#categories_list").css("visibility")?$("#categories_list").css("visibility","visible"):$("#categories_list").css("visibility","hidden")})),$("#container, #header > :not(#second_header)").click((function(){"visible"==$("#categories_list").css("visibility")&&$("#categories_list").css("visibility","hidden")})),clean_upload_str=function(e){return e.replace("C:\\fakepath\\","")},$("input[name=payment_method]").length>0&&(a(),$("input[name=payment_method]").attr("checked",!1)),$("input[name=payment_method]").live("change",(function(){a()})),$("#loadmore_btn").live("click",(function(e){e.preventDefault(),r()})),$("#loadmore_collection_btn").live("click",(function(e){e.preventDefault(),s()})),$("#loadmore_reviews_btn").live("click",(function(e){e.preventDefault(),l()})),$("#loadmore_profile_reviews_btn").live("click",(function(e){e.preventDefault(),c()})),$("#loadmore_pages_btn").live("click",(function(e){e.preventDefault(),d()})),$("#community_loadmore_btn").live("click",(function(e){e.preventDefault(),u()})),$("#loadmore_notifications_btn").live("click",(function(e){e.preventDefault(),h()})),$("#loadmore_collections_btn").live("click",(function(e){e.preventDefault(),p()})),$("#payments_loadmore_btn").live("click",(function(e){e.preventDefault(),f()})),$("#bank_account_credit_form").live("submit",(function(){var e=$(".saved_bank_account.selected").attr("data-bank-account-id");$("#bank-account-id").val(e),$("#bank_account_credit_btn").addClass("disabled")})),$(".saved_credit_card, .saved_bank_account.enabled").live("click",(function(){$("#saved_credit_card_list, #bank_account_credit_form").children().removeClass("selected"),$(this).addClass("selected")})),$("#cancel-payout").live("click",(function(e){e.preventDefault();var t=$(this);alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0625\u0644\u063a\u0627\u0621 \u0637\u0644\u0628 \u0627\u0644\u0633\u062d\u0628\u061f").set("onok",(function(){t.parents("form#cancel-payout-form").submit()})),alertsControl.clear_style()})),$("#change_password_btn").live("click",(function(e){e.preventDefault(),$("#change_password").slideDown(500)})),$("#transfer_credit_btn").live("click",(function(e){e.preventDefault(),$("#transfer_credit").slideDown(500)})),$("#attach_file_btn").live("click",(function(e){e.preventDefault(),$("#attach_file").slideDown(500),$("#attach_file").find(".fileupload").trigger("click")})),$("#attach_file").find(".fileupload").live("change",(function(e){e.preventDefault();var t=$("#attach_file").find(".upload_display");t.val($(this).val()),""!=t.val()?$("#attach_file_btn").removeClass("c-button--ghost"):$("#attach_file_btn").addClass("c-button--ghost")})),$(".service").live("mouseover mouseleave",(function(e){"mouseover"==e.type?$(this).find(".actions").removeClass("hidden"):$(this).find(".actions").addClass("hidden")})),$("#waiting_payment").length){var _=$("#payment_url").val();setInterval((function(){o(_)}),5e3)}if($("#reply_attachments_btn").live("click",(function(e){e.preventDefault(),$("#attachmentsUploader").toggle()})),$("#reply_voicemessage_btn").live("click",(function(e){e.preventDefault(),$("#voicemessageUploader").toggle()})),$("#decline_order_main").live("click",(function(e){e.preventDefault(),$(this).attr("disabled")||$("#decline_order_wrapper").toggle()})),$("#decline_order").live("click",(function(e){e.preventDefault();var t=this,n=$("#order_id").val(),i=$("#decline_reasons").val();if(""==i)return alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0623\u0633\u0628\u0627\u0628 \u0627\u0644\u0625\u0644\u063a\u0627\u0621");alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0625\u0644\u063a\u0627\u0621 \u0647\u0630\u0627 \u0627\u0644\u0637\u0644\u0628\u061f").setting("title","\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0625\u0644\u063a\u0627\u0621").set("onok",(function(){disable_btn(t),$.post("/order/"+n+"/decline",{token:v,decline_reasons:i},(function(e){e.success?window.location="/orders":window.location.reload()}),"json").fail((function(){window.location.reload()}))})).set({labels:{ok:"\u0623\u0644\u063a\u064a \u0627\u0644\u0637\u0644\u0628",cancel:"\u062a\u0631\u0627\u062c\u0639"}}),alertsControl.clear_style()})),$("#deliver_order").live("click",(function(e){if(e.preventDefault(),!$(this).attr("disabled")){var t=this,n=$("#order_id").val();alertify.confirm("\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0625\u0631\u0633\u0627\u0644 \u0625\u0634\u0639\u0627\u0631 \u0625\u0644\u0649 \u0627\u0644\u0645\u0634\u062a\u0631\u064a \u0644\u064a\u0633\u062a\u0644\u0645 \u0627\u0644\u0637\u0644\u0628\u061f \u0647\u0630\u0627 \u064a\u0639\u0646\u064a \u0623\u0646\u0643 \u0623\u0646\u0647\u064a\u062a \u0627\u0644\u0639\u0645\u0644 \u0639\u0644\u0649 \u0627\u0644\u0637\u0644\u0628 \u0628\u0634\u0643\u0644 \u0643\u0627\u0645\u0644. \u0644\u0627 \u062a\u0631\u0633\u0644 \u0625\u0634\u0639\u0627\u0631 \u0645\u0627 \u0644\u0645 \u062a\u0646\u062a\u0647\u064a \u0645\u0646 \u0627\u0644\u062a\u0646\u0641\u064a\u0630 \u0628\u0634\u0643\u0644 \u0643\u0627\u0645\u0644 \u0648\u0646\u0647\u0627\u0626\u064a.").setting("title","\u0623\u0643\u064a\u062f \u062a\u0633\u0644\u064a\u0645 \u0627\u0644\u0637\u0644\u0628").set("onok",(function(){disable_btn(t),$.post("/order/"+n+"/deliver",{token:v},(function(){window.location.reload()}),"json").fail((function(){window.location.reload()}))})).set({labels:{ok:"\u0623\u0631\u0633\u0644 \u0637\u0644\u0628 \u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645",
cancel:"\u062a\u0631\u0627\u062c\u0639"}}),alertsControl.clear_style()}})),$("#approve_purchase").live("click",(function(e){e.preventDefault();var t=this,n=$("#order_id").val();alertify.confirm("\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u0637\u0644\u0628\u061f \u0627\u0633\u062a\u0644\u0627\u0645\u0643 \u0644\u0644\u0637\u0644\u0628 \u064a\u0639\u0646\u064a \u0623\u0646 \u0627\u0644\u0628\u0627\u0626\u0639 \u0623\u0646\u0647\u0649 \u062a\u0646\u0641\u064a\u0630 \u0627\u0644\u062e\u062f\u0645\u0629 \u0643\u0645\u0627 \u0647\u0648 \u0645\u0648\u0636\u062d \u0628\u0627\u0644\u0648\u0635\u0641 \u0648\u0628\u0634\u0643\u0644 \u0643\u0627\u0645\u0644. \u0644\u0627 \u062a\u0633\u062a\u0644\u0645 \u0627\u0644\u0637\u0644\u0628 \u0627\u0630\u0627 \u0643\u0627\u0646\u062a \u0647\u0646\u0627\u0643 \u0627\u0645\u0648\u0631 \u0646\u0627\u0642\u0635\u0629 \u0623\u0648 \u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644\u0629 \u0628\u0639\u062f.").setting("title","\u062a\u0623\u0643\u064a\u062f \u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u0637\u0644\u0628").set("onok",(function(){disable_btn(t),disable_btn(".ajs-button.ajs-ok"),$.post("/purchase/"+n+"/approve",{token:v},(function(){window.location.href=window.location.href.split("#")[0]+"?review=true"}),"json").fail((function(){window.location.reload()}))})).set({labels:{ok:"\u0627\u0633\u062a\u0644\u0645 \u0627\u0644\u0637\u0644\u0628",cancel:"\u062a\u0631\u0627\u062c\u0639"}}),alertsControl.clear_style()})),$("#reject_purchase_main").live("click",(function(e){e.preventDefault(),$("#reject_purchase_wrapper").toggle()})),$("#reject_purchase").live("click",(function(e){e.preventDefault();var t=$("#order_id").val(),n=$("#reject_reasons").val();if(""==n)return alertsControl.show("\u0646\u0628\u064a\u0647!","\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0627\u0644\u062a\u0639\u062f\u064a\u0644\u0627\u062a \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629");disable_btn(this),$.post("/purchase/"+t+"/reject",{token:v,reject_reasons:n},(function(){window.location.reload()}),"json").fail((function(){window.location.reload()}))})),$("#decline_purchase_main").live("click",(function(e){e.preventDefault(),$("#decline_purchase_wrapper").toggle()})),$("#decline_purchase").live("click",(function(e){e.preventDefault();var t=this,n=$("#order_id").val(),i=$("#decline_reasons").val();if(""==i)return alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0623\u0633\u0628\u0627\u0628 \u0627\u0644\u0625\u0644\u063a\u0627\u0621");alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0625\u0644\u063a\u0627\u0621 \u0647\u0630\u0627 \u0627\u0644\u0637\u0644\u0628\u061f").setting("title","\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0625\u0644\u063a\u0627\u0621").set("onok",(function(){disable_btn(t),$.post("/purchase/"+n+"/decline",{token:v,decline_reasons:i},(function(){window.location.href=window.location.href+"?review=true"}),"json").fail((function(){window.location.reload()}))})).set({labels:{ok:"\u0623\u0644\u063a\u064a \u0627\u0644\u0637\u0644\u0628",cancel:"\u062a\u0631\u0627\u062c\u0639"}}),alertsControl.clear_style()})),$("#request_purchase_decline_main").live("click",(function(e){e.preventDefault(),$("#request_purchase_decline_wrapper").toggle()})),$("#request_purchase_decline").live("click",(function(e){e.preventDefault();var t=this,n=$("#order_id").val(),i=$("#request_purchase_decline_reasons").val();if(""==i)return alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0623\u0633\u0628\u0627\u0628 \u0637\u0644\u0628 \u0627\u0644\u0625\u0644\u063a\u0627\u0621");alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628 \u0625\u0644\u063a\u0627\u0621 \u0625\u0644\u0649 \u0627\u0644\u0628\u0627\u0626\u0639\u061f").setting("title","\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0625\u0644\u063a\u0627\u0621").set("onok",(function(){disable_btn(t),$.post("/purchase/"+n+"/request_purchase_decline",{token:v,decline_reasons:i},(function(){window.location.reload()}),"json").fail((function(){window.location.reload()}))})).set({labels:{ok:"\u0623\u0631\u0633\u0644 \u0637\u0644\u0628 \u0627\u0644\u0625\u0644\u063a\u0627\u0621",cancel:"\u062a\u0631\u0627\u062c\u0639"}}),alertsControl.clear_style()})),$("#complete_payment_wrapper").length&&update_total_price(),$(".service_upgrade_check, #service_quantity").live("change",(function(){update_total_price()})),$("#delete_service").live("click",(function(e){e.preventDefault();var t=$("#service_id").val();alertify.confirm("\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u062e\u062f\u0645\u0629 \u0646\u0647\u0627\u0626\u064a\u0627\u064b\u061f").set("onok",(function(){$("#loading").fadeIn(100),$(".card").addClass("hidden"),$.post("/service/"+t+"/delete",{token:v},(function(e){e.deleted&&(window.location=e.url)}),"json")})),alertsControl.clear_style()})),$("#service_reviews .review").live("mouseover mouseleave",(function(e){"mouseover"==e.type?$(this).find(".review_reply_btn").removeClass("hidden"):$(this).find(".review_reply_btn").addClass("hidden")})),$(".add_reply_btn").live("click",(function(e){e.preventDefault(),$(this).addClass("hidden"),$("#seller_reply_form_"+$(this).attr("id")).slideDown(300)})),$(".hide_reply_btn").live("click",(function(e){e.preventDefault(),$("#seller_reply_form_"+$(this).attr("data-id")).slideUp(10),$(this).parent().parent().parent().prev(".o-media").find(".add_reply_btn").removeClass("hidden")})),$(".send_reply_btn").live("click",(function(e){e.preventDefault();var t=$(this).closest(".seller_reply"),n=t.attr("id").split("_").slice(-1)[0],i=t.attr("data-id"),o=t.find(".seller_reply_text"),r=$(this).parent();o.val()&&""!==o.val()?($(this).text("\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0631\u0633\u0627\u0644..."),$.post("/service/"+i+"/review/"+n,{token:v,seller_reply:o.val()},(function(e){e.reply_created?(r.css("display","none"),location.reload()):location.reload()}),"json")):alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0644\u0645 \u062a\u0642\u0645 \u0628\u0625\u062f\u062e\u0627\u0644 \u0623\u064a \u0631\u062f \u0628\u0639\u062f.")})),$("#order_finished_checkbox").live("click",(function(){checkbox=$(this),checkbox.is(":checked")&&(alertify.confirm("\u0647\u0644 \u062a\u0645 \u062a\u0646\u0641\u064a\u0630 \u0627\u0644\u0637\u0644\u0628 \u0628\u0634\u0643\u0644 \u0643\u0627\u0645\u0644\u061f\n\n\u062a\u0639\u0644\u064a\u0645 \u0627\u0644\u0637\u0644\u0628 \u0639\u0644\u0649 \u0623\u0646\u0647 \u0645\u0646\u062a\u0647\u064a \u0642\u0628\u0644 \u062a\u0646\u0641\u064a\u0630\u0647 \u0642\u062f \u064a\u0624\u062f\u064a \u0644\u0625\u064a\u0642\u0627\u0641 \u062d\u0633\u0627\u0628\u0643.").set("onok",(function(){checkbox.attr("checked",!0)})).set("oncancel",(function(){checkbox.removeAttr("checked")})),alertsControl.clear_style())})),m(),$("#forum_name_select").live("change",(function(){m()})),$("#service_add_image").live("click",(function(e){e.preventDefault(),$(this).addClass("hidden"),$("#service_add_video").removeClass("hidden"),$(".service_video").slideUp(300),$(".service_image").slideToggle(300),$(".service_video .largeview").find("input[name=video_url]").val("")})),$("#service_add_video").live("click",(function(e){e.preventDefault(),$(this).addClass("hidden"),$("#service_add_image").removeClass("hidden"),$(".service_image").slideUp(300),$(".service_video").slideToggle(300);var t=$(".uploadbox").html();$(".uploadbox").html(t)})),$("#upgrade_service_btn").live("click",(function(e){if(e.preventDefault(),$("#upgrade_service").hasClass("hidden"))$("#upgrade_service").removeClass("hidden");else{var t=$("#upgrade_service .upgrade_service_inputs").length,n=$("#upgrade_service .upgrade_service_inputs:last").clone(),i=hsoub_grs(20);n.attr("id","upgrade_service_inputs_"+i),n.find(".service_upgrade_title").attr("name","service_upgrade_title_"+i),n.find(".service_upgrade_price").attr("name","service_upgrade_price_"+i),n.find(".service_upgrade_price").attr("id","service_upgrade_price_"+i),n.find(".service_upgrade_days_change").attr("name","service_upgrade_days_change_"+i),n.find(".service_upgrade_days_change").attr("id",i),n.find(".service_upgrade_days").attr("name","service_upgrade_days_"+i),n.find(".service_upgrade_days").attr("id","service_upgrade_days_"+i),n.find(".service_upgrade_title").val(""),n.find(".service_upgrade_days").val("01"),n.find(".service_upgrade_days").removeClass("hidden"),n.find(".service_upgrade_days").parent().removeClass("hidden"),n.find(".service_upgrade_days_change").removeClass("full_width"),n.find("#service_upgrade_price_"+i+".selectize-control:last").remove(),n.find("#"+i+".selectize-control:last").remove(),n.find("#service_upgrade_days_"+i+".selectize-control:last").remove(),$("#upgrade_service_inputs_wrapper").append(n),$("#service_upgrade_price_"+i).selectize({readOnly:!0,onDelete:function(){return!1}}),$("#"+i).selectize({readOnly:!0,onDelete:function(){return!1}}),$("#service_upgrade_days_"+i).selectize({readOnly:!0,onDelete:function(){return!1}});var o=$("#service_upgrade_price_"+i)[0].selectize;o.clear(),o.clearOptions(),o.load((function(e){e(upgrades_lists.prices_list)})),o.setValue(upgrades_lists.prices_list[0].value);var r=$("#"+i)[0].selectize;r.clear(),r.clearOptions(),r.load((function(e){e(upgrades_lists.upgrade_days_change)})),r.setValue(upgrades_lists.upgrade_days_change[0].value);var a=$("#service_upgrade_days_"+i)[0].selectize;a.clear(),a.clearOptions(),a.load((function(e){e(upgrades_lists.upgrade_days)})),a.setValue(upgrades_lists.upgrade_days[0].value),t>=4&&$("#upgrade_service_btn_wrapper").addClass("hidden")}})),$(".remove_upgrade_btn").live("click",(function(e){e.preventDefault();var t=$("#upgrade_service .upgrade_service_inputs").length,n=$(this).parent().parent();n.find(".service_upgrade_title").attr("value",""),t<=1?$("#upgrade_service").addClass("hidden"):n.remove(),t<=5&&$("#upgrade_service_btn_wrapper").removeClass("hidden")})),$("#upgrade_service_inputs_wrapper").length){function w(){$.each($(".service_upgrade_days_change"),(function(){var e=$(this),t=$(this).attr("id"),n=$("select[name='service_upgrade_days_"+t+"']");"same"==e.val()?(n.addClass("hidden"),e.addClass("full_width"),n.parent().addClass("hidden")):(n.removeClass("hidden"),e.removeClass("full_width"),n.parent().removeClass("hidden"))}))}w(),$(".service_upgrade_days_change").live("change",(function(){w()}))}$(".delete_social_account").live("click",(function(e){e.preventDefault(),button=$(this);var t=button.attr("data-id");alertify.confirm("\u0647\u0644 \u062a\u0631\u064a\u062f \u0627\u0632\u0627\u0644\u0629 \u0647\u0630\u0627 \u0627\u0644\u062d\u0633\u0627\u0628 \u0645\u0646 \u062d\u0633\u0627\u0628\u0643 \u0641\u064a \u062e\u0645\u0633\u0627\u062a\u061f").set("onok",(function(){button.find("i").addClass("fa fa-spinner fa-spin fa-fw"),$.post("/ajax/auth/deactivate/"+t,{token:v},(function(e){e.success&&$("#sa-"+t).fadeOut(300)}),"json")})),alertsControl.clear_style()})),$(".report_spam_message").click((function(e){e.preventDefault(),button=$(this);var t=$("#message_id").val();alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0623\u0646\u0643 \u062a\u0631\u064a\u062f \u0627\u0644\u062a\u0628\u0644\u064a\u063a \u0639\u0646 \u0647\u0630\u0647 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0639\u0644\u0649 \u0623\u0646\u0647\u0627 \u0645\u0632\u0639\u062c\u0629\u061f\n\n\u0633\u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0648\u0645\u0646\u0639 \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0645\u0646 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0643 \u0628\u0627\u0644\u0645\u0633\u062a\u0642\u0628\u0644.\n").set("onok",(function(){button.find("i").addClass("fa fa-spinner fa-spin fa-fw"),$.post("/ajax/message/"+t+"/report/",{token:v},(function(e){e.success&&(window.location="/messages")}),"json")})),alertsControl.clear_style()})),$("#remove_report").click((function(e){e.preventDefault(),form=$("#remove_report_form"),alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0625\u0628\u0644\u0627\u063a\u061f").set("onok",(function(){form.submit()})),alertsControl.clear_style()})),$("#turn_off_post_notifications").click((function(){chk=$(this);var e=1;chk.is(":checked")||(e=0),chk.attr("disabled",!0),url=window.location.pathname+"/switch/"+e,$.post(url,{token:v},(function(e){e.success&&alertsControl.show("\u0625\u0634\u0639\u0627\u0631",e.msg),chk.prop("disabled",!1)}),"json")})),galleryFilesControl.init(v),alertsControl.set_alertify_defaults(),searchFilter.init(),ordersFilter.init(),messagesFilter.init(),paymentsControl.init(),paypal.init(),collectionControl.init(),cartControl.init(),comments.init(),FileUploader.init("div#attachmentsUploader","attachment"),FileUploader.init("div#assetsUploader","asset"),VoiceMessageUploader.init(),$(".answer").hide(),$(".question").click((function(){var e=$(this).parent("li").find(".answer");"none"==e.css("display")?($(".question").removeClass("active"),$(".answer").slideUp(),e.slideDown(),$(this).addClass("active")):(e.slideUp(),$(this).removeClass("active"))})),$(".QP").click((function(){$(this).next("ul.questions").slideToggle(),$(this).toggleClass("active")})),$(".common-tabs").on("click",".common-tabs__title-item",(function(e){e.preventDefault(),$(this).parent().children(".common-tabs__title-item").removeClass("common-tabs__title-item--active"),$(".tab-content").removeClass("show");var t=$(this).parent().parent().find(".common-tabs__body-item");t.hide(),t[$(this).data("tab-index")].style="display: block",$(this).addClass("common-tabs__title-item--active")}));for(var k=document.querySelectorAll(".faq__list>div>div"),C=0;C<k.length;C++)k[C].addEventListener("click",g);$(".input_stars_item").live("mouseover",(function(e){var t=$(this).parent();t.children(".input_stars_item").each((function(){$(this).find("i").attr("class","fa fa-star-o")}));var n=$(e.target).parent().attr("data-id");t.children(".input_stars_item").each((function(e){e<n&&$(this).find("i").attr("class","fa fa-star u-clr--amber")}))})),$(".input_stars_item").live("mouseout",(function(){var e=$(this).parent();e.children(".input_stars_item").each((function(){$(this).find("i").attr("class","fa fa-star-o")}));var t=$(this).parent().parent().prev("div").find("input").val();e.children(".input_stars_item").each((function(e){e<t&&$(this).find("i").attr("class","fa fa-star u-clr--amber")}))})),$(".input_stars_item").live("click",(function(e){var t=$(this).parent().parent(),n=$(e.target).parent().attr("data-id");t.prev("div").find("input").attr("value",parseInt(n)),$(this).parent().children(".input_stars_item").each((function(e){e<n&&$(this).find("i").attr("class","fa fa-star u-clr--amber")}))})),$(".select_on_focus").live("click",(function(e){e.preventDefault,$(this).select()})),$("#scroll-to").live("click",(function(){var e=document.getElementById("how_to_work");window.scrollTo(e.offsetLeft,e.offsetTop)})),$("#new_message_submit").live("click",(function(){$("#new_message_submit").attr("disabled",!0),alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u062a\u062d\u062a\u0627\u062c \u0644\u062a\u0648\u062b\u064a\u0642 \u0647\u0648\u064a\u062a\u0643 \u0644\u0645\u0648\u0627\u0635\u0644\u0629 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0645\u0648\u0642\u0639")})),$("#copy").live("click",(function(){var e=$(this).prev("#upload-link"),t=$("<input>");$("body").append(t),t.val(escapeHtml($(e).text())).select(),document.execCommand("copy"),t.remove(),alert("The link copied successfully")})),$("#assets_form").live("submit",(function(e){e.preventDefault();var t=$(this),n=$("#assets_submit"),i=disable_btn(n),o={token:$("#user_token").val(),"assets[]":FileUploader.get_files()},r={type:"post",url:t.attr("action"),data:o};$.ajax(r).done((function(){t.trigger("reset"),FileUploader.reset_dropzone()})).fail((function(e,t,n){"timeout"==n?alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0627\u0646\u0642\u0636\u0649 \u0648\u0642\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644"):303==e.status?window.location.href=e.responseText:500==e.status?alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642"):e.responseText?alertsControl.show("\u0625\u0634\u0639\u0627\u0631",e.responseText):alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0639\u0630\u0631\u0627 \u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0625\u0631\u0633\u0627\u0644\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u0627.")})).always((function(){enable_btn(n,i)}))})),$(".modal").modal({backdrop:"static",keyboard:!1})}));var notificationsUtil=function(){function e(){var e=Cookies.get("last_notification_ts");R||(comments.enabled()||cartControl.enabled()||!e||(new Date).getTime()-e>M-100)&&(Cookies.set("last_notification_ts",(new Date).getTime()),R=!0,$.getJSON("/ajax/account_stats",comments.fetch_params(),(function(e){n(e)})).always((function(){R=!1})))}function t(t){clearInterval(window.auto_update_interval),window.auto_update_interval=setInterval((function(){e()}),t)}function n(e){if(u(e.shoping_cart_count,e.cart_data),loggedIn){h(e.unread_notifications_count,e.notifications_data),p(e.unread_messages_count,e.messages_data),l(e);var t=e.unread_notifications_count+e.unread_messages_count+e.unread_purchases_counts+e.unread_orders_counts;t>0?("/search"==window.location.pathname?$(document).attr("title",pageTitle):$(document).attr("title","("+t+") "+pageTitle),k<t&&(O.show(),v())):$(document).attr("title",pageTitle),e.manage_order&&ordersUtil.append_manage_order(e.manage_order),e.manage_purchase&&ordersUtil.append_manage_purchase(e.manage_purchase),k=t,c(e.unread_purchases_counts+e.unread_orders_counts),comments.append(e.comments_data)}}function i(){$(S.element).on("click",(function(){var e=[];$.each(x.components.items,(function(t,n){e.push(n.config.id.split("-")[1])})),jQuery.unique(e),0!=e.length&&$.post("/notifications/viewed",{"mnotification_ids[]":e},(function(e){n(e)}),"json")}))}function o(){$(window).on("beforeunload",(function(){m()})),$(window).on("blur focus",(function(n){if($(this).data("previous_type")!=n.type)switch(n.type){case"blur":t(I);break;case"focus":f(),e(),t(M)}$(this).data("previous_type",n.type)})),t(M)}function r(e){S.badge=e}function a(e){E.badge=e,D.badge=e}function s(e){A.badge=e}function l(e){j.mainOrdersItem.badge=e.unread_orders_counts,j.mainPurchasesItem.badge=e.unread_purchases_counts,j.sidebarOrdersItem.badge=e.unread_orders_counts,j.sidebarPurchasesItem.badge=e.unread_purchases_counts}function c(e){screen.width<991&&(C.badge=e)}function d(e){A=e.find("cartTrigger")}function u(e){s(e)}function h(e,t){r(e),x.replace(t)}function p(e,t){a(e),T.replace(t)}function f(){window.HTMLAudioElement&&window.localStorage&&localStorage.setItem("audioKey",N)}function m(){window.HTMLAudioElement&&window.localStorage&&localStorage.removeItem("audioKey")}function g(){if(window.HTMLAudioElement&&window.localStorage)return localStorage.getItem("audioKey")}function v(){try{g()||f(),g()==N&&L.play()}catch(e){}}function y(e){k=current_unread_count,x=(O=e).find("notifications"),T=O.find("messages"),S=O.find("notificationsTrigger"),E=O.find("privateMsgsTrigger"),D=e.find("messageItem"),C=O.find("headerLauncher"),j={mainOrdersItem:O.find("mainOrdersItem"),mainPurchasesItem:O.find("mainPurchasesItem"),sidebarOrdersItem:O.find("sidebarOrdersItem"),sidebarPurchasesItem:O.find("sidebarPurchasesItem")}}function b(){N=1e4*Math.random(),f(),window.HTMLAudioElement&&(L=new Audio("https://khamsat.hsoubcdn.com/assets/media/notification-06ecca16105b21b4882e4dd9ac1180fda3fd7f7a3424daa14e22c028318a85c5.mp3"))}function _(){var e=$("#accounts_token").val();$("body").on("click",".authentication_is_required",(function(t){t.preventDefault();var n="\u0627\u0646\u0634\u0623 \u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f \u0623\u0648 \u0633\u062c\u0644 \u062f\u062e\u0648\u0644 \u0644\u0644\u0645\u062a\u0627\u0628\u0639\u0629";alertify.confirm(n).setting("title","\u0625\u0634\u0639\u0627\u0631").set("onok",(function(){window.location="/register?t="+e})).set({labels:{ok:"\u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f",cancel:"\u0645\u0648\u0627\u0641\u0642"}}).setting("title","\u0623\u0646\u062a \u063a\u064a\u0631 \u0645\u0633\u062c\u0644 \u062f\u062e\u0648\u0644"),alertsControl.clear_style()}))}function w(e){$((function(){loggedIn&&(y(e),b(),i()),d(e),o(),_()}))}var k,C,x,T,S,E,A,D,O,L,N,j={},R=!1,M=3e4,I=18e4;return{init:w,get_notifications:e}}();$(document).ready((function(){function e(e){return-1!==e.indexOf("https://khamsat.com")?e:"#"}$(".tabs-list__item").click((function(){if($(this).hasClass("disabled"));else{$(this).closest(".tabs").find(".tabs-list__item").removeClass("active"),$(this).addClass("active");var e=$("#tab-content--"+$(this).attr("id"));e.closest(".tab-content").find(".tab-content--item").addClass("hidden"),e.removeClass("hidden")}})),$(".filters-list .c-list__link--category").click((function(e){"UL"==$(this).parent().children(".c-list--sub").prop("tagName")&&e.preventDefault(),$(this).parent().children(".c-list--sub").toggleClass("u-hidden")})),$(".c-list__link--sub_category").click((function(e){"UL"==$(this).parent().next(".c-list--sub").prop("tagName")&&e.preventDefault(),$(this).parent().next(".c-list--sub").toggleClass("u-hidden")})),$(".js-filter-sidebar-button").live("click",(function(t){t.preventDefault();var n=$(".js-filter-sidebar-group"),i=$(".js-filter-back-arrow"),o=e(window.location.href);n.hasClass("slide")?(n.removeClass("slide"),i.attr("href","#"),$(".hsoub").css("overflow-y","scroll")):(n.addClass("slide"),i.attr("href",o),$(".hsoub").css("overflow-y","hidden"))})),$(".set_as_buyer").on("click",(function(){alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0625\u0644\u063a\u0627\u0621 \u062d\u0627\u0644\u0629 \u0628\u0627\u0626\u0639 \u0645\u0646 \u062d\u0633\u0627\u0628\u0643 \u0633\u064a\u0624\u062f\u064a \u0644\u062a\u0639\u0637\u064a\u0644 \u062c\u0645\u064a\u0639 \u062e\u062f\u0645\u0627\u062a\u0643 \u0645\u0624\u0642\u062a\u064b\u0627.")})),$(".hdrIcons").click((function(){var e=$(this),t=e.attr("data-menu");e.hasClass("opened")?($(t).slideUp("fast"),$(t).removeClass("opened"),e.removeClass("opened")):($("#menu.opened,.srchMobHdr.opened,.aqsamMobHdr.opened").slideUp("fast"),$("#menu,.srchMobHdr,.aqsamMobHdr").removeClass("opened"),$(".hdrIcons").removeClass("opened"),$(t).slideDown("fast"),$(t).addClass("opened"),e.addClass("opened"))}))})),$(document).ready((function(){$("ul.tabs").each((function(){var e,t,n=$(this).find("a");(e=$(n.filter('[href="'+location.hash+'"]')[0]||n[0])).parent().addClass("active"),t=$(e[0].hash),n.not(e).each((function(){$(this.hash).hide()})),$(this).on("click","a",(function(n){e.parent().removeClass("active"),t.hide(),e=$(this),t=$(this.hash),e.parent().addClass("active"),t.show(),n.preventDefault()}))}))})),jQuery&&function(e){function t(t,o){var r=t?e(this):o,a=e(r.attr("data-jq-dropdown")),s=r.hasClass("jq-dropdown-open");if(t){if(e(t.target).hasClass("jq-dropdown-ignore"))return;t.preventDefault(),t.stopPropagation()}else if(r!==o.target&&e(o.target).hasClass("jq-dropdown-ignore"))return;n(),s||r.hasClass("jq-dropdown-disabled")||(r.addClass("jq-dropdown-open"),a.data("jq-dropdown-trigger",r).show(),i(),a.trigger("show",{jqDropdown:a,trigger:r}))}function n(t){var n=t?e(t.target).parents().addBack():null;if(n&&n.is(".jq-dropdown")){if(!n.is(".jq-dropdown-menu"))return;if(!n.is("A"))return}var i=jQuery.Event("hide");e(document).find(".jq-dropdown:visible").each((function(){var t=e(this);t.hide().removeData("jq-dropdown-trigger").trigger("hide",{jqDropdown:t})})),i.isDefaultPrevented()||(e(document).find(".jq-dropdown:visible").each((function(){var t=e(this);t.hide().removeData("jq-dropdown-trigger").trigger("hide",{jqDropdown:t})})),e(document).find(".jq-dropdown-open").removeClass("jq-dropdown-open"))}function i(){var t=e(".jq-dropdown:visible").eq(0),n=t.data("jq-dropdown-trigger"),i=n?parseInt(n.attr("data-horizontal-offset")||0,10):null,o=n?parseInt(n.attr("data-vertical-offset")||0,10):null;0!==t.length&&n&&(t.hasClass("jq-dropdown-relative")?t.css({right:t.hasClass("jq-dropdown-anchor-right")?n.position().right-(t.outerWidth(!0)-n.outerWidth(!0))-parseInt(n.css("margin-right"),10)+i:n.position().right+parseInt(n.css("margin-right"),10)+i,top:n.position().top+n.outerHeight(!0)-parseInt(n.css("margin-top"),10)+o}):t.css({right:t.hasClass("jq-dropdown-anchor-right")?n.offset().right-(t.outerWidth()-n.outerWidth())+i:n.offset().right+i,top:n.offset().top+n.outerHeight()+o}))}e.extend(e.fn,{jqDropdown:function(i,o){switch(i){case"show":return t(null,e(this)),e(this);case"hide":return n(),e(this);case"attach":return e(this).attr("data-jq-dropdown",o);case"detach":return n(),e(this).removeAttr("data-jq-dropdown");case"disable":return e(this).addClass("jq-dropdown-disabled");case"enable":return n(),e(this).removeClass("jq-dropdown-disabled")}}}),e(document).on("click.jq-dropdown","[data-jq-dropdown]",t),e(document).on("click.jq-dropdown",n),e(window).on("resize",i)}(jQuery);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Emitter=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(e){this._callbacks=this._callbacks||{};var t=this._callbacks[e];if(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var r=t,a=!0,s=0;for(r=a?r:r[Symbol.iterator]();;){var l;if(a){if(s>=r.length)break;l=r[s++]}else{if((s=r.next()).done)break;l=s.value}l.apply(this,i)}}return this}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(var i=0;i<n.length;i++){if(n[i]===t){n.splice(i,1);break}}return this}}]),e}(),Dropzone=function(){function e(t,n){_classCallCheck(this,e);var i=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),o=void 0,r=void 0;if(i.element=t,i.version=e.version,i.defaultOptions.previewTemplate=i.defaultOptions.previewTemplate.replace(/\n*/g,""),i.clickableElements=[],i.listeners=[],i.files=[],"string"==typeof i.element&&(i.element=document.querySelector(i.element)),!i.element||null==i.element.nodeType)throw new Error("Invalid dropzone element.");if(i.element.dropzone)throw new Error("Dropzone already attached.");e.instances.push(i),i.element.dropzone=i;var a,s=null!=(r=e.optionsForElement(i.element))?r:{};if(i.options=e.extend({},i.defaultOptions,s,null!=n?n:{}),i.options.forceFallback||!e.isBrowserSupported())return a=i.options.fallback.call(i),_possibleConstructorReturn(i,a);if(null==i.options.url&&(i.options.url=i.element.getAttribute("action")),!i.options.url)throw new Error("No URL provided.");if(i.options.acceptedFiles&&i.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(i.options.uploadMultiple&&i.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return i.options.acceptedMimeTypes&&(i.options.acceptedFiles=i.options.acceptedMimeTypes,delete i.options.acceptedMimeTypes),null!=i.options.renameFilename&&(i.options.renameFile=function(e){return i.options.renameFilename.call(i,e.name,e)}),i.options.method=i.options.method.toUpperCase(),(o=i.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),!1!==i.options.previewsContainer&&(i.options.previewsContainer?i.previewsContainer=e.getElement(i.options.previewsContainer,"previewsContainer"):i.previewsContainer=i.element),i.options.clickable&&(!0===i.options.clickable?i.clickableElements=[i.element]:i.clickableElements=e.getElements(i.options.clickable,"clickable")),i.init(),i}return _inherits(e,Emitter),_createClass(e,null,[{key:"initClass",value:function(){this.prototype.Emitter=Emitter,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var t=void 0;this.element.className=this.element.className+" dz-browser-not-supported";var n=this.element.getElementsByTagName("div"),i=!0,o=0;for(n=i?n:n[Symbol.iterator]();;){var r;if(i){if(o>=n.length)break;r=n[o++]}else{if((o=n.next()).done)break;r=o.value}var a=r;if(/(^| )dz-message($| )/.test(a.className)){t=a,a.className="dz-message";break}}t||(t=e.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t));var s=t.getElementsByTagName("span")[0];return s&&(null!=s.textContent?s.textContent=this.options.dictFallbackMessage:null!=s.innerText&&(s.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,n,i){var o={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},r=e.width/e.height;null==t&&null==n?(t=o.srcWidth,n=o.srcHeight):null==t?t=n*r:null==n&&(n=t/r);var a=(t=Math.min(t,o.srcWidth))/(n=Math.min(n,o.srcHeight));if(o.srcWidth>t||o.srcHeight>n)if("crop"===i)r>a?(o.srcHeight=e.height,o.srcWidth=o.srcHeight*a):(o.srcWidth=e.width,o.srcHeight=o.srcWidth/a);else{if("contain"!==i)throw new Error("Unknown resizeMethod '"+i+"'");r>a?n=t/r:t=n*r}return o.srcX=(e.width-o.srcWidth)/2,o.srcY=(e.height-o.srcHeight)/2,o.trgWidth=t,
o.trgHeight=n,o},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:function(){},dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:function(){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var n=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){t.previewElement=e.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement);var i=t.previewElement.querySelectorAll("[data-dz-name]"),o=!0,r=0;for(i=o?i:i[Symbol.iterator]();;){var a;if(o){if(r>=i.length)break;a=i[r++]}else{if((r=i.next()).done)break;a=r.value}var s=a;s.textContent=t.name}var l=t.previewElement.querySelectorAll("[data-dz-size]"),c=!0,d=0;for(l=c?l:l[Symbol.iterator]();;){if(c){if(d>=l.length)break;s=l[d++]}else{if((d=l.next()).done)break;s=d.value}s.innerHTML=this.filesize(t.size)}this.options.addRemoveLinks&&(t._removeLink=e.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink));var u=function(i){return i.preventDefault(),i.stopPropagation(),t.status===e.UPLOADING?e.confirm(n.options.dictCancelUploadConfirmation,(function(){return n.removeFile(t)})):n.options.dictRemoveFileConfirmation?e.confirm(n.options.dictRemoveFileConfirmation,(function(){return n.removeFile(t)})):n.removeFile(t)},h=t.previewElement.querySelectorAll("[data-dz-remove]"),p=!0,f=0;for(h=p?h:h[Symbol.iterator]();;){var m;if(p){if(f>=h.length)break;m=h[f++]}else{if((f=h.next()).done)break;m=f.value}m.addEventListener("click",u)}}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");var n=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),i=!0,o=0;for(n=i?n:n[Symbol.iterator]();;){var r;if(i){if(o>=n.length)break;r=n[o++]}else{if((o=n.next()).done)break;r=o.value}var a=r;a.alt=e.name,a.src=t}return setTimeout((function(){return e.previewElement.classList.add("dz-image-preview")}),1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error);var n=e.previewElement.querySelectorAll("[data-dz-errormessage]"),i=!0,o=0;for(n=i?n:n[Symbol.iterator]();;){var r;if(i){if(o>=n.length)break;r=n[o++]}else{if((o=n.next()).done)break;r=o.value}r.textContent=t}}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t){if(e.previewElement){var n=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),i=!0,o=0;for(n=i?n:n[Symbol.iterator]();;){var r;if(i){if(o>=n.length)break;r=n[o++]}else{if((o=n.next()).done)break;r=o.value}var a=r;"PROGRESS"===a.nodeName?a.value=t:a.style.width=t+"%"}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=n,r=!0,a=0;for(o=r?o:o[Symbol.iterator]();;){var s;if(r){if(a>=o.length)break;s=o[a++]}else{if((a=o.next()).done)break;s=a.value}var l=s;for(var c in l){var d=l[c];e[c]=d}}return e}}]),_createClass(e,[{key:"getAcceptedFiles",value:function(){return this.files.filter((function(e){return e.accepted})).map((function(e){return e}))}},{key:"getRejectedFiles",value:function(){return this.files.filter((function(e){return!e.accepted})).map((function(e){return e}))}},{key:"getFilesWithStatus",value:function(e){return this.files.filter((function(t){return t.status===e})).map((function(e){return e}))}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(e.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(e.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(e.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter((function(t){return t.status===e.UPLOADING||t.status===e.QUEUED})).map((function(e){return e}))}},{key:"init",value:function(){var t=this;("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(e.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length)&&function n(){return t.hiddenFileInput&&t.hiddenFileInput.parentNode.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null===t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!==t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),null!==t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",e.getElement(t.options.hiddenInputContainer,"hiddenInputContainer").appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",(function(){var e=t.hiddenFileInput.files;if(e.length){var i=e,o=!0,r=0;for(i=o?i:i[Symbol.iterator]();;){var a;if(o){if(r>=i.length)break;a=i[r++]}else{if((r=i.next()).done)break;a=r.value}var s=a;t.addFile(s)}}return t.emit("addedfiles",e),n()}))}();this.URL=null!==window.URL?window.URL:window.webkitURL;var n=this.events,i=!0,o=0;for(n=i?n:n[Symbol.iterator]();;){var r;if(i){if(o>=n.length)break;r=n[o++]}else{if((o=n.next()).done)break;r=o.value}var a=r;this.on(a,this.options[a])}this.on("uploadprogress",(function(){return t.updateTotalUploadProgress()})),this.on("removedfile",(function(){return t.updateTotalUploadProgress()})),this.on("canceled",(function(e){return t.emit("complete",e)})),this.on("complete",(function(){if(0===t.getAddedFiles().length&&0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length)return setTimeout((function(){return t.emit("queuecomplete")}),0)}));var s=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(e){return t.emit("dragstart",e)},dragenter:function(e){return s(e),t.emit("dragenter",e)},dragover:function(e){var n=void 0;try{n=e.dataTransfer.effectAllowed}catch(e){}return e.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",s(e),t.emit("dragover",e)},dragleave:function(e){return t.emit("dragleave",e)},drop:function(e){return s(e),t.drop(e)},dragend:function(e){return t.emit("dragend",e)}}}],this.clickableElements.forEach((function(n){return t.listeners.push({element:n,events:{click:function(i){return(n!==t.element||i.target===t.element||e.elementInside(i.target,t.element.querySelector(".dz-message")))&&t.hiddenFileInput.click(),!0}}})})),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,e.instances.splice(e.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e=void 0,t=0,n=0;if(this.getActiveFiles().length){var i=this.getActiveFiles(),o=!0,r=0;for(i=o?i:i[Symbol.iterator]();;){var a;if(o){if(r>=i.length)break;a=i[r++]}else{if((r=i.next()).done)break;a=r.value}var s=a;t+=s.upload.bytesSent,n+=s.upload.total}e=100*t/n}else e=100;return this.emit("totaluploadprogress",e,n,t)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var t=void 0,n=void 0;if(t=this.getExistingFallback())return t;var i='<div class="dz-fallback">';this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';var o=e.createElement(i);return"FORM"!==this.element.tagName?(n=e.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(o):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=n?n:o}},{key:"getExistingFallback",value:function(){for(var e=function(e){var t=e,n=!0,i=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(i>=t.length)break;o=t[i++]}else{if((i=t.next()).done)break;o=i.value}var r=o;if(/(^| )fallback($| )/.test(r.className))return r}},t=["div","form"],n=0;n<t.length;n++){var i,o=t[n];if(i=e(this.element.getElementsByTagName(o)))return i}}},{key:"setupEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var n in e.events){var i=e.events[n];t.push(e.element.addEventListener(n,i,!1))}return t}()}))}},{key:"removeEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var n in e.events){var i=e.events[n];t.push(e.element.removeEventListener(n,i,!1))}return t}()}))}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach((function(e){return e.classList.remove("dz-clickable")})),this.removeEventListeners(),this.disabled=!0,this.files.map((function(t){return e.cancelUpload(t)}))}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach((function(e){return e.classList.add("dz-clickable")})),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,n="b";if(e>0){for(var i=["tb","gb","mb","kb","b"],o=0;o<i.length;o++){var r=i[o];if(e>=Math.pow(this.options.filesizeBase,4-o)/10){t=e/Math.pow(this.options.filesizeBase,4-o),n=r;break}}t=Math.round(10*t)/10}return"<strong>"+t+"</strong> "+this.options.dictFileSizeUnits[n]}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t=[],n=0;n<e.dataTransfer.files.length;n++)t[n]=e.dataTransfer.files[n];if(this.emit("addedfiles",t),t.length){var i=e.dataTransfer.items;i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)}}}},{key:"paste",value:function(e){if(null!=__guard__(null!=e?e.clipboardData:void 0,(function(e){return e.items}))){this.emit("paste",e);var t=e.clipboardData.items;return t.length?this._addFilesFromItems(t):void 0}}},{key:"handleFiles",value:function(e){var t=e,n=!0,i=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(i>=t.length)break;o=t[i++]}else{if((i=t.next()).done)break;o=i.value}var r=o;this.addFile(r)}}},{key:"_addFilesFromItems",value:function(e){var t=this;return function(){var n=[],i=e,o=!0,r=0;for(i=o?i:i[Symbol.iterator]();;){var a;if(o){if(r>=i.length)break;a=i[r++]}else{if((r=i.next()).done)break;a=r.value}var s,l=a;null!=l.webkitGetAsEntry&&(s=l.webkitGetAsEntry())?s.isFile?n.push(t.addFile(l.getAsFile())):s.isDirectory?n.push(t._addFilesFromDirectory(s,s.name)):n.push(void 0):null!=l.getAsFile&&(null==l.kind||"file"===l.kind)?n.push(t.addFile(l.getAsFile())):n.push(void 0)}return n}()}},{key:"_addFilesFromDirectory",value:function(e,t){var n=this,i=e.createReader(),o=function(e){return __guardMethod__(console,"log",(function(t){return t.log(e)}))};return function e(){return i.readEntries((function(i){if(i.length>0){var o=i,r=!0,a=0;for(o=r?o:o[Symbol.iterator]();;){var s;if(r){if(a>=o.length)break;s=o[a++]}else{if((a=o.next()).done)break;s=a.value}var l=s;l.isFile?l.file((function(e){if(!n.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath=t+"/"+e.name,n.addFile(e)})):l.isDirectory&&n._addFilesFromDirectory(l,t+"/"+l.name)}e()}return null}),o)}()}},{key:"accept",value:function(t,n){return this.options.maxFilesize&&t.size>1024*this.options.maxFilesize*1024?n(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):e.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(n(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,n):n(this.options.dictInvalidFileType)}},{key:"addFile",value:function(t){var n=this;return t.upload={uuid:e.uuidv4(),progress:0,total:t.size,bytesSent:0,filename:this._renameFile(t),chunked:this.options.chunking&&(this.options.forceChunking||t.size>this.options.chunkSize),totalChunkCount:Math.ceil(t.size/this.options.chunkSize)},this.files.push(t),t.status=e.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,(function(e){return e?(t.accepted=!1,n._errorProcessing([t],e)):(t.accepted=!0,n.options.autoQueue&&n.enqueueFile(t)),n._updateMaxFilesReachedClass()}))}},{key:"enqueueFiles",value:function(e){var t=e,n=!0,i=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(i>=t.length)break;o=t[i++]}else{if((i=t.next()).done)break;o=i.value}var r=o;this.enqueueFile(r)}return null}},{key:"enqueueFile",value:function(t){var n=this;if(t.status!==e.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=e.QUEUED,this.options.autoProcessQueue)return setTimeout((function(){return n.processQueue()}),0)}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((function(){return t._processThumbnailQueue()}),0)}},{key:"_processThumbnailQueue",value:function(){var e=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,(function(n){return e.emit("thumbnail",t,n),e._processingThumbnail=!1,e._processThumbnailQueue()}))}}},{key:"removeFile",value:function(t){if(t.status===e.UPLOADING&&this.cancelUpload(t),this.files=without(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(t){null==t&&(t=!1);var n=this.files.slice(),i=!0,o=0;for(n=i?n:n[Symbol.iterator]();;){var r;if(i){if(o>=n.length)break;r=n[o++]}else{if((o=n.next()).done)break;r=o.value}var a=r;(a.status!==e.UPLOADING||t)&&this.removeFile(a)}return null}},{key:"resizeImage",value:function(t,n,i,o,r){var a=this;return this.createThumbnail(t,n,i,o,!0,(function(n,i){if(null==i)return r(t);var o=a.options.resizeMimeType;null==o&&(o=t.type);var s=i.toDataURL(o,a.options.resizeQuality);return"image/jpeg"!==o&&"image/jpg"!==o||(s=ExifRestore.restore(t.dataURL,s)),r(e.dataURItoBlob(s))}))}},{key:"createThumbnail",value:function(e,t,n,i,o,r){var a=this,s=new FileReader;return s.onload=function(){if(e.dataURL=s.result,"image/svg+xml"!==e.type)return a.createThumbnailFromUrl(e,t,n,i,o,r);null!=r&&r(s.result)},s.readAsDataURL(e)}},{key:"createThumbnailFromUrl",value:function(e,t,n,i,o,r,a){var s=this,l=document.createElement("img");return a&&(l.crossOrigin=a),l.onload=function(){var a=function(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&o&&(a=function(e){return EXIF.getData(l,(function(){return e(EXIF.getTag(this,"Orientation"))}))}),a((function(o){e.width=l.width,e.height=l.height;var a=s.options.resize.call(s,e,t,n,i),c=document.createElement("canvas"),d=c.getContext("2d");switch(c.width=a.trgWidth,c.height=a.trgHeight,o>4&&(c.width=a.trgHeight,c.height=a.trgWidth),o){case 2:d.translate(c.width,0),d.scale(-1,1);break;case 3:d.translate(c.width,c.height),d.rotate(Math.PI);break;case 4:d.translate(0,c.height),d.scale(1,-1);break;case 5:d.rotate(.5*Math.PI),d.scale(1,-1);break;case 6:d.rotate(.5*Math.PI),d.translate(0,-c.width);break;case 7:d.rotate(.5*Math.PI),d.translate(c.height,-c.width),d.scale(-1,1);break;case 8:d.rotate(-.5*Math.PI),d.translate(-c.height,0)}drawImageIOSFix(d,l,null!=a.srcX?a.srcX:0,null!=a.srcY?a.srcY:0,a.srcWidth,a.srcHeight,null!=a.trgX?a.trgX:0,null!=a.trgY?a.trgY:0,a.trgWidth,a.trgHeight);var u=c.toDataURL("image/png");if(null!=r)return r(u,c)}))},null!=r&&(l.onerror=r),l.src=e.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,n=t;if(!(t>=e)){var i=this.getQueuedFiles();if(i.length>0){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,e-t));for(;n<e;){if(!i.length)return;this.processFile(i.shift()),n++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(t){var n=t,i=!0,o=0;for(n=i?n:n[Symbol.iterator]();;){var r;if(i){if(o>=n.length)break;r=n[o++]}else{if((o=n.next()).done)break;r=o.value}var a=r;a.processing=!0,a.status=e.UPLOADING,this.emit("processing",a)}return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter((function(t){return t.xhr===e})).map((function(e){return e}))}},{key:"cancelUpload",value:function(t){if(t.status===e.UPLOADING){var n=this._getFilesWithXhr(t.xhr),i=n,o=!0,r=0;for(i=o?i:i[Symbol.iterator]();;){var a;if(o){if(r>=i.length)break;a=i[r++]}else{if((r=i.next()).done)break;a=r.value}a.status=e.CANCELED}void 0!==t.xhr&&t.xhr.abort();var s=n,l=!0,c=0;for(s=l?s:s[Symbol.iterator]();;){var d;if(l){if(c>=s.length)break;d=s[c++]}else{if((c=s.next()).done)break;d=c.value}var u=d;this.emit("canceled",u)}this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else t.status!==e.ADDED&&t.status!==e.QUEUED||(t.status=e.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if("function"==typeof e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.apply(this,n)}return e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(t){var n=this;this._transformFiles(t,(function(i){if(t[0].upload.chunked){var o=t[0],r=i[0];o.upload.chunks=[];var a=function(){for(var i=0;void 0!==o.upload.chunks[i];)i++;if(!(i>=o.upload.totalChunkCount)){0;var a=i*n.options.chunkSize,s=Math.min(a+n.options.chunkSize,o.size),l={name:n._getParamName(0),data:r.webkitSlice?r.webkitSlice(a,s):r.slice(a,s),filename:o.upload.filename,chunkIndex:i};o.upload.chunks[i]={file:o,index:i,dataBlock:l,status:e.UPLOADING,progress:0,retries:0},n._uploadData(t,[l])}};if(o.upload.finishedChunkUpload=function(i){var r=!0;i.status=e.SUCCESS,i.dataBlock=null,i.xhr=null;for(var s=0;s<o.upload.totalChunkCount;s++){if(void 0===o.upload.chunks[s])return a();o.upload.chunks[s].status!==e.SUCCESS&&(r=!1)}r&&n.options.chunksUploaded(o,(function(){n._finished(t,"",null)}))},n.options.parallelChunkUploads)for(var s=0;s<o.upload.totalChunkCount;s++)a();else a()}else{for(var l=[],c=0;c<t.length;c++)l[c]={name:n._getParamName(c),data:i[c],filename:t[c].upload.filename};n._uploadData(t,l)}}))}},{key:"_getChunk",value:function(e,t){for(var n=0;n<e.upload.totalChunkCount;n++)if(void 0!==e.upload.chunks[n]&&e.upload.chunks[n].xhr===t)return e.upload.chunks[n]}},{key:"_uploadData",value:function(t,n){var i=this,o=new XMLHttpRequest,r=t,a=!0,s=0;for(r=a?r:r[Symbol.iterator]();;){var l;if(a){if(s>=r.length)break;l=r[s++]}else{if((s=r.next()).done)break;l=s.value}l.xhr=o}t[0].upload.chunked&&(t[0].upload.chunks[n[0].chunkIndex].xhr=o);var c=this.resolveOption(this.options.method,t),d=this.resolveOption(this.options.url,t);o.open(c,d,!0),o.timeout=this.resolveOption(this.options.timeout,t),o.withCredentials=!!this.options.withCredentials,o.onload=function(e){i._finishedUploading(t,o,e)},o.onerror=function(){i._handleUploadError(t,o)},(null!=o.upload?o.upload:o).onprogress=function(e){return i._updateFilesUploadProgress(t,o,e)};var u={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var h in this.options.headers&&e.extend(u,this.options.headers),u){var p=u[h];p&&o.setRequestHeader(h,p)}var f=new FormData;if(this.options.params){var m=this.options.params;for(var g in"function"==typeof m&&(m=m.call(this,t,o,t[0].upload.chunked?this._getChunk(t[0],o):null)),m){var v=m[g];f.append(g,v)}}var y=t,b=!0,_=0;for(y=b?y:y[Symbol.iterator]();;){var w;if(b){if(_>=y.length)break;w=y[_++]}else{if((_=y.next()).done)break;w=_.value}var k=w;this.emit("sending",k,o,f)}this.options.uploadMultiple&&this.emit("sendingmultiple",t,o,f),this._addFormElementData(f);for(var C=0;C<n.length;C++){var x=n[C];f.append(x.name,x.data,x.filename)}this.submitRequest(o,f,t)}},{key:"_transformFiles",value:function(e,t){for(var n=this,i=[],o=0,r=function(r){n.options.transformFile.call(n,e[r],(function(n){i[r]=n,++o===e.length&&t(i)}))},a=0;a<e.length;a++)r(a)}},{key:"_addFormElementData",value:function(e){if("FORM"===this.element.tagName){var t=this.element.querySelectorAll("input, textarea, select, button"),n=!0,i=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(i>=t.length)break;o=t[i++]}else{if((i=t.next()).done)break;o=i.value}var r=o,a=r.getAttribute("name"),s=r.getAttribute("type");if(s&&(s=s.toLowerCase()),null!=a)if("SELECT"===r.tagName&&r.hasAttribute("multiple")){var l=r.options,c=!0,d=0;for(l=c?l:l[Symbol.iterator]();;){var u;if(c){if(d>=l.length)break;u=l[d++]}else{if((d=l.next()).done)break;u=d.value}var h=u;h.selected&&e.append(a,h.value)}}else(!s||"checkbox"!==s&&"radio"!==s||r.checked)&&e.append(a,r.value)}}}},{key:"_updateFilesUploadProgress",value:function(e,t,n){var i=void 0;if(void 0!==n){if(i=100*n.loaded/n.total,e[0].upload.chunked){var o=e[0],r=this._getChunk(o,t);r.progress=i,r.total=n.total,r.bytesSent=n.loaded;o.upload.progress=0,o.upload.total=0,o.upload.bytesSent=0;for(var a=0;a<o.upload.totalChunkCount;a++)void 0!==o.upload.chunks[a]&&void 0!==o.upload.chunks[a].progress&&(o.upload.progress+=o.upload.chunks[a].progress,o.upload.total+=o.upload.chunks[a].total,o.upload.bytesSent+=o.upload.chunks[a].bytesSent);o.upload.progress=o.upload.progress/o.upload.totalChunkCount}else{var s=e,l=!0,c=0;for(s=l?s:s[Symbol.iterator]();;){var d;if(l){if(c>=s.length)break;d=s[c++]}else{if((c=s.next()).done)break;d=c.value}var u=d;u.upload.progress=i,u.upload.total=n.total,u.upload.bytesSent=n.loaded}}var h=e,p=!0,f=0;for(h=p?h:h[Symbol.iterator]();;){var m;if(p){if(f>=h.length)break;m=h[f++]}else{if((f=h.next()).done)break;m=f.value}var g=m;this.emit("uploadprogress",g,g.upload.progress,g.upload.bytesSent)}}else{var v=!0;i=100;var y=e,b=!0,_=0;for(y=b?y:y[Symbol.iterator]();;){var w;if(b){if(_>=y.length)break;w=y[_++]}else{if((_=y.next()).done)break;w=_.value}var k=w;100===k.upload.progress&&k.upload.bytesSent===k.upload.total||(v=!1),k.upload.progress=i,k.upload.bytesSent=k.upload.total}if(v)return;var C=e,x=!0,T=0;for(C=x?C:C[Symbol.iterator]();;){var S;if(x){if(T>=C.length)break;S=C[T++]}else{if((T=C.next()).done)break;S=T.value}var E=S;this.emit("uploadprogress",E,i,E.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(t,n,i){var o=void 0;if(t[0].status!==e.CANCELED&&4===n.readyState){if("arraybuffer"!==n.responseType&&"blob"!==n.responseType&&(o=n.responseText,n.getResponseHeader("content-type")&&~n.getResponseHeader("content-type").indexOf("application/json")))try{o=JSON.parse(o)}catch(e){i=e,o="Invalid JSON response from server."}this._updateFilesUploadProgress(t),200<=n.status&&n.status<300?t[0].upload.chunked?t[0].upload.finishedChunkUpload(this._getChunk(t[0],n)):this._finished(t,o,i):this._handleUploadError(t,n,o)}}},{key:"_handleUploadError",value:function(t,n,i){if(t[0].status!==e.CANCELED){if(t[0].upload.chunked&&this.options.retryChunks){var o=this._getChunk(t[0],n);if(o.retries++<this.options.retryChunksLimit)return void this._uploadData(t,[o.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}var r=t,a=!0,s=0;for(r=a?r:r[Symbol.iterator]();;){if(a){if(s>=r.length)break;r[s++]}else{if((s=r.next()).done)break;s.value}this._errorProcessing(t,i||this.options.dictResponseError.replace("{{statusCode}}",n.status),n)}}}},{key:"submitRequest",value:function(e,t){e.send(t)}},{key:"_finished",value:function(t,n,i){var o=t,r=!0,a=0;for(o=r?o:o[Symbol.iterator]();;){var s;if(r){if(a>=o.length)break;s=o[a++]}else{if((a=o.next()).done)break;s=a.value}var l=s;l.status=e.SUCCESS,this.emit("success",l,n,i),this.emit("complete",l)}if(this.options.uploadMultiple&&(this.emit("successmultiple",t,n,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(t,n,i){var o=t,r=!0,a=0;for(o=r?o:o[Symbol.iterator]();;){var s;if(r){if(a>=o.length)break;s=o[a++]}else{if((a=o.next()).done)break;s=a.value}var l=s;l.status=e.ERROR,this.emit("error",l,n,i),this.emit("complete",l)}if(this.options.uploadMultiple&&(this.emit("errormultiple",t,n,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}]),e}();Dropzone.initClass(),Dropzone.version="5.5.0",Dropzone.options={},Dropzone.optionsForElement=function(e){return e.getAttribute("id")?Dropzone.options[camelize(e.getAttribute("id"))]:void 0},Dropzone.instances=[],Dropzone.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},Dropzone.autoDiscover=!0,Dropzone.discover=function(){var e=void 0;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];var t=function(t){return function(){var n=[],i=t,o=!0,r=0;for(i=o?i:i[Symbol.iterator]();;){var a;if(o){if(r>=i.length)break;a=i[r++]}else{if((r=i.next()).done)break;a=r.value}var s=a;/(^| )dropzone($| )/.test(s.className)?n.push(e.push(s)):n.push(void 0)}return n}()};t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))}return function(){var t=[],n=e,i=!0,o=0;for(n=i?n:n[Symbol.iterator]();;){var r;if(i){if(o>=n.length)break;r=n[o++]}else{if((o=n.next()).done)break;r=o.value}var a=r;!1!==Dropzone.optionsForElement(a)?t.push(new Dropzone(a)):t.push(void 0)}return t}()},Dropzone.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],Dropzone.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){var t=Dropzone.blacklistedBrowsers,n=!0,i=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(i>=t.length)break;o=t[i++]}else{if((i=t.next()).done)break;o=i.value}o.test(navigator.userAgent)&&(e=!1)}}else e=!1;else e=!1;return e},Dropzone.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),o=new Uint8Array(i),r=0,a=t.length,s=0<=a;s?r<=a:r>=a;s?r++:r--)o[r]=t.charCodeAt(r)
;return new Blob([i],{type:n})};var without=function(e,t){return e.filter((function(e){return e!==t})).map((function(e){return e}))},camelize=function(e){return e.replace(/[\-_](\w)/g,(function(e){return e.charAt(1).toUpperCase()}))};Dropzone.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},Dropzone.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},Dropzone.getElement=function(e,t){var n=void 0;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},Dropzone.getElements=function(e,t){var n=void 0,i=void 0;if(e instanceof Array){i=[];try{var o=e,r=!0,a=0;for(o=r?o:o[Symbol.iterator]();;){if(r){if(a>=o.length)break;n=o[a++]}else{if((a=o.next()).done)break;n=a.value}i.push(this.getElement(n,t))}}catch(e){i=null}}else if("string"==typeof e){i=[];var s=document.querySelectorAll(e),l=!0,c=0;for(s=l?s:s[Symbol.iterator]();;){if(l){if(c>=s.length)break;n=s[c++]}else{if((c=s.next()).done)break;n=c.value}i.push(n)}}else null!=e.nodeType&&(i=[e]);if(null==i||!i.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i},Dropzone.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},Dropzone.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");var n=e.type,i=n.replace(/\/.*$/,""),o=t,r=!0,a=0;for(o=r?o:o[Symbol.iterator]();;){var s;if(r){if(a>=o.length)break;s=o[a++]}else{if((a=o.next()).done)break;s=a.value}var l=s;if("."===(l=l.trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(l.toLowerCase(),e.name.length-l.length))return!0}else if(/\/\*$/.test(l)){if(i===l.replace(/\/.*$/,""))return!0}else if(n===l)return!0}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each((function(){return new Dropzone(this,e)}))}),"undefined"!=typeof module&&null!==module?module.exports=Dropzone:window.Dropzone=Dropzone,Dropzone.ADDED="added",Dropzone.QUEUED="queued",Dropzone.ACCEPTED=Dropzone.QUEUED,Dropzone.UPLOADING="uploading",Dropzone.PROCESSING=Dropzone.UPLOADING,Dropzone.CANCELED="canceled",Dropzone.ERROR="error",Dropzone.SUCCESS="success";var detectVerticalSquash=function(e){e.naturalWidth;var t=e.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=t;var i=n.getContext("2d");i.drawImage(e,0,0);for(var o=i.getImageData(1,0,1,t).data,r=0,a=t,s=t;s>r;){0===o[4*(s-1)+3]?a=s:r=s,s=a+r>>1}var l=s/t;return 0===l?1:l},drawImageIOSFix=function(e,t,n,i,o,r,a,s,l,c){var d=detectVerticalSquash(t);return e.drawImage(t,n,i,o,r,a,s,l,c/d)},ExifRestore=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var t="",n=void 0,i=void 0,o="",r=void 0,a=void 0,s=void 0,l="",c=0;r=(n=e[c++])>>2,a=(3&n)<<4|(i=e[c++])>>4,s=(15&i)<<2|(o=e[c++])>>6,l=63&o,isNaN(i)?s=l=64:isNaN(o)&&(l=64),t=t+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(l),n=i=o="",r=a=s=l="",c<e.length;);return t}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var n=this.decode64(e.replace("data:image/jpeg;base64,","")),i=this.slice2Segments(n),o=this.exifManipulation(t,i);return"data:image/jpeg;base64,"+this.encode64(o)}},{key:"exifManipulation",value:function(e,t){var n=this.getExifArray(t),i=this.insertExif(e,n);return new Uint8Array(i)}},{key:"getExifArray",value:function(e){for(var t=void 0,n=0;n<e.length;){if(255===(t=e[n])[0]&225===t[1])return t;n++}return[]}},{key:"insertExif",value:function(e,t){var n=e.replace("data:image/jpeg;base64,",""),i=this.decode64(n),o=i.indexOf(255,3),r=i.slice(0,o),a=i.slice(o),s=r;return s=(s=s.concat(t)).concat(a)}},{key:"slice2Segments",value:function(e){for(var t=0,n=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var i=t+(256*e[t+2]+e[t+3])+2,o=e.slice(t,i);n.push(o),t=i}if(t>e.length)break}return n}},{key:"decode64",value:function(e){var t=void 0,n=void 0,i="",o=void 0,r=void 0,a="",s=0,l=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t=this.KEY_STR.indexOf(e.charAt(s++))<<2|(o=this.KEY_STR.indexOf(e.charAt(s++)))>>4,n=(15&o)<<4|(r=this.KEY_STR.indexOf(e.charAt(s++)))>>2,i=(3&r)<<6|(a=this.KEY_STR.indexOf(e.charAt(s++))),l.push(t),64!==r&&l.push(n),64!==a&&l.push(i),t=n=i="",o=r=a="",s<e.length;);return l}}]),e}();ExifRestore.initClass();var contentLoaded=function(e,t){var n=!1,i=!0,o=e.document,r=o.documentElement,a=o.addEventListener?"addEventListener":"attachEvent",s=o.addEventListener?"removeEventListener":"detachEvent",l=o.addEventListener?"":"on",c=function i(r){if("readystatechange"!==r.type||"complete"===o.readyState)return("load"===r.type?e:o)[s](l+r.type,i,!1),!n&&(n=!0)?t.call(e,r.type||r):void 0},d=function e(){try{r.doScroll("left")}catch(t){return void setTimeout(e,50)}return c("poll")};if("complete"!==o.readyState){if(o.createEventObject&&r.doScroll){try{i=!e.frameElement}catch(e){}i&&d()}return o[a](l+"DOMContentLoaded",c,!1),o[a](l+"readystatechange",c,!1),e[a](l+"load",c,!1)}};Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover)return Dropzone.discover()},contentLoaded(window,Dropzone._autoDiscoverFunction),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},writable:!0,configurable:!0}),RecordRTC.version="5.5.7","undefined"!=typeof module&&(module.exports=RecordRTC),"function"==typeof define&&define.amd&&define("RecordRTC",[],(function(){return RecordRTC})),RecordRTC.getFromDisk=function(e,t){if(!t)throw"callback is mandatory.";console.log("Getting recorded "+("all"===e?"blobs":e+" blob ")+" from disk!"),DiskStorage.Fetch((function(n,i){"all"!==e&&i===e+"Blob"&&t&&t(n),"all"===e&&t&&t(n,i.replace("Blob",""))}))},RecordRTC.writeToDisk=function(e){console.log("Writing recorded blob(s) to disk!"),(e=e||{}).audio&&e.video&&e.gif?e.audio.getDataURL((function(t){e.video.getDataURL((function(n){e.gif.getDataURL((function(e){DiskStorage.Store({audioBlob:t,videoBlob:n,gifBlob:e})}))}))})):e.audio&&e.video?e.audio.getDataURL((function(t){e.video.getDataURL((function(e){DiskStorage.Store({audioBlob:t,videoBlob:e})}))})):e.audio&&e.gif?e.audio.getDataURL((function(t){e.gif.getDataURL((function(e){DiskStorage.Store({audioBlob:t,gifBlob:e})}))})):e.video&&e.gif?e.video.getDataURL((function(t){e.gif.getDataURL((function(e){DiskStorage.Store({videoBlob:t,gifBlob:e})}))})):e.audio?e.audio.getDataURL((function(e){DiskStorage.Store({audioBlob:e})})):e.video?e.video.getDataURL((function(e){DiskStorage.Store({videoBlob:e})})):e.gif&&e.gif.getDataURL((function(e){DiskStorage.Store({gifBlob:e})}))},MRecordRTC.getFromDisk=RecordRTC.getFromDisk,MRecordRTC.writeToDisk=RecordRTC.writeToDisk,void 0!==RecordRTC&&(RecordRTC.MRecordRTC=MRecordRTC);var browserFakeUserAgent="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";!function(e){e&&"undefined"==typeof window&&"undefined"!=typeof global&&(global.navigator={userAgent:browserFakeUserAgent,getUserMedia:function(){}},global.console||(global.console={}),void 0!==global.console.log&&void 0!==global.console.error||(global.console.error=global.console.log=global.console.log||function(){console.log(arguments)}),"undefined"==typeof document&&(e.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},e.HTMLVideoElement=function(){}),"undefined"==typeof location&&(e.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(e.screen={width:0,height:0}),void 0===URL&&(e.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),e.window=global)}("undefined"!=typeof global?global:null);var requestAnimationFrame=window.requestAnimationFrame;if(void 0===requestAnimationFrame)if("undefined"!=typeof webkitRequestAnimationFrame)requestAnimationFrame=webkitRequestAnimationFrame;else if("undefined"!=typeof mozRequestAnimationFrame)requestAnimationFrame=mozRequestAnimationFrame;else if("undefined"!=typeof msRequestAnimationFrame)requestAnimationFrame=msRequestAnimationFrame;else if(void 0===requestAnimationFrame){var lastTime=0;requestAnimationFrame=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-lastTime)),i=setTimeout((function(){e(t+n)}),n);return lastTime=t+n,i}}var cancelAnimationFrame=window.cancelAnimationFrame;void 0===cancelAnimationFrame&&("undefined"!=typeof webkitCancelAnimationFrame?cancelAnimationFrame=webkitCancelAnimationFrame:"undefined"!=typeof mozCancelAnimationFrame?cancelAnimationFrame=mozCancelAnimationFrame:"undefined"!=typeof msCancelAnimationFrame?cancelAnimationFrame=msCancelAnimationFrame:void 0===cancelAnimationFrame&&(cancelAnimationFrame=function(e){clearTimeout(e)}));var AudioContext=window.AudioContext;void 0===AudioContext&&("undefined"!=typeof webkitAudioContext&&(AudioContext=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(AudioContext=mozAudioContext));var URL=window.URL;void 0===URL&&"undefined"!=typeof webkitURL&&(URL=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var isEdge=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveBlob&&!navigator.msSaveOrOpenBlob),isOpera=!!window.opera||-1!==navigator.userAgent.indexOf("OPR/"),isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),isChrome=!isOpera&&!isEdge&&!!navigator.webkitGetUserMedia||isElectron()||-1!==navigator.userAgent.toLowerCase().indexOf("chrome/"),isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);isSafari&&!isChrome&&-1!==navigator.userAgent.indexOf("CriOS")&&(isSafari=!1,isChrome=!0);var MediaStream=window.MediaStream;void 0===MediaStream&&"undefined"!=typeof webkitMediaStream&&(MediaStream=webkitMediaStream),void 0!==MediaStream&&void 0===MediaStream.prototype.stop&&(MediaStream.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))}),void 0!==RecordRTC&&(RecordRTC.invokeSaveAsDialog=invokeSaveAsDialog,RecordRTC.getTracks=getTracks,RecordRTC.getSeekableBlob=getSeekableBlob,RecordRTC.bytesToSize=bytesToSize,RecordRTC.isElectron=isElectron);var Storage={};void 0!==AudioContext?Storage.AudioContext=AudioContext:"undefined"!=typeof webkitAudioContext&&(Storage.AudioContext=webkitAudioContext),void 0!==RecordRTC&&(RecordRTC.Storage=Storage),void 0!==RecordRTC&&(RecordRTC.MediaStreamRecorder=MediaStreamRecorder),void 0!==RecordRTC&&(RecordRTC.StereoAudioRecorder=StereoAudioRecorder),void 0!==RecordRTC&&(RecordRTC.CanvasRecorder=CanvasRecorder),void 0!==RecordRTC&&(RecordRTC.WhammyRecorder=WhammyRecorder);var Whammy=function(){function e(e){this.frames=[],this.duration=e||1,this.quality=.8}function t(e){var t=URL.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return URL.revokeObjectURL(t),n}function n(e){function t(e){var t=i(e);if(!t)return[];for(var o=3e4,r=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:h(t.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:t.width,id:176},{data:t.height,id:186}]}]}]}]}],a=0,l=0;a<e.length;){var c=[],d=0;do{c.push(e[a]),d+=e[a].duration,a++}while(a<e.length&&d<o);var u={id:524531317,data:n(l,0,c)};r[1].data.push(u),l+=d}return s(r)}function n(e,t,n){return[{data:e,id:231}].concat(n.map((function(e){var n=l({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:n,id:163}})))}function i(e){if(e[0]){for(var t=e[0].width,n=e[0].height,i=e[0].duration,o=1;o<e.length;o++)i+=e[o].duration;return{duration:i,width:t,height:n}}postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."})}function o(e){for(var t=[];e>0;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function r(e){return new Uint8Array(e.split("").map((function(e){return e.charCodeAt(0)})))}function a(e){var t=[];e=(e.length%8?new Array(9-e.length%8).join("0"):"")+e;for(var n=0;n<e.length;n+=8)t.push(parseInt(e.substr(n,8),2));return new Uint8Array(t)}function s(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].data;"object"==typeof i&&(i=s(i)),"number"==typeof i&&(i=a(i.toString(2))),"string"==typeof i&&(i=r(i));var l=i.size||i.byteLength||i.length,c=Math.ceil(Math.ceil(Math.log(l)/Math.log(2))/8),d=l.toString(2),u=new Array(7*c+7+1-d.length).join("0")+d,h=new Array(c).join("0")+"1"+u;t.push(o(e[n].id)),t.push(a(h)),t.push(i)}return new Blob(t,{type:"video/webm"})}function l(e){var t=0;if(e.keyframe&&(t|=128),e.invisible&&(t|=8),e.lacing&&(t|=e.lacing<<1),e.discardable&&(t|=1),e.trackNum>127)throw"TrackNumber > 127 not supported";return[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map((function(e){return String.fromCharCode(e)})).join("")+e.frame}function c(e){for(var t=e.RIFF[0].WEBP[0],n=t.indexOf("\x9d\x01*"),i=0,o=[];i<4;i++)o[i]=t.charCodeAt(n+3+i);return{width:16383&(o[1]<<8|o[0]),height:16383&(o[3]<<8|o[2]),data:t,riff:e}}function d(e,t){return parseInt(e.substr(t+4,4).split("").map((function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t})).join(""),2)}function u(e){for(var t=0,n={};t<e.length;){var i=e.substr(t,4),o=d(e,t),r=e.substr(t+4+4,o);t+=8+o,n[i]=n[i]||[],"RIFF"===i||"LIST"===i?n[i].push(u(r)):n[i].push(r)}return n}function h(e){return[].slice.call(new Uint8Array(new Float64Array([e]).buffer),0).map((function(e){return String.fromCharCode(e)})).reverse().join("")}var p=new t(e.map((function(e){var t=c(u(atob(e.image.slice(23))));return t.duration=e.duration,t})));postMessage(p)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(e){var i=t(n);i.onmessage=function(t){return t.data.error?void console.error(t.data.error):void e(t.data)},i.postMessage(this.frames)},{Video:e}}();void 0!==RecordRTC&&(RecordRTC.Whammy=Whammy);var DiskStorage={init:function(){function e(e){e.createObjectStore(n.dataStoreName)}function t(){function e(e){t.objectStore(n.dataStoreName).get(e).onsuccess=function(t){n.callback&&n.callback(t.target.result,e)}}var t=i.transaction([n.dataStoreName],"readwrite");n.videoBlob&&t.objectStore(n.dataStoreName).put(n.videoBlob,"videoBlob"),n.gifBlob&&t.objectStore(n.dataStoreName).put(n.gifBlob,"gifBlob"),n.audioBlob&&t.objectStore(n.dataStoreName).put(n.audioBlob,"audioBlob"),e("audioBlob"),e("videoBlob"),e("gifBlob")}var n=this;if("undefined"!=typeof indexedDB&&void 0!==indexedDB.open){var i,o=1,r=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),a=indexedDB.open(r,o);a.onerror=n.onError,a.onsuccess=function(){if((i=a.result).onerror=n.onError,i.setVersion)if(i.version!==o){i.setVersion(o).onsuccess=function(){e(i),t()}}else t();else t()},a.onupgradeneeded=function(t){e(t.target.result)}}else console.error("IndexedDB API are not available in this browser.")},Fetch:function(e){return this.callback=e,this.init(),this},Store:function(e){return this.audioBlob=e.audioBlob,this.videoBlob=e.videoBlob,this.gifBlob=e.gifBlob,this.init(),this},onError:function(e){console.error(JSON.stringify(e,null,"\t"))},dataStoreName:"recordRTC",dbName:null};void 0!==RecordRTC&&(RecordRTC.DiskStorage=DiskStorage),void 0!==RecordRTC&&(RecordRTC.GifRecorder=GifRecorder),void 0===RecordRTC&&("undefined"!=typeof module&&(module.exports=MultiStreamsMixer),"function"==typeof define&&define.amd&&define("MultiStreamsMixer",[],(function(){return MultiStreamsMixer}))),void 0!==RecordRTC&&(RecordRTC.MultiStreamRecorder=MultiStreamRecorder),void 0!==RecordRTC&&(RecordRTC.RecordRTCPromisesHandler=RecordRTCPromisesHandler),void 0!==RecordRTC&&(RecordRTC.WebAssemblyRecorder=WebAssemblyRecorder),"object"==typeof navigator&&function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Plyr",t):(e="undefined"!=typeof globalThis?globalThis:e||self).Plyr=t()}(this,(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}function v(e,t){if(1>t){var n=function(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}function y(e,t){setTimeout((function(){try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}}),t)}function b(e,t){return t.split(".").reduce((function(e,t){return e&&e[t]}),e)}function _(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n.length)return e;var r=n.shift();return Ie(r)?(Object.keys(r).forEach((function(t){Ie(r[t])?(Object.keys(e).includes(t)||Object.assign(e,o({},t,{})),_(e[t],r[t])):Object.assign(e,o({},t,r[t]))})),_.apply(void 0,[e].concat(n))):e}function w(e,t){var n=e.length?e:[e];Array.from(n).reverse().forEach((function(e,n){var i=n>0?t.cloneNode(!0):t,o=e.parentNode,r=e.nextSibling;i.appendChild(e),r?o.insertBefore(i,r):o.appendChild(i)}))}function k(e,t){Ue(e)&&!Ke(t)&&Object.entries(t).filter((function(e){var t=l(e,2)[1];return!Me(t)})).forEach((function(t){var n=l(t,2),i=n[0],o=n[1];return e.setAttribute(i,o)}))}function C(e,t,n){var i=document.createElement(e);return Ie(t)&&k(i,t),ze(n)&&(i.innerText=n),i}function x(e,t,n,i){Ue(t)&&t.appendChild(C(e,n,i))}function T(e){Be(e)||He(e)?Array.from(e).forEach(T):Ue(e)&&Ue(e.parentNode)&&e.parentNode.removeChild(e)}function S(e){if(Ue(e))for(var t=e.childNodes.length;t>0;)e.removeChild(e.lastChild),t-=1}function E(e,t){return Ue(t)&&Ue(t.parentNode)&&Ue(e)?(t.parentNode.replaceChild(e,t),e):null}function $(e,t){if(!ze(e)||Ke(e))return{};var n={},i=_({},t);return e.split(",").forEach((function(e){var t=e.trim(),o=t.replace(".",""),r=t.replace(/[[\]]/g,"").split("="),a=l(r,1)[0],s=r.length>1?r[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":ze(i.class)?n.class="".concat(i.class," ").concat(o):n.class=o;break;case"#":n.id=t.replace("#","");break;case"[":n[a]=s}})),_(i,n)}function A(e,t){if(Ue(e)){var n=t;Fe(n)||(n=!e.hidden),e.hidden=n}}function D(e,t,n){if(Be(e))return Array.from(e).map((function(e){return D(e,t,n)}));if(Ue(e)){var i="toggle";return void 0!==n&&(i=n?"add":"remove"),e.classList[i](t),e.classList.contains(t)}return!1}function O(e,t){return Ue(e)&&e.classList.contains(t)}function L(e,t){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function N(e){return this.elements.container.querySelectorAll(e)}function j(e){return this.elements.container.querySelector(e)}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ue(e)&&(e.focus({preventScroll:!0}),t&&D(e,this.config.classNames.tabFocus))}function M(e,t,n){var i=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e&&"addEventListener"in e&&!Ke(t)&&qe(n)){var s=t.split(" "),l=a;tt&&(l={passive:r,capture:a}),s.forEach((function(t){i&&i.eventListeners&&o&&i.eventListeners.push({element:e,type:t,callback:n,options:l}),e[o?"addEventListener":"removeEventListener"](t,n,l)}))}}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];M.call(this,e,t,n,!0,i,o)}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];M.call(this,e,t,n,!1,i,o)}function z(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function a(){P(e,n,a,o,r);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];i.apply(t,l)};M.call(this,e,n,a,!0,o,r)}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(Ue(e)&&!Ke(t)){var o=new CustomEvent(t,{bubbles:n,detail:a(a({},i),{},{plyr:this})});e.dispatchEvent(o)}}function q(){this&&this.eventListeners&&(this.eventListeners.forEach((function(e){var t=e.element,n=e.type,i=e.callback,o=e.options;t.removeEventListener(n,i,o)})),this.eventListeners=[])}function H(){var e=this;return new Promise((function(t){return e.ready?setTimeout(t,0):I.call(e,e.elements.container,"ready",t)})).then((function(){}))}function B(e){Ge(e)&&e.then(null,(function(){}))}function U(e){return!!(He(e)||ze(e)&&e.includes(":"))&&(He(e)?e:e.split(":")).map(Number).every(Pe)}function W(e){if(!He(e)||!e.every(Pe))return null;var t=l(e,2),n=t[0],i=t[1],o=function e(t,n){return 0===n?t:e(n,t%n)}(n,i);return[n/o,i/o]}function V(e){var t=function(e){return U(e)?e.split(":").map(Number):null},n=t(e);if(null===n&&(n=t(this.config.ratio)),null===n&&!Ke(this.embed)&&He(this.embed.ratio)&&(n=this.embed.ratio),null===n&&this.isHTML5){var i=this.media;n=W([i.videoWidth,i.videoHeight])}return n}function Q(e){if(!this.isVideo)return{};var t=this.elements.wrapper,n=V.call(this,e),i=l(He(n)?n:[0,0],2),o=100/i[0]*i[1];if(t.style.paddingBottom="".concat(o,"%"),this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){var r=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),a=(r-o)/(r/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform="translateY(-".concat(a,"%)")}else this.isHTML5&&t.classList.toggle(this.config.classNames.videoFixedRatio,null!==n);return{padding:o,ratio:n}}function G(e){return He(e)?e.filter((function(t,n){return e.indexOf(t)===n})):e}function X(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Ke(e)?e:e.toString().replace(/{(\d+)}/g,(function(e,t){return n[t].toString()}))}function K(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return e=it(e,"-"," "),e=it(e,"_"," "),e=ot(e),it(e," ","")}function Y(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return new Promise((function(n,i){try{var o=new XMLHttpRequest;if(!("withCredentials"in o))return;o.addEventListener("load",(function(){if("text"===t)try{n(JSON.parse(o.responseText))}catch(e){n(o.responseText)}else n(o.response)})),o.addEventListener("error",(function(){throw new Error(o.status)})),o.open("GET",e,!0),o.responseType=t,o.send()}catch(e){i(e)}}))}function Z(e,t){if(ze(e)){var n="cache",i=ze(t),o=function(){return null!==document.getElementById(t)},r=function(e,t){e.innerHTML=t,i&&o()||document.body.insertAdjacentElement("afterbegin",e)};if(!i||!o()){var a=st.supported,s=document.createElement("div");if(s.setAttribute("hidden",""),i&&s.setAttribute("id",t),a){var l=window.localStorage.getItem("".concat(n,"-").concat(t));if(null!==l){var c=JSON.parse(l);r(s,c.content)}}J(e).then((function(e){Ke(e)||(a&&window.localStorage.setItem("".concat(n,"-").concat(t),JSON.stringify({content:e})),r(s,e))})).catch((function(){}))}}}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Pe(e))return ee(void 0,t,n);var i=function(e){return"0".concat(e).slice(-2)},o=lt(e),r=ct(e),a=dt(e);return o=t||o>0?"".concat(o,":"):"","".concat(n&&e>0?"-":"").concat(o).concat(i(r),":").concat(i(a))}function te(e){var t=e;if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var n=document.createElement("a");n.href=t,t=n.href}try{return new URL(t)}catch(e){return null}}function ne(e){var t=new URLSearchParams;return Ie(e)&&Object.entries(e).forEach((function(e){var n=l(e,2),i=n[0],o=n[1];t.set(i,o)})),t}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise((function(n,i){var o=new Image,r=function(){delete o.onload,delete o.onerror,(o.naturalWidth>=t?n:i)(o)};Object.assign(o,{onload:r,onerror:r,src:e})}))}function oe(e){return new Promise((function(t,n){Tt(e,{success:t,error:n})}))}function re(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,F.call(this,this.media,e?"play":"pause"))}function ae(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,F.call(this,this.media,e?"play":"pause"))}function se(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}var le,ce,de,ue,he={addCSS:!0,thumbWidth:15,watch:!0},pe=function(e){return null!=e?e.constructor:null},fe=function(e,t){return!!(e&&t&&e instanceof t)},me=function(e){return null==e},ge=function(e){return pe(e)===Object},ve=function(e){return pe(e)===String},ye=function(e){return Array.isArray(e)},be=function(e){return fe(e,NodeList)},_e=ve,we=ye,ke=be,Ce=function(e){return fe(e,Element)},xe=function(e){return fe(e,Event)},Te=function(e){return me(e)||(ve(e)||ye(e)||be(e))&&!e.length||ge(e)&&!Object.keys(e).length},Se=function(){function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),Ce(t)?this.element=t:_e(t)&&(this.element=document.querySelector(t)),Ce(this.element)&&Te(this.element.rangeTouch)&&(this.config=m({},he,{},n),this.init())}return function(e,t,n){t&&h(e.prototype,t),n&&h(e,n)}(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,n=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(e){t.element[n](e,(function(e){return t.set(e)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!xe(t))return null;var n,i=t.target,o=t.changedTouches[0],r=parseFloat(i.getAttribute("min"))||0,a=parseFloat(i.getAttribute("max"))||100,s=parseFloat(i.getAttribute("step"))||1,l=i.getBoundingClientRect(),c=100/l.width*(this.config.thumbWidth/2)/100;return 0>(n=100/l.width*(o.clientX-l.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*c:50<n&&(n+=2*(n-50)*c),r+v(n/100*(a-r),s)}},{key:"set",value:function(t){e.enabled&&xe(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),function(e,t){if(e&&t){var n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}
}(t.target,"touchend"===t.type?"change":"input"))}}],[{key:"setup",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=null;if(Te(t)||_e(t)?i=Array.from(document.querySelectorAll(_e(t)?t:'input[type="range"]')):Ce(t)?i=[t]:ke(t)?i=Array.from(t):we(t)&&(i=t.filter(Ce)),Te(i))return null;var o=m({},he,{},n);if(_e(t)&&o.watch){var r=new MutationObserver((function(n){Array.from(n).forEach((function(n){Array.from(n.addedNodes).forEach((function(n){Ce(n)&&g(n,t)&&new e(n,o)}))}))}));r.observe(document.body,{childList:!0,subtree:!0})}return i.map((function(t){return new e(t,n)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}(),Ee=function(e){return null!=e?e.constructor:null},$e=function(e,t){return Boolean(e&&t&&e instanceof t)},Ae=function(e){return null==e},De=function(e){return Ee(e)===Object},Oe=function(e){return Ee(e)===String},Le=function(e){return Ee(e)===Function},Ne=function(e){return Array.isArray(e)},je=function(e){return $e(e,NodeList)},Re=function(e){return Ae(e)||(Oe(e)||Ne(e)||je(e))&&!e.length||De(e)&&!Object.keys(e).length},Me=Ae,Ie=De,Pe=function(e){return Ee(e)===Number&&!Number.isNaN(e)},ze=Oe,Fe=function(e){return Ee(e)===Boolean},qe=Le,He=Ne,Be=je,Ue=function(t){return null!==t&&"object"===e(t)&&1===t.nodeType&&"object"===e(t.style)&&"object"===e(t.ownerDocument)},We=function(e){return $e(e,Event)},Ve=function(e){return $e(e,KeyboardEvent)},Qe=function(e){return $e(e,TextTrack)||!Ae(e)&&Oe(e.kind)},Ge=function(e){return $e(e,Promise)&&Le(e.then)},Xe=function(e){if($e(e,window.URL))return!0;if(!Oe(e))return!1;var t=e;e.startsWith("http://")&&e.startsWith("https://")||(t="http://".concat(e));try{return!Re(new URL(t).hostname)}catch(e){return!1}},Ke=Re,Ye=(le=document.createElement("span"),ce={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},de=Object.keys(ce).find((function(e){return void 0!==le.style[e]})),!!ze(de)&&ce[de]),Je={isIE:!!document.documentMode,isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)},Ze={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},et={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(e,t,n){var i=Je.isIPhone&&n&&et.playsinline,o=et[e]||"html5"!==t;return{api:o,ui:o&&et.rangeInput&&("video"!==e||!Je.isIPhone||i)}},pip:!(Je.isIPhone||!qe(C("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||C("video").disablePictureInPicture)),airplay:qe(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(e){if(Ke(e))return!1;var t=l(e.split("/"),1)[0],n=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(Ze).includes(n)&&(n+='; codecs="'.concat(Ze[e],'"'));try{return Boolean(n&&this.media.canPlayType(n).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(ue=document.createElement("input"),ue.type="range","range"===ue.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==Ye,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},tt=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,null}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}(),nt={getSources:function(){var e=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter((function(t){var n=t.getAttribute("type");return!!Ke(n)||et.mime.call(e,n)})):[]},getQualityOptions:function(){return this.config.quality.forced?this.config.quality.options:nt.getSources.call(this).map((function(e){return Number(e.getAttribute("size"))})).filter(Boolean)},setup:function(){if(this.isHTML5){var e=this;e.options.speed=e.config.speed.options,Ke(this.config.ratio)||Q.call(e),Object.defineProperty(e.media,"quality",{get:function(){var t=nt.getSources.call(e).find((function(t){return t.getAttribute("src")===e.source}));return t&&Number(t.getAttribute("size"))},set:function(t){if(e.quality!==t){if(e.config.quality.forced&&qe(e.config.quality.onChange))e.config.quality.onChange(t);else{var n=nt.getSources.call(e).find((function(e){return Number(e.getAttribute("size"))===t}));if(!n)return;var i=e.media,o=i.currentTime,r=i.paused,a=i.preload,s=i.readyState,l=i.playbackRate;e.media.src=n.getAttribute("src"),("none"!==a||s)&&(e.once("loadedmetadata",(function(){e.speed=l,e.currentTime=o,r||B(e.play())})),e.media.load())}F.call(e,e.media,"qualitychange",!1,{quality:t})}}})}},cancelRequests:function(){this.isHTML5&&(T(nt.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString())},ot=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))},rt={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ke(e)||Ke(t))return"";var n=b(t.i18n,e);if(Ke(n))return Object.keys(rt).includes(e)?rt[e]:"";var i={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(i).forEach((function(e){var t=l(e,2),i=t[0],o=t[1];n=it(n,i,o)})),n},st=function(){function e(n){var i=this;t(this,e),o(this,"get",(function(t){if(!e.supported||!i.enabled)return null;var n=window.localStorage.getItem(i.key);if(Ke(n))return null;var o=JSON.parse(n);return ze(t)&&t.length?o[t]:o})),o(this,"set",(function(t){if(e.supported&&i.enabled&&Ie(t)){var n=i.get();Ke(n)&&(n={}),_(n,t),window.localStorage.setItem(i.key,JSON.stringify(n))}})),this.enabled=n.config.storage.enabled,this.key=n.config.storage.key}return i(e,null,[{key:"supported",get:function(){try{if(!("localStorage"in window))return!1;var e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}}]),e}(),lt=function(e){return Math.trunc(e/60/60%60,10)},ct=function(e){return Math.trunc(e/60%60,10)},dt=function(e){return Math.trunc(e%60,10)},ut={getIconUrl:function(){var e=new URL(this.config.iconUrl,window.location).host!==window.location.host||Je.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:e}},findElements:function(){try{return this.elements.controls=j.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:N.call(this,this.config.selectors.buttons.play),pause:j.call(this,this.config.selectors.buttons.pause),restart:j.call(this,this.config.selectors.buttons.restart),rewind:j.call(this,this.config.selectors.buttons.rewind),fastForward:j.call(this,this.config.selectors.buttons.fastForward),mute:j.call(this,this.config.selectors.buttons.mute),pip:j.call(this,this.config.selectors.buttons.pip),airplay:j.call(this,this.config.selectors.buttons.airplay),settings:j.call(this,this.config.selectors.buttons.settings),captions:j.call(this,this.config.selectors.buttons.captions),fullscreen:j.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=j.call(this,this.config.selectors.progress),this.elements.inputs={seek:j.call(this,this.config.selectors.inputs.seek),volume:j.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:j.call(this,this.config.selectors.display.buffer),currentTime:j.call(this,this.config.selectors.display.currentTime),duration:j.call(this,this.config.selectors.display.duration)},Ue(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon:function(e,t){var n="http://www.w3.org/2000/svg",i=ut.getIconUrl.call(this),o="".concat(i.cors?"":i.url,"#").concat(this.config.iconPrefix),r=document.createElementNS(n,"svg");k(r,_(t,{"aria-hidden":"true",focusable:"false"}));var a=document.createElementNS(n,"use"),s="".concat(o,"-").concat(e);return"href"in a&&a.setAttributeNS("http://www.w3.org/1999/xlink","href",s),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s),r.appendChild(a),r},createLabel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=at(e,this.config);return C("span",a(a({},t),{},{class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")}),n)},createBadge:function(e){if(Ke(e))return null;var t=C("span",{class:this.config.classNames.menu.value});return t.appendChild(C("span",{class:this.config.classNames.menu.badge},e)),t},createButton:function(e,t){var n=this,i=_({},t),o=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return(e=K(e)).charAt(0).toLowerCase()+e.slice(1)}(e),r={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((function(e){Object.keys(i).includes(e)&&(r[e]=i[e],delete i[e])})),"button"!==r.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some((function(e){return e===n.config.classNames.control}))||_(i,{class:"".concat(i.class," ").concat(this.config.classNames.control)}):i.class=this.config.classNames.control,e){case"play":r.toggle=!0,r.label="play",r.labelPressed="pause",r.icon="play",r.iconPressed="pause";break;case"mute":r.toggle=!0,r.label="mute",r.labelPressed="unmute",r.icon="volume",r.iconPressed="muted";break;case"captions":r.toggle=!0,r.label="enableCaptions",r.labelPressed="disableCaptions",r.icon="captions-off",r.iconPressed="captions-on";break;case"fullscreen":r.toggle=!0,r.label="enterFullscreen",r.labelPressed="exitFullscreen",r.icon="enter-fullscreen",r.iconPressed="exit-fullscreen";break;case"play-large":i.class+=" ".concat(this.config.classNames.control,"--overlaid"),o="play",r.label="play",r.icon="play";break;default:Ke(r.label)&&(r.label=o),Ke(r.icon)&&(r.icon=e)}var a=C(r.element);return r.toggle?(a.appendChild(ut.createIcon.call(this,r.iconPressed,{class:"icon--pressed"})),a.appendChild(ut.createIcon.call(this,r.icon,{class:"icon--not-pressed"})),a.appendChild(ut.createLabel.call(this,r.labelPressed,{class:"label--pressed"})),a.appendChild(ut.createLabel.call(this,r.label,{class:"label--not-pressed"}))):(a.appendChild(ut.createIcon.call(this,r.icon)),a.appendChild(ut.createLabel.call(this,r.label))),_(i,$(this.config.selectors.buttons[o],i)),k(a,i),"play"===o?(He(this.elements.buttons[o])||(this.elements.buttons[o]=[]),this.elements.buttons[o].push(a)):this.elements.buttons[o]=a,a},createRange:function(e,t){var n=C("input",_($(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":at(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=n,ut.updateRangeFill.call(this,n),Se.setup(n),n},createProgress:function(e,t){var n=C("progress",_($(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){n.appendChild(C("span",null,"0"));var i={played:"played",buffer:"buffered"}[e],o=i?at(i,this.config):"";n.innerText="% ".concat(o.toLowerCase())}return this.elements.display[e]=n,n},createTime:function(e,t){var n=$(this.config.selectors.display[e],t),i=C("div",_(n,{class:"".concat(n.class?n.class:""," ").concat(this.config.classNames.display.time," ").trim(),"aria-label":at(e,this.config)}),"00:00");return this.elements.display[e]=i,i},bindMenuItemShortcuts:function(e,t){var n=this;I.call(this,e,"keydown keyup",(function(i){if([32,38,39,40].includes(i.which)&&(i.preventDefault(),i.stopPropagation(),"keydown"!==i.type)){var o,r=L(e,'[role="menuitemradio"]');!r&&[32,39].includes(i.which)?ut.showMenuPanel.call(n,t,!0):32!==i.which&&(40===i.which||r&&39===i.which?(o=e.nextElementSibling,Ue(o)||(o=e.parentNode.firstElementChild)):(o=e.previousElementSibling,Ue(o)||(o=e.parentNode.lastElementChild)),R.call(n,o,!0))}}),!1),I.call(this,e,"keyup",(function(e){13===e.which&&ut.focusFirstMenuItem.call(n,null,!0)}))},createMenuItem:function(e){var t=this,n=e.value,i=e.list,o=e.type,r=e.title,a=e.badge,s=void 0===a?null:a,l=e.checked,c=void 0!==l&&l,d=$(this.config.selectors.inputs[o]),u=C("button",_(d,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(d.class?d.class:"").trim(),"aria-checked":c,value:n})),h=C("span");h.innerHTML=r,Ue(s)&&h.appendChild(s),u.appendChild(h),Object.defineProperty(u,"checked",{enumerable:!0,get:function(){return"true"===u.getAttribute("aria-checked")},set:function(e){e&&Array.from(u.parentNode.children).filter((function(e){return L(e,'[role="menuitemradio"]')})).forEach((function(e){return e.setAttribute("aria-checked","false")})),u.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(u,"click keyup",(function(e){if(!Ve(e)||32===e.which){switch(e.preventDefault(),e.stopPropagation(),u.checked=!0,o){case"language":t.currentTrack=Number(n);break;case"quality":t.quality=n;break;case"speed":t.speed=parseFloat(n)}ut.showMenuPanel.call(t,"home",Ve(e))}}),o,!1),ut.bindMenuItemShortcuts.call(this,u,o),i.appendChild(u)},formatTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Pe(e)?ee(e,lt(this.duration)>0,t):e},updateTimeDisplay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Ue(e)&&Pe(t)&&(e.innerText=ut.formatTime(t,n))},updateVolume:function(){this.supported.ui&&(Ue(this.elements.inputs.volume)&&ut.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),Ue(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Ue(e)&&(e.value=t,ut.updateRangeFill.call(this,e))},updateProgress:function(e){var t=this;if(this.supported.ui&&We(e)){var n,i,o=0;if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":n=this.currentTime,i=this.duration,o=0===n||0===i||Number.isNaN(n)||Number.isNaN(i)?0:(n/i*100).toFixed(2),"timeupdate"===e.type&&ut.setRange.call(this,this.elements.inputs.seek,o);break;case"playing":case"progress":!function(e,n){var i=Pe(n)?n:0,o=Ue(e)?e:t.elements.display.buffer;if(Ue(o)){o.value=i;var r=o.getElementsByTagName("span")[0];Ue(r)&&(r.childNodes[0].nodeValue=i)}}(this.elements.display.buffer,100*this.buffered)}}},updateRangeFill:function(e){var t=We(e)?e.target:e;if(Ue(t)&&"range"===t.getAttribute("type")){if(L(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);var n=ut.formatTime(this.currentTime),i=ut.formatTime(this.duration),o=at("seekLabel",this.config);t.setAttribute("aria-valuetext",o.replace("{currentTime}",n).replace("{duration}",i))}else if(L(t,this.config.selectors.inputs.volume)){var r=100*t.value;t.setAttribute("aria-valuenow",r),t.setAttribute("aria-valuetext","".concat(r.toFixed(1),"%"))}else t.setAttribute("aria-valuenow",t.value);Je.isWebkit&&t.style.setProperty("--value","".concat(t.value/t.max*100,"%"))}},updateSeekTooltip:function(e){var t=this;if(this.config.tooltips.seek&&Ue(this.elements.inputs.seek)&&Ue(this.elements.display.seekTooltip)&&0!==this.duration){var n="".concat(this.config.classNames.tooltip,"--visible"),i=function(e){return D(t.elements.display.seekTooltip,n,e)};if(this.touch)i(!1);else{var o=0,r=this.elements.progress.getBoundingClientRect();if(We(e))o=100/r.width*(e.pageX-r.left);else{if(!O(this.elements.display.seekTooltip,n))return;o=parseFloat(this.elements.display.seekTooltip.style.left,10)}o<0?o=0:o>100&&(o=100),ut.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*o),this.elements.display.seekTooltip.style.left="".concat(o,"%"),We(e)&&["mouseenter","mouseleave"].includes(e.type)&&i("mouseenter"===e.type)}}},timeUpdate:function(e){var t=!Ue(this.elements.display.duration)&&this.config.invertTime;ut.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||ut.updateProgress.call(this,e)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return A(this.elements.display.currentTime,!0),void A(this.elements.progress,!0);Ue(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var e=Ue(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&ut.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&ut.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),ut.updateSeekTooltip.call(this)}},toggleMenuButton:function(e,t){A(this.elements.settings.buttons[e],!t)},updateSetting:function(e,t,n){var i=this.elements.settings.panels[e],o=null,r=t;if("captions"===e)o=this.currentTrack;else{if(o=Ke(n)?this[e]:n,Ke(o)&&(o=this.config[e].default),!Ke(this.options[e])&&!this.options[e].includes(o))return void this.debug.warn("Unsupported value of '".concat(o,"' for ").concat(e));if(!this.config[e].options.includes(o))return void this.debug.warn("Disabled value of '".concat(o,"' for ").concat(e))}if(Ue(r)||(r=i&&i.querySelector('[role="menu"]')),Ue(r)){this.elements.settings.buttons[e].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=ut.getLabel.call(this,e,o);var a=r&&r.querySelector('[value="'.concat(o,'"]'));Ue(a)&&(a.checked=!0)}},getLabel:function(e,t){switch(e){case"speed":return 1===t?at("normal",this.config):"".concat(t,"&times;");case"quality":if(Pe(t)){var n=at("qualityLabel.".concat(t),this.config);return n.length?n:"".concat(t,"p")}return ot(t);case"captions":return ht.getLabel.call(this);default:return null}},setQualityMenu:function(e){var t=this;if(Ue(this.elements.settings.panels.quality)){var n="quality",i=this.elements.settings.panels.quality.querySelector('[role="menu"]');He(e)&&(this.options.quality=G(e).filter((function(e){return t.config.quality.options.includes(e)})));var o=!Ke(this.options.quality)&&this.options.quality.length>1;if(ut.toggleMenuButton.call(this,n,o),S(i),ut.checkMenu.call(this),o){var r=function(e){var n=at("qualityBadge.".concat(e),t.config);return n.length?ut.createBadge.call(t,n):null};this.options.quality.sort((function(e,n){var i=t.config.quality.options;return i.indexOf(e)>i.indexOf(n)?1:-1})).forEach((function(e){ut.createMenuItem.call(t,{value:e,list:i,type:n,title:ut.getLabel.call(t,"quality",e),badge:r(e)})})),ut.updateSetting.call(this,n,i)}}},setCaptionsMenu:function(){var e=this;if(Ue(this.elements.settings.panels.captions)){var t="captions",n=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i=ht.getTracks.call(this),o=Boolean(i.length);if(ut.toggleMenuButton.call(this,t,o),S(n),ut.checkMenu.call(this),o){var r=i.map((function(t,i){return{value:i,checked:e.captions.toggled&&e.currentTrack===i,title:ht.getLabel.call(e,t),badge:t.language&&ut.createBadge.call(e,t.language.toUpperCase()),list:n,type:"language"}}));r.unshift({value:-1,checked:!this.captions.toggled,title:at("disabled",this.config),list:n,type:"language"}),r.forEach(ut.createMenuItem.bind(this)),ut.updateSetting.call(this,t,n)}}},setSpeedMenu:function(){var e=this;if(Ue(this.elements.settings.panels.speed)){var t="speed",n=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((function(t){return t>=e.minimumSpeed&&t<=e.maximumSpeed}));var i=!Ke(this.options.speed)&&this.options.speed.length>1;ut.toggleMenuButton.call(this,t,i),S(n),ut.checkMenu.call(this),i&&(this.options.speed.forEach((function(i){ut.createMenuItem.call(e,{value:i,list:n,type:t,title:ut.getLabel.call(e,"speed",i)})})),ut.updateSetting.call(this,t,n))}},checkMenu:function(){var e=this.elements.settings.buttons,t=!Ke(e)&&Object.values(e).some((function(e){return!e.hidden}));A(this.elements.settings.menu,!t)},focusFirstMenuItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.elements.settings.popup.hidden){var n=e;Ue(n)||(n=Object.values(this.elements.settings.panels).find((function(e){return!e.hidden})));var i=n.querySelector('[role^="menuitem"]');R.call(this,i,t)}},toggleMenu:function(e){var t=this.elements.settings.popup,n=this.elements.buttons.settings;if(Ue(t)&&Ue(n)){var i=t.hidden,o=i;if(Fe(e))o=e;else if(Ve(e)&&27===e.which)o=!1;else if(We(e)){var r=qe(e.composedPath)?e.composedPath()[0]:e.target,a=t.contains(r);if(a||!a&&e.target!==n&&o)return}n.setAttribute("aria-expanded",o),A(t,!o),D(this.elements.container,this.config.classNames.menu.open,o),o&&Ve(e)?ut.focusFirstMenuItem.call(this,null,!0):o||i||R.call(this,n,Ve(e))}},getMenuSize:function(e){var t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);var n=t.scrollWidth,i=t.scrollHeight;return T(t),{width:n,height:i}},showMenuPanel:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.elements.container.querySelector("#plyr-settings-".concat(this.id,"-").concat(t));if(Ue(i)){var o=i.parentNode,r=Array.from(o.children).find((function(e){return!e.hidden}));if(et.transitions&&!et.reducedMotion){o.style.width="".concat(r.scrollWidth,"px"),o.style.height="".concat(r.scrollHeight,"px");var a=ut.getMenuSize.call(this,i),s=function t(n){n.target===o&&["width","height"].includes(n.propertyName)&&(o.style.width="",o.style.height="",P.call(e,o,Ye,t))};I.call(this,o,Ye,s),o.style.width="".concat(a.width,"px"),o.style.height="".concat(a.height,"px")}A(r,!0),A(i,!1),ut.focusFirstMenuItem.call(this,i,n)}},setDownloadUrl:function(){var e=this.elements.buttons.download;Ue(e)&&e.setAttribute("href",this.download)},create:function(e){var t=this,n=ut.bindMenuItemShortcuts,i=ut.createButton,o=ut.createProgress,r=ut.createRange,a=ut.createTime,s=ut.setQualityMenu,l=ut.setSpeedMenu,c=ut.showMenuPanel;this.elements.controls=null,He(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));var d=C("div",$(this.config.selectors.controls.wrapper));this.elements.controls=d;var u={class:"plyr__controls__item"};return G(He(this.config.controls)?this.config.controls:[]).forEach((function(s){if("restart"===s&&d.appendChild(i.call(t,"restart",u)),"rewind"===s&&d.appendChild(i.call(t,"rewind",u)),"play"===s&&d.appendChild(i.call(t,"play",u)),"fast-forward"===s&&d.appendChild(i.call(t,"fast-forward",u)),"progress"===s){var l=C("div",{class:"".concat(u.class," plyr__progress__container")}),h=C("div",$(t.config.selectors.progress));if(h.appendChild(r.call(t,"seek",{id:"plyr-seek-".concat(e.id)})),h.appendChild(o.call(t,"buffer")),t.config.tooltips.seek){var p=C("span",{class:t.config.classNames.tooltip},"00:00");h.appendChild(p),t.elements.display.seekTooltip=p}t.elements.progress=h,l.appendChild(t.elements.progress),d.appendChild(l)}if("current-time"===s&&d.appendChild(a.call(t,"currentTime",u)),"duration"===s&&d.appendChild(a.call(t,"duration",u)),"mute"===s||"volume"===s){var f=t.elements.volume;if(Ue(f)&&d.contains(f)||(f=C("div",_({},u,{class:"".concat(u.class," plyr__volume").trim()})),t.elements.volume=f,d.appendChild(f)),"mute"===s&&f.appendChild(i.call(t,"mute")),"volume"===s&&!Je.isIos){var m={max:1,step:.05,value:t.config.volume};f.appendChild(r.call(t,"volume",_(m,{id:"plyr-volume-".concat(e.id)})))}}if("captions"===s&&d.appendChild(i.call(t,"captions",u)),"settings"===s&&!Ke(t.config.settings)){var g=C("div",_({},u,{class:"".concat(u.class," plyr__menu").trim(),hidden:""}));g.appendChild(i.call(t,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(e.id),"aria-expanded":!1}));var v=C("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(e.id),hidden:""}),y=C("div"),b=C("div",{id:"plyr-settings-".concat(e.id,"-home")}),w=C("div",{role:"menu"});b.appendChild(w),y.appendChild(b),t.elements.settings.panels.home=b,t.config.settings.forEach((function(i){var o=C("button",_($(t.config.selectors.buttons.settings),{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));n.call(t,o,i),I.call(t,o,"click",(function(){c.call(t,i,!1)}));var r=C("span",null,at(i,t.config)),a=C("span",{class:t.config.classNames.menu.value});a.innerHTML=e[i],r.appendChild(a),o.appendChild(r),w.appendChild(o);var s=C("div",{id:"plyr-settings-".concat(e.id,"-").concat(i),hidden:""}),l=C("button",{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--back")});l.appendChild(C("span",{"aria-hidden":!0},at(i,t.config))),l.appendChild(C("span",{class:t.config.classNames.hidden},at("menuBack",t.config))),I.call(t,s,"keydown",(function(e){37===e.which&&(e.preventDefault(),e.stopPropagation(),c.call(t,"home",!0))}),!1),I.call(t,l,"click",(function(){c.call(t,"home",!1)})),s.appendChild(l),s.appendChild(C("div",{role:"menu"})),y.appendChild(s),t.elements.settings.buttons[i]=o,t.elements.settings.panels[i]=s})),v.appendChild(y),g.appendChild(v),d.appendChild(g),t.elements.settings.popup=v,t.elements.settings.menu=g}if("pip"===s&&et.pip&&d.appendChild(i.call(t,"pip",u)),"airplay"===s&&et.airplay&&d.appendChild(i.call(t,"airplay",u)),"download"===s){var k=_({},u,{element:"a",href:t.download,target:"_blank"});t.isHTML5&&(k.download="");var x=t.config.urls.download;!Xe(x)&&t.isEmbed&&_(k,{icon:"logo-".concat(t.provider),label:t.provider}),d.appendChild(i.call(t,"download",k))}"fullscreen"===s&&d.appendChild(i.call(t,"fullscreen",u))})),this.isHTML5&&s.call(this,nt.getQualityOptions.call(this)),l.call(this),d},inject:function(){var e=this;if(this.config.loadSprite){var t=ut.getIconUrl.call(this);t.cors&&Z(t.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var n=null;this.elements.controls=null;var i,o,r={id:this.id,seektime:this.config.seekTime,title:this.config.title},a=!0;if(qe(this.config.controls)&&(this.config.controls=this.config.controls.call(this,r)),this.config.controls||(this.config.controls=[]),Ue(this.config.controls)||ze(this.config.controls)?n=this.config.controls:(n=ut.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:ht.getLabel.call(this)}),a=!1),a&&ze(this.config.controls)&&(i=n,Object.entries(r).forEach((function(e){var t=l(e,2),n=t[0],o=t[1];i=it(i,"{".concat(n,"}"),o)})),n=i),ze(this.config.selectors.controls.container)&&(o=document.querySelector(this.config.selectors.controls.container)),Ue(o)||(o=this.elements.container),o[Ue(n)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",n),Ue(this.elements.controls)||ut.findElements.call(this),!Ke(this.elements.buttons)){var s=function(t){var n=e.config.classNames.controlPressed;Object.defineProperty(t,"pressed",{enumerable:!0,get:function(){return O(t,n)},set:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];D(t,n,e)}})};Object.values(this.elements.buttons).filter(Boolean).forEach((function(e){He(e)||Be(e)?Array.from(e).filter(Boolean).forEach(s):s(e)}))}if(Je.isEdge&&y(o),this.config.tooltips.controls){var c=this.config,d=c.classNames,u=c.selectors,h="".concat(u.controls.wrapper," ").concat(u.labels," .").concat(d.hidden),p=N.call(this,h);Array.from(p).forEach((function(t){D(t,e.config.classNames.hidden,!1),D(t,e.config.classNames.tooltip,!0)}))}}},ht={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!et.textTracks)He(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&ut.setCaptionsMenu.call(this);else{if(Ue(this.elements.captions)||(this.elements.captions=C("div",$(this.config.selectors.captions)),function(e,t){Ue(e)&&Ue(t)&&t.parentNode.insertBefore(e,t.nextSibling)}(this.elements.captions,this.elements.wrapper)),Je.isIE&&window.URL){var e=this.media.querySelectorAll("track");Array.from(e).forEach((function(e){var t=e.getAttribute("src"),n=te(t);null!==n&&n.hostname!==window.location.href.hostname&&["http:","https:"].includes(n.protocol)&&J(t,"blob").then((function(t){e.setAttribute("src",window.URL.createObjectURL(t))})).catch((function(){T(e)}))}))}var t=G((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((function(e){return e.split("-")[0]}))),n=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===n&&(n=l(t,1)[0]);var i=this.storage.get("captions");if(Fe(i)||(i=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:i,language:n,languages:t}),this.isHTML5){var o=this.config.captions.update?"addtrack removetrack":"removetrack";I.call(this,this.media.textTracks,o,ht.update.bind(this))}setTimeout(ht.update.bind(this),0)}},update:function(){var e=this,t=ht.getTracks.call(this,!0),n=this.captions,i=n.active,o=n.language,r=n.meta,a=n.currentTrackNode,s=Boolean(t.find((function(e){return e.language===o})));this.isHTML5&&this.isVideo&&t.filter((function(e){return!r.get(e)})).forEach((function(t){e.debug.log("Track added",t),r.set(t,{default:"showing"===t.mode}),"showing"===t.mode&&(t.mode="hidden"),I.call(e,t,"cuechange",(function(){return ht.updateCues.call(e)}))})),(s&&this.language!==o||!t.includes(a))&&(ht.setLanguage.call(this,o),ht.toggle.call(this,i&&s)),D(this.elements.container,this.config.classNames.captions.enabled,!Ke(t)),He(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&ut.setCaptionsMenu.call(this)},toggle:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.supported.ui){var i=this.captions.toggled,o=this.config.classNames.captions.active,r=Me(e)?!i:e;if(r!==i){if(n||(this.captions.active=r,this.storage.set({captions:r})),!this.language&&r&&!n){var a=ht.getTracks.call(this),s=ht.findTrack.call(this,[this.captions.language].concat(c(this.captions.languages)),!0);return this.captions.language=s.language,void ht.set.call(this,a.indexOf(s))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=r),D(this.elements.container,o,r),this.captions.toggled=r,ut.updateSetting.call(this,"captions"),F.call(this,this.media,r?"captionsenabled":"captionsdisabled")}setTimeout((function(){r&&t.captions.toggled&&(t.captions.currentTrackNode.mode="hidden")}))}},set:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=ht.getTracks.call(this);if(-1!==e)if(Pe(e))if(e in n){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;var i=n[e],o=(i||{}).language;this.captions.currentTrackNode=i,ut.updateSetting.call(this,"captions"),t||(this.captions.language=o,this.storage.set({language:o})),this.isVimeo&&this.embed.enableTextTrack(o),F.call(this,this.media,"languagechange")}ht.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&ht.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else ht.toggle.call(this,!1,t)},setLanguage:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(ze(e)){var n=e.toLowerCase();this.captions.language=n;var i=ht.getTracks.call(this),o=ht.findTrack.call(this,[n]);ht.set.call(this,i.indexOf(o),t)}else this.debug.warn("Invalid language argument",e)},getTracks:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Array.from((this.media||{}).textTracks||[]).filter((function(n){return!e.isHTML5||t||e.captions.meta.has(n)})).filter((function(e){return["captions","subtitles"].includes(e.kind)}))},findTrack:function(e){
var t,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=ht.getTracks.call(this),r=function(e){return Number((n.captions.meta.get(e)||{}).default)},a=Array.from(o).sort((function(e,t){return r(t)-r(e)}));return e.every((function(e){return!(t=a.find((function(t){return t.language===e})))})),t||(i?a[0]:void 0)},getCurrentTrack:function(){return ht.getTracks.call(this)[this.currentTrack]},getLabel:function(e){var t=e;return!Qe(t)&&et.textTracks&&this.captions.toggled&&(t=ht.getCurrentTrack.call(this)),Qe(t)?Ke(t.label)?Ke(t.language)?at("enabled",this.config):e.language.toUpperCase():t.label:at("disabled",this.config)},updateCues:function(e){if(this.supported.ui)if(Ue(this.elements.captions))if(Me(e)||Array.isArray(e)){var t=e;if(!t){var n=ht.getCurrentTrack.call(this);t=Array.from((n||{}).activeCues||[]).map((function(e){return e.getCueAsHTML()})).map(Y)}var i=t.map((function(e){return e.trim()})).join("\n");if(i!==this.elements.captions.innerHTML){S(this.elements.captions);var o=C("span",$(this.config.selectors.caption));o.innerHTML=i,this.elements.captions.appendChild(o),F.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",e);else this.debug.warn("No captions element to render to")}},pt={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.6.4/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1}},ft="picture-in-picture",mt="inline",gt={html5:"html5",youtube:"youtube",vimeo:"vimeo"},vt="audio",yt="video",bt=function(){},_t=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t(this,e),this.enabled=window.console&&n,this.enabled&&this.log("Debugging enabled")}return i(e,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):bt}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):bt}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):bt}}]),e}(),wt=function(){function e(n){var i=this;t(this,e),o(this,"onChange",(function(){if(i.enabled){var e=i.player.elements.buttons.fullscreen;Ue(e)&&(e.pressed=i.active);var t=i.target===i.player.media?i.target:i.player.elements.container;F.call(i.player,t,i.active?"enterfullscreen":"exitfullscreen",!0)}})),o(this,"toggleFallback",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e?i.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(i.scrollPosition.x,i.scrollPosition.y),document.body.style.overflow=e?"hidden":"",D(i.target,i.player.config.classNames.fullscreen.fallback,e),Je.isIos){var t=document.head.querySelector('meta[name="viewport"]'),n="viewport-fit=cover";t||(t=document.createElement("meta")).setAttribute("name","viewport");var o=ze(t.content)&&t.content.includes(n);e?(i.cleanupViewport=!o,o||(t.content+=",".concat(n))):i.cleanupViewport&&(t.content=t.content.split(",").filter((function(e){return e.trim()!==n})).join(","))}i.onChange()})),o(this,"trapFocus",(function(e){if(!Je.isIos&&i.active&&"Tab"===e.key&&9===e.keyCode){var t=document.activeElement,n=N.call(i.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),o=l(n,1)[0],r=n[n.length-1];t!==r||e.shiftKey?t===o&&e.shiftKey&&(r.focus(),e.preventDefault()):(o.focus(),e.preventDefault())}})),o(this,"update",(function(){var t;i.enabled?(t=i.forceFallback?"Fallback (forced)":e.native?"Native":"Fallback",i.player.debug.log("".concat(t," fullscreen enabled"))):i.player.debug.log("Fullscreen not supported and fallback disabled"),D(i.player.elements.container,i.player.config.classNames.fullscreen.enabled,i.enabled)})),o(this,"enter",(function(){i.enabled&&(Je.isIos&&i.player.config.fullscreen.iosNative?i.player.isVimeo?i.player.embed.requestFullscreen():i.target.webkitEnterFullscreen():!e.native||i.forceFallback?i.toggleFallback(!0):i.prefix?Ke(i.prefix)||i.target["".concat(i.prefix,"Request").concat(i.property)]():i.target.requestFullscreen({navigationUI:"hide"}))})),o(this,"exit",(function(){if(i.enabled)if(Je.isIos&&i.player.config.fullscreen.iosNative)i.target.webkitExitFullscreen(),B(i.player.play());else if(!e.native||i.forceFallback)i.toggleFallback(!1);else if(i.prefix){if(!Ke(i.prefix)){var t="moz"===i.prefix?"Cancel":"Exit";document["".concat(i.prefix).concat(t).concat(i.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)})),o(this,"toggle",(function(){i.active?i.exit():i.enter()})),this.player=n,this.prefix=e.prefix,this.property=e.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===n.config.fullscreen.fallback,this.player.elements.fullscreen=n.config.fullscreen.container&&function(e,t){return(Element.prototype.closest||function(){var e=this;do{if(L.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,n.config.fullscreen.container),I.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),(function(){i.onChange()})),I.call(this.player,this.player.elements.container,"dblclick",(function(e){Ue(i.player.elements.controls)&&i.player.elements.controls.contains(e.target)||i.player.listeners.proxy(e,i.toggle,"fullscreen")})),I.call(this,this.player.elements.container,"keydown",(function(e){return i.trapFocus(e)})),this.update()}return i(e,[{key:"usingNative",get:function(){return e.native&&!this.forceFallback}},{key:"enabled",get:function(){return(e.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){if(!this.enabled)return!1;if(!e.native||this.forceFallback)return O(this.target,this.player.config.classNames.fullscreen.fallback);var t=this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement;return t&&t.shadowRoot?t===this.target.getRootNode().host:t===this.target}},{key:"target",get:function(){return Je.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(qe(document.exitFullscreen))return"";var e="";return["webkit","moz","ms"].some((function(t){return!(!qe(document["".concat(t,"ExitFullscreen")])&&!qe(document["".concat(t,"CancelFullScreen")])||(e=t,0))})),e}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),e}(),kt={addStyleHook:function(){D(this.elements.container,this.config.selectors.container.replace(".",""),!0),D(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var e=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void kt.toggleNativeControls.call(this,!0);Ue(this.elements.controls)||(ut.inject.call(this),this.listeners.controls()),kt.toggleNativeControls.call(this),this.isHTML5&&ht.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,ut.updateVolume.call(this),ut.timeUpdate.call(this),kt.checkPlaying.call(this),D(this.elements.container,this.config.classNames.pip.supported,et.pip&&this.isHTML5&&this.isVideo),D(this.elements.container,this.config.classNames.airplay.supported,et.airplay&&this.isHTML5),D(this.elements.container,this.config.classNames.isIos,Je.isIos),D(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((function(){F.call(e,e.media,"ready")}),0),kt.setTitle.call(this),this.poster&&kt.setPoster.call(this,this.poster,!1).catch((function(){})),this.config.duration&&ut.durationUpdate.call(this)},setTitle:function(){var e=at("play",this.config);if(ze(this.config.title)&&!Ke(this.config.title)&&(e+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach((function(t){t.setAttribute("aria-label",e)})),this.isEmbed){var t=j.call(this,"iframe");if(!Ue(t))return;var n=Ke(this.config.title)?"video":this.config.title,i=at("frameTitle",this.config);t.setAttribute("title",i.replace("{title}",n))}},togglePoster:function(e){D(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster:function(e){var t=this;return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),H.call(this).then((function(){return ie(e)})).catch((function(n){throw e===t.poster&&kt.togglePoster.call(t,!1),n})).then((function(){if(e!==t.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((function(){return Object.assign(t.elements.poster.style,{backgroundImage:"url('".concat(e,"')"),backgroundSize:""}),kt.togglePoster.call(t,!0),e})))},checkPlaying:function(e){var t=this;D(this.elements.container,this.config.classNames.playing,this.playing),D(this.elements.container,this.config.classNames.paused,this.paused),D(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((function(e){Object.assign(e,{pressed:t.playing}),e.setAttribute("aria-label",at(t.playing?"pause":"play",t.config))})),We(e)&&"timeupdate"===e.type||kt.toggleControls.call(this)},checkLoading:function(e){var t=this;this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((function(){D(t.elements.container,t.config.classNames.loading,t.loading),kt.toggleControls.call(t)}),this.loading?250:0)},toggleControls:function(e){var t=this.elements.controls;if(t&&this.config.hideControls){var n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||n))}},migrateStyles:function(){var e=this;Object.values(a({},this.media.style)).filter((function(e){return!Ke(e)&&ze(e)&&e.startsWith("--plyr")})).forEach((function(t){e.elements.container.style.setProperty(t,e.media.style.getPropertyValue(t)),e.media.style.removeProperty(t)})),Ke(this.media.style)&&this.media.removeAttribute("style")}},Ct=function(){function e(n){var i=this;t(this,e),o(this,"firstTouch",(function(){var e=i.player,t=e.elements;e.touch=!0,D(t.container,e.config.classNames.isTouch,!0)})),o(this,"setTabFocus",(function(e){var t=i.player,n=t.elements;if(clearTimeout(i.focusTimer),"keydown"!==e.type||9===e.which){"keydown"===e.type&&(i.lastKeyDown=e.timeStamp);var o,r=e.timeStamp-i.lastKeyDown<=20;("focus"!==e.type||r)&&(o=t.config.classNames.tabFocus,D(N.call(t,".".concat(o)),o,!1),"focusout"!==e.type&&(i.focusTimer=setTimeout((function(){var e=document.activeElement;n.container.contains(e)&&D(document.activeElement,t.config.classNames.tabFocus,!0)}),10)))}})),o(this,"global",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=i.player;t.config.keyboard.global&&M.call(t,window,"keydown keyup",i.handleKey,e,!1),M.call(t,document.body,"click",i.toggleMenu,e),z.call(t,document.body,"touchstart",i.firstTouch),M.call(t,document.body,"keydown focus blur focusout",i.setTabFocus,e,!1,!0)})),o(this,"container",(function(){var e=i.player,t=e.config,n=e.elements,o=e.timers;!t.keyboard.global&&t.keyboard.focused&&I.call(e,n.container,"keydown keyup",i.handleKey,!1),I.call(e,n.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(function(t){var i=n.controls;i&&"enterfullscreen"===t.type&&(i.pressed=!1,i.hover=!1);var r=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(kt.toggleControls.call(e,!0),r=e.touch?3e3:2e3),clearTimeout(o.controls),o.controls=setTimeout((function(){return kt.toggleControls.call(e,!1)}),r)}));var r=function(t){if(!t)return Q.call(e);var i=n.container.getBoundingClientRect(),o=i.width,r=i.height;return Q.call(e,"".concat(o,":").concat(r))},a=function(){clearTimeout(o.resized),o.resized=setTimeout(r,50)};I.call(e,n.container,"enterfullscreen exitfullscreen",(function(t){var i=e.fullscreen,o=i.target,s=i.usingNative;if(o===n.container&&(e.isEmbed||!Ke(e.config.ratio))){var c="enterfullscreen"===t.type,d=r(c);d.padding,!function(t,n,i){if(e.isVimeo&&!e.config.vimeo.premium){var o=e.elements.wrapper.firstChild,r=l(t,2)[1],a=l(V.call(e),2),s=a[0],c=a[1];o.style.maxWidth=i?"".concat(r/c*s,"px"):null,o.style.margin=i?"0 auto":null}}(d.ratio,0,c),c&&setTimeout((function(){return y(n.container)}),100),s||(c?I.call(e,window,"resize",a):P.call(e,window,"resize",a))}}))})),o(this,"media",(function(){var e=i.player,t=e.elements;if(I.call(e,e.media,"timeupdate seeking seeked",(function(t){return ut.timeUpdate.call(e,t)})),I.call(e,e.media,"durationchange loadeddata loadedmetadata",(function(t){return ut.durationUpdate.call(e,t)})),I.call(e,e.media,"ended",(function(){e.isHTML5&&e.isVideo&&e.config.resetOnEnd&&(e.restart(),e.pause())})),I.call(e,e.media,"progress playing seeking seeked",(function(t){return ut.updateProgress.call(e,t)})),I.call(e,e.media,"volumechange",(function(t){return ut.updateVolume.call(e,t)})),I.call(e,e.media,"playing play pause ended emptied timeupdate",(function(t){return kt.checkPlaying.call(e,t)})),I.call(e,e.media,"waiting canplay seeked playing",(function(t){return kt.checkLoading.call(e,t)})),e.supported.ui&&e.config.clickToPlay&&!e.isAudio){var n=j.call(e,".".concat(e.config.classNames.video));if(!Ue(n))return;I.call(e,t.container,"click",(function(o){([t.container,n].includes(o.target)||n.contains(o.target))&&(e.touch&&e.config.hideControls||(e.ended?(i.proxy(o,e.restart,"restart"),i.proxy(o,(function(){B(e.play())}),"play")):i.proxy(o,(function(){B(e.togglePlay())}),"play")))}))}e.supported.ui&&e.config.disableContextMenu&&I.call(e,t.wrapper,"contextmenu",(function(e){e.preventDefault()}),!1),I.call(e,e.media,"volumechange",(function(){e.storage.set({volume:e.volume,muted:e.muted})})),I.call(e,e.media,"ratechange",(function(){ut.updateSetting.call(e,"speed"),e.storage.set({speed:e.speed})})),I.call(e,e.media,"qualitychange",(function(t){ut.updateSetting.call(e,"quality",null,t.detail.quality)})),I.call(e,e.media,"ready qualitychange",(function(){ut.setDownloadUrl.call(e)}));var o=e.config.events.concat(["keyup","keydown"]).join(" ");I.call(e,e.media,o,(function(n){var i=n.detail,o=void 0===i?{}:i;"error"===n.type&&(o=e.media.error),F.call(e,t.container,n.type,!0,o)}))})),o(this,"proxy",(function(e,t,n){var o=i.player,r=o.config.listeners[n],a=!0;qe(r)&&(a=r.call(o,e)),!1!==a&&qe(t)&&t.call(o,e)})),o(this,"bind",(function(e,t,n,o){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=i.player,s=a.config.listeners[o],l=qe(s);I.call(a,e,t,(function(e){return i.proxy(e,n,o)}),r&&!l)})),o(this,"controls",(function(){var e=i.player,t=e.elements,n=Je.isIE?"change":"input";if(t.buttons.play&&Array.from(t.buttons.play).forEach((function(t){i.bind(t,"click",(function(){B(e.togglePlay())}),"play")})),i.bind(t.buttons.restart,"click",e.restart,"restart"),i.bind(t.buttons.rewind,"click",(function(){e.lastSeekTime=Date.now(),e.rewind()}),"rewind"),i.bind(t.buttons.fastForward,"click",(function(){e.lastSeekTime=Date.now(),e.forward()}),"fastForward"),i.bind(t.buttons.mute,"click",(function(){e.muted=!e.muted}),"mute"),i.bind(t.buttons.captions,"click",(function(){return e.toggleCaptions()})),i.bind(t.buttons.download,"click",(function(){F.call(e,e.media,"download")}),"download"),i.bind(t.buttons.fullscreen,"click",(function(){e.fullscreen.toggle()}),"fullscreen"),i.bind(t.buttons.pip,"click",(function(){e.pip="toggle"}),"pip"),i.bind(t.buttons.airplay,"click",e.airplay,"airplay"),i.bind(t.buttons.settings,"click",(function(t){t.stopPropagation(),t.preventDefault(),ut.toggleMenu.call(e,t)}),null,!1),i.bind(t.buttons.settings,"keyup",(function(t){var n=t.which;[13,32].includes(n)&&(13!==n?(t.preventDefault(),t.stopPropagation(),ut.toggleMenu.call(e,t)):ut.focusFirstMenuItem.call(e,null,!0))}),null,!1),i.bind(t.settings.menu,"keydown",(function(t){27===t.which&&ut.toggleMenu.call(e,t)})),i.bind(t.inputs.seek,"mousedown mousemove",(function(e){var n=t.progress.getBoundingClientRect(),i=100/n.width*(e.pageX-n.left);e.currentTarget.setAttribute("seek-value",i)})),i.bind(t.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(function(t){var n=t.currentTarget,i=t.keyCode?t.keyCode:t.which,o="play-on-seeked";if(!Ve(t)||39===i||37===i){e.lastSeekTime=Date.now();var r=n.hasAttribute(o),a=["mouseup","touchend","keyup"].includes(t.type);r&&a?(n.removeAttribute(o),B(e.play())):!a&&e.playing&&(n.setAttribute(o,""),e.pause())}})),Je.isIos){var o=N.call(e,'input[type="range"]');Array.from(o).forEach((function(e){return i.bind(e,n,(function(e){return y(e.target)}))}))}i.bind(t.inputs.seek,n,(function(t){var n=t.currentTarget,i=n.getAttribute("seek-value");Ke(i)&&(i=n.value),n.removeAttribute("seek-value"),e.currentTime=i/n.max*e.duration}),"seek"),i.bind(t.progress,"mouseenter mouseleave mousemove",(function(t){return ut.updateSeekTooltip.call(e,t)})),i.bind(t.progress,"mousemove touchmove",(function(t){var n=e.previewThumbnails;n&&n.loaded&&n.startMove(t)})),i.bind(t.progress,"mouseleave touchend click",(function(){var t=e.previewThumbnails;t&&t.loaded&&t.endMove(!1,!0)})),i.bind(t.progress,"mousedown touchstart",(function(t){var n=e.previewThumbnails;n&&n.loaded&&n.startScrubbing(t)})),i.bind(t.progress,"mouseup touchend",(function(t){var n=e.previewThumbnails;n&&n.loaded&&n.endScrubbing(t)})),Je.isWebkit&&Array.from(N.call(e,'input[type="range"]')).forEach((function(t){i.bind(t,"input",(function(t){return ut.updateRangeFill.call(e,t.target)}))})),e.config.toggleInvert&&!Ue(t.display.duration)&&i.bind(t.display.currentTime,"click",(function(){0!==e.currentTime&&(e.config.invertTime=!e.config.invertTime,ut.timeUpdate.call(e))})),i.bind(t.inputs.volume,n,(function(t){e.volume=t.target.value}),"volume"),i.bind(t.controls,"mouseenter mouseleave",(function(n){t.controls.hover=!e.touch&&"mouseenter"===n.type})),t.fullscreen&&Array.from(t.fullscreen.children).filter((function(e){return!e.contains(t.container)})).forEach((function(n){i.bind(n,"mouseenter mouseleave",(function(n){t.controls.hover=!e.touch&&"mouseenter"===n.type}))})),i.bind(t.controls,"mousedown mouseup touchstart touchend touchcancel",(function(e){t.controls.pressed=["mousedown","touchstart"].includes(e.type)})),i.bind(t.controls,"focusin",(function(){var n=e.config,o=e.timers;D(t.controls,n.classNames.noTransition,!0),kt.toggleControls.call(e,!0),setTimeout((function(){D(t.controls,n.classNames.noTransition,!1)}),0);var r=i.touch?3e3:4e3;clearTimeout(o.controls),o.controls=setTimeout((function(){return kt.toggleControls.call(e,!1)}),r)})),i.bind(t.inputs.volume,"wheel",(function(t){var n=t.webkitDirectionInvertedFromDevice,i=l([t.deltaX,-t.deltaY].map((function(e){return n?-e:e})),2),o=i[0],r=i[1],a=Math.sign(Math.abs(o)>Math.abs(r)?o:r);e.increaseVolume(a/50);var s=e.media.volume;(1===a&&s<1||-1===a&&s>0)&&t.preventDefault()}),"volume",!1)})),this.player=n,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}return i(e,[{key:"handleKey",value:function(e){var t=this.player,n=t.elements,i=e.keyCode?e.keyCode:e.which,o="keydown"===e.type,r=o&&i===this.lastKey;if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&Pe(i))if(o){var a=document.activeElement;if(Ue(a)){var s=t.config.selectors.editable;if(a!==n.inputs.seek&&L(a,s))return;if(32===e.which&&L(a,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(i)&&(e.preventDefault(),e.stopPropagation()),i){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:r||(t.currentTime=t.duration/10*(i-48));break;case 32:case 75:r||B(t.togglePlay());break;case 38:t.increaseVolume(.1);break;case 40:t.decreaseVolume(.1);break;case 77:r||(t.muted=!t.muted);break;case 39:t.forward();break;case 37:t.rewind();break;case 70:t.fullscreen.toggle();break;case 67:r||t.toggleCaptions();break;case 76:t.loop=!t.loop}27===i&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null}},{key:"toggleMenu",value:function(e){ut.toggleMenu.call(this.player,e)}}]),e}();"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var xt,Tt=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){e.exports=function(){function e(e,t){e=e.push?e:[e];var n,i,o,r=[],a=e.length,s=a;for(n=function(e,n){n.length&&r.push(e),--s||t(r)};a--;)i=e[a],(o=l[i])?n(i,o):(c[i]=c[i]||[]).push(n)}function t(e,t){if(e){var n=c[e];if(l[e]=t,n)for(;n.length;)n[0](e,t),n.splice(0,1)}}function n(e,t){e.call&&(e={success:e}),t.length?(e.error||a)(t):(e.success||a)(e)}function i(e,t,n,o){var r,s,l=document,c=n.async,d=(n.numRetries||0)+1,u=n.before||a,h=e.replace(/[\?|#].*$/,""),p=e.replace(/^(css|img)!/,"");o=o||0,/(^css!|\.css$)/.test(h)?((s=l.createElement("link")).rel="stylesheet",s.href=p,(r="hideFocus"in s)&&s.relList&&(r=0,s.rel="preload",s.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(h)?(s=l.createElement("img")).src=p:((s=l.createElement("script")).src=e,s.async=void 0===c||c),s.onload=s.onerror=s.onbeforeload=function(a){var l=a.type[0];if(r)try{s.sheet.cssText.length||(l="e")}catch(a){18!=a.code&&(l="e")}if("e"==l){if((o+=1)<d)return i(e,t,n,o)}else if("preload"==s.rel&&"style"==s.as)return s.rel="stylesheet";t(e,l,a.defaultPrevented)},!1!==u(e,s)&&l.head.appendChild(s)}function o(e,t,n){var o,r,a=(e=e.push?e:[e]).length,s=a,l=[];for(o=function(e,n,i){if("e"==n&&l.push(e),"b"==n){if(!i)return;l.push(e)}--a||t(l)},r=0;r<s;r++)i(e[r],o,n)}function r(e,i,r){function a(i,r){o(e,(function(e){n(c,e),i&&n({success:i,error:r},e),t(l,e)}),c)}var l,c;if(i&&i.trim&&(l=i),c=(l?r:i)||{},l){if(l in s)throw"LoadJS";s[l]=!0}if(c.returnPromise)return new Promise(a);a()}var a=function(){},s={},l={},c={};return r.ready=function(t,i){return e(t,(function(e){n(i,e)})),r},r.done=function(e){t(e,[])},r.reset=function(){s={},l={},c={}},r.isDefined=function(e){return e in s},r}()})),St={setup:function(){var e=this;D(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,Q.call(e),Ie(window.Vimeo)?St.ready.call(e):oe(e.config.urls.vimeo.sdk).then((function(){St.ready.call(e)})).catch((function(t){e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready:function(){var e=this,t=this,n=t.config.vimeo,i=n.premium,o=n.referrerPolicy,r=s(n,["premium","referrerPolicy"]);i&&Object.assign(r,{controls:!1,sidedock:!1});var c=ne(a({loop:t.config.loop.active,autoplay:t.autoplay,muted:t.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative},r)),d=t.media.getAttribute("src");Ke(d)&&(d=t.media.getAttribute(t.config.attributes.embed.id));var u,h=Ke(u=d)?null:Pe(Number(u))?u:u.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:u,p=C("iframe"),f=X(t.config.urls.vimeo.iframe,h,c);if(p.setAttribute("src",f),p.setAttribute("allowfullscreen",""),p.setAttribute("allow",["autoplay","fullscreen","picture-in-picture"].join("; ")),Ke(o)||p.setAttribute("referrerPolicy",o),i||!n.customControls)p.setAttribute("data-poster",t.poster),t.media=E(p,t.media);else{var m=C("div",{class:t.config.classNames.embedContainer,"data-poster":t.poster});m.appendChild(p),t.media=E(m,t.media)}n.customControls||J(X(t.config.urls.vimeo.api,f)).then((function(e){!Ke(e)&&e.thumbnail_url&&kt.setPoster.call(t,e.thumbnail_url).catch((function(){}))})),t.embed=new window.Vimeo.Player(p,{autopause:t.config.autopause,muted:t.muted}),t.media.paused=!0,t.media.currentTime=0,t.supported.ui&&t.embed.disableTextTrack(),t.media.play=function(){return re.call(t,!0),t.embed.play()},t.media.pause=function(){return re.call(t,!1),t.embed.pause()},t.media.stop=function(){t.pause(),t.currentTime=0};var g=t.media.currentTime;Object.defineProperty(t.media,"currentTime",{get:function(){return g},set:function(e){var n=t.embed,i=t.media,o=t.paused,r=t.volume,a=o&&!n.hasPlayed;i.seeking=!0,F.call(t,i,"seeking"),Promise.resolve(a&&n.setVolume(0)).then((function(){return n.setCurrentTime(e)})).then((function(){return a&&n.pause()})).then((function(){return a&&n.setVolume(r)})).catch((function(){}))}});var v=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get:function(){return v},set:function(e){t.embed.setPlaybackRate(e).then((function(){v=e,F.call(t,t.media,"ratechange")})).catch((function(){t.options.speed=[1]}))}});var y=t.config.volume;Object.defineProperty(t.media,"volume",{get:function(){return y},set:function(e){t.embed.setVolume(e).then((function(){y=e,F.call(t,t.media,"volumechange")}))}});var b=t.config.muted;Object.defineProperty(t.media,"muted",{get:function(){return b},set:function(e){var n=!!Fe(e)&&e;t.embed.setVolume(n?0:t.config.volume).then((function(){b=n,F.call(t,t.media,"volumechange")}))}});var _,w=t.config.loop;Object.defineProperty(t.media,"loop",{get:function(){return w},set:function(e){var n=Fe(e)?e:t.config.loop.active;t.embed.setLoop(n).then((function(){w=n}))}}),t.embed.getVideoUrl().then((function(e){_=e,ut.setDownloadUrl.call(t)})).catch((function(t){e.debug.warn(t)})),Object.defineProperty(t.media,"currentSrc",{get:function(){return _}}),Object.defineProperty(t.media,"ended",{get:function(){return t.currentTime===t.duration}}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then((function(n){var i=l(n,2),o=i[0],r=i[1];t.embed.ratio=[o,r],Q.call(e)})),t.embed.setAutopause(t.config.autopause).then((function(e){t.config.autopause=e})),t.embed.getVideoTitle().then((function(n){t.config.title=n,kt.setTitle.call(e)})),t.embed.getCurrentTime().then((function(e){g=e,F.call(t,t.media,"timeupdate")})),t.embed.getDuration().then((function(e){t.media.duration=e,F.call(t,t.media,"durationchange")})),t.embed.getTextTracks().then((function(e){t.media.textTracks=e,ht.setup.call(t)})),t.embed.on("cuechange",(function(e){var n=e.cues,i=(void 0===n?[]:n).map((function(e){return function(e){var t=document.createDocumentFragment(),n=document.createElement("div");return t.appendChild(n),n.innerHTML=e,t.firstChild.innerText}(e.text)}));ht.updateCues.call(t,i)})),t.embed.on("loaded",(function(){t.embed.getPaused().then((function(e){re.call(t,!e),e||F.call(t,t.media,"playing")})),Ue(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)})),t.embed.on("bufferstart",(function(){F.call(t,t.media,"waiting")})),t.embed.on("bufferend",(function(){F.call(t,t.media,"playing")})),t.embed.on("play",(function(){re.call(t,!0),F.call(t,t.media,"playing")})),t.embed.on("pause",(function(){re.call(t,!1)})),t.embed.on("timeupdate",(function(e){t.media.seeking=!1,g=e.seconds,
F.call(t,t.media,"timeupdate")})),t.embed.on("progress",(function(e){t.media.buffered=e.percent,F.call(t,t.media,"progress"),1===parseInt(e.percent,10)&&F.call(t,t.media,"canplaythrough"),t.embed.getDuration().then((function(e){e!==t.media.duration&&(t.media.duration=e,F.call(t,t.media,"durationchange"))}))})),t.embed.on("seeked",(function(){t.media.seeking=!1,F.call(t,t.media,"seeked")})),t.embed.on("ended",(function(){t.media.paused=!0,F.call(t,t.media,"ended")})),t.embed.on("error",(function(e){t.media.error=e,F.call(t,t.media,"error")})),n.customControls&&setTimeout((function(){return kt.build.call(t)}),0)}},Et={setup:function(){var e=this;if(D(this.elements.wrapper,this.config.classNames.embed,!0),Ie(window.YT)&&qe(window.YT.Player))Et.ready.call(this);else{var t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){qe(t)&&t(),Et.ready.call(e)},oe(this.config.urls.youtube.sdk).catch((function(t){e.debug.warn("YouTube API failed to load",t)}))}},getTitle:function(e){var t=this;J(X(this.config.urls.youtube.api,e)).then((function(e){if(Ie(e)){var n=e.title,i=e.height,o=e.width;t.config.title=n,kt.setTitle.call(t),t.embed.ratio=[o,i]}Q.call(t)})).catch((function(){Q.call(t)}))},ready:function(){var e=this,t=e.config.youtube,n=e.media&&e.media.getAttribute("id");if(Ke(n)||!n.startsWith("youtube-")){var i=e.media.getAttribute("src");Ke(i)&&(i=e.media.getAttribute(this.config.attributes.embed.id));var o,r,a=Ke(o=i)?null:o.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:o,s=C("div",{id:(r=e.provider,"".concat(r,"-").concat(Math.floor(1e4*Math.random()))),"data-poster":t.customControls?e.poster:void 0});if(e.media=E(s,e.media),t.customControls){var l=function(e){return"https://i.ytimg.com/vi/".concat(a,"/").concat(e,"default.jpg")};ie(l("maxres"),121).catch((function(){return ie(l("sd"),121)})).catch((function(){return ie(l("hq"))})).then((function(t){return kt.setPoster.call(e,t.src)})).then((function(t){t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((function(){}))}e.embed=new window.YT.Player(e.media,{videoId:a,host:se(t),playerVars:_({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.fullscreen.iosNative?0:1,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError:function(t){if(!e.media.error){var n=t.data,i={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[n]||"An unknown error occured";e.media.error={code:n,message:i},F.call(e,e.media,"error")}},onPlaybackRateChange:function(t){var n=t.target;e.media.playbackRate=n.getPlaybackRate(),F.call(e,e.media,"ratechange")},onReady:function(n){if(!qe(e.media.play)){var i=n.target;Et.getTitle.call(e,a),e.media.play=function(){ae.call(e,!0),i.playVideo()},e.media.pause=function(){ae.call(e,!1),i.pauseVideo()},e.media.stop=function(){i.stopVideo()},e.media.duration=i.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:function(){return Number(i.getCurrentTime())},set:function(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,F.call(e,e.media,"seeking"),i.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:function(){return i.getPlaybackRate()},set:function(e){i.setPlaybackRate(e)}});var o=e.config.volume;Object.defineProperty(e.media,"volume",{get:function(){return o},set:function(t){o=t,i.setVolume(100*o),F.call(e,e.media,"volumechange")}});var r=e.config.muted;Object.defineProperty(e.media,"muted",{get:function(){return r},set:function(t){var n=Fe(t)?t:r;r=n,i[n?"mute":"unMute"](),i.setVolume(100*o),F.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:function(){return i.getVideoUrl()}}),Object.defineProperty(e.media,"ended",{get:function(){return e.currentTime===e.duration}});var s=i.getAvailablePlaybackRates();e.options.speed=s.filter((function(t){return e.config.speed.options.includes(t)})),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),F.call(e,e.media,"timeupdate"),F.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((function(){e.media.buffered=i.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&F.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),F.call(e,e.media,"canplaythrough"))}),200),t.customControls&&setTimeout((function(){return kt.build.call(e)}),50)}},onStateChange:function(n){var i=n.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(n.data)&&(e.media.seeking=!1,F.call(e,e.media,"seeked")),n.data){case-1:F.call(e,e.media,"timeupdate"),e.media.buffered=i.getVideoLoadedFraction(),F.call(e,e.media,"progress");break;case 0:ae.call(e,!1),e.media.loop?(i.stopVideo(),i.playVideo()):F.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(ae.call(e,!0),F.call(e,e.media,"playing"),e.timers.playing=setInterval((function(){F.call(e,e.media,"timeupdate")}),50),e.media.duration!==i.getDuration()&&(e.media.duration=i.getDuration(),F.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),ae.call(e,!1);break;case 3:F.call(e,e.media,"waiting")}F.call(e,e.elements.container,"statechange",!1,{code:n.data})}}})}}},$t={setup:function(){this.media?(D(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),D(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&D(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=C("div",{class:this.config.classNames.video}),w(this.media,this.elements.wrapper),this.elements.poster=C("div",{class:this.config.classNames.poster,hidden:""}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?nt.setup.call(this):this.isYouTube?Et.setup.call(this):this.isVimeo&&St.setup.call(this)):this.debug.warn("No media element found!")}},At=function(){function e(n){var i=this;t(this,e),o(this,"load",(function(){i.enabled&&(Ie(window.google)&&Ie(window.google.ima)?i.ready():oe(i.player.config.urls.googleIMA.sdk).then((function(){i.ready()})).catch((function(){i.trigger("error",new Error("Google IMA SDK failed to load"))})))})),o(this,"ready",(function(){var e;i.enabled||((e=i).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),i.startSafetyTimer(12e3,"ready()"),i.managerPromise.then((function(){i.clearSafetyTimer("onAdsManagerLoaded()")})),i.listeners(),i.setupIMA()})),o(this,"setupIMA",(function(){i.elements.container=C("div",{class:i.player.config.classNames.ads}),i.player.elements.container.appendChild(i.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(i.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(i.player.config.playsinline),i.elements.displayContainer=new google.ima.AdDisplayContainer(i.elements.container,i.player.media),i.loader=new google.ima.AdsLoader(i.elements.displayContainer),i.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(e){return i.onAdsManagerLoaded(e)}),!1),i.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){return i.onAdError(e)}),!1),i.requestAds()})),o(this,"requestAds",(function(){var e=i.player.elements.container;try{var t=new google.ima.AdsRequest;t.adTagUrl=i.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!i.player.muted),i.loader.requestAds(t)}catch(e){i.onAdError(e)}})),o(this,"pollCountdown",(function(){if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0]))return clearInterval(i.countdownTimer),void i.elements.container.removeAttribute("data-badge-text");var e=function(){var e=ee(Math.max(i.manager.getRemainingTime(),0)),t="".concat(at("advertisement",i.player.config)," - ").concat(e);i.elements.container.setAttribute("data-badge-text",t)};i.countdownTimer=setInterval(e,100)})),o(this,"onAdsManagerLoaded",(function(e){if(i.enabled){var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,i.manager=e.getAdsManager(i.player,t),i.cuePoints=i.manager.getCuePoints(),i.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){return i.onAdError(e)})),Object.keys(google.ima.AdEvent.Type).forEach((function(e){i.manager.addEventListener(google.ima.AdEvent.Type[e],(function(e){return i.onAdEvent(e)}))})),i.trigger("loaded")}})),o(this,"addCuePoints",(function(){Ke(i.cuePoints)||i.cuePoints.forEach((function(e){if(0!==e&&-1!==e&&e<i.player.duration){var t=i.player.elements.progress;if(Ue(t)){var n=100/i.player.duration*e,o=C("span",{class:i.player.config.classNames.cues});o.style.left="".concat(n.toString(),"%"),t.appendChild(o)}}}))})),o(this,"onAdEvent",(function(e){var t=i.player.elements.container,n=e.getAd(),o=e.getAdData();switch(function(e){F.call(i.player,i.player.media,"ads".concat(e.replace(/_/g,"").toLowerCase()))}(e.type),e.type){case google.ima.AdEvent.Type.LOADED:i.trigger("loaded"),i.pollCountdown(!0),n.isLinear()||(n.width=t.offsetWidth,n.height=t.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:i.manager.setVolume(i.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:i.player.ended?i.loadAds():i.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:i.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:i.pollCountdown(),i.resumeContent();break;case google.ima.AdEvent.Type.LOG:o.adError&&i.player.debug.warn("Non-fatal ad error: ".concat(o.adError.getMessage()))}})),o(this,"onAdError",(function(e){i.cancel(),i.player.debug.warn("Ads error",e)})),o(this,"listeners",(function(){var e,t=i.player.elements.container;i.player.on("canplay",(function(){i.addCuePoints()})),i.player.on("ended",(function(){i.loader.contentComplete()})),i.player.on("timeupdate",(function(){e=i.player.currentTime})),i.player.on("seeked",(function(){var t=i.player.currentTime;Ke(i.cuePoints)||i.cuePoints.forEach((function(n,o){e<n&&n<t&&(i.manager.discardAdBreak(),i.cuePoints.splice(o,1))}))})),window.addEventListener("resize",(function(){i.manager&&i.manager.resize(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL)}))})),o(this,"play",(function(){var e=i.player.elements.container;i.managerPromise||i.resumeContent(),i.managerPromise.then((function(){i.manager.setVolume(i.player.volume),i.elements.displayContainer.initialize();try{i.initialized||(i.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),i.manager.start()),i.initialized=!0}catch(e){i.onAdError(e)}})).catch((function(){}))})),o(this,"resumeContent",(function(){i.elements.container.style.zIndex="",i.playing=!1,B(i.player.media.play())})),o(this,"pauseContent",(function(){i.elements.container.style.zIndex=3,i.playing=!0,i.player.media.pause()})),o(this,"cancel",(function(){i.initialized&&i.resumeContent(),i.trigger("error"),i.loadAds()})),o(this,"loadAds",(function(){i.managerPromise.then((function(){i.manager&&i.manager.destroy(),i.managerPromise=new Promise((function(e){i.on("loaded",e),i.player.debug.log(i.manager)})),i.initialized=!1,i.requestAds()})).catch((function(){}))})),o(this,"trigger",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=i.events[e];He(r)&&r.forEach((function(e){qe(e)&&e.apply(i,n)}))})),o(this,"on",(function(e,t){return He(i.events[e])||(i.events[e]=[]),i.events[e].push(t),i})),o(this,"startSafetyTimer",(function(e,t){i.player.debug.log("Safety timer invoked from: ".concat(t)),i.safetyTimer=setTimeout((function(){i.cancel(),i.clearSafetyTimer("startSafetyTimer()")}),e)})),o(this,"clearSafetyTimer",(function(e){Me(i.safetyTimer)||(i.player.debug.log("Safety timer cleared from: ".concat(e)),clearTimeout(i.safetyTimer),i.safetyTimer=null)})),this.player=n,this.config=n.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((function(e,t){i.on("loaded",e),i.on("error",t)})),this.load()}return i(e,[{key:"enabled",get:function(){var e=this.config;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!Ke(e.publisherId)||Xe(e.tagUrl))}},{key:"tagUrl",get:function(){var e=this.config;if(Xe(e.tagUrl))return e.tagUrl;var t={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId};return"".concat("https://go.aniview.com/api/adserver6/vast/","?").concat(ne(t))}}]),e}(),Dt=function(e,t){var n={};return e>t.width/t.height?(n.width=t.width,n.height=1/e*t.width):(n.height=t.height,n.width=e*t.height),n},Ot=function(){function e(n){var i=this;t(this,e),o(this,"load",(function(){i.player.elements.display.seekTooltip&&(i.player.elements.display.seekTooltip.hidden=i.enabled),i.enabled&&i.getThumbnails().then((function(){i.enabled&&(i.render(),i.determineContainerAutoSizing(),i.loaded=!0)}))})),o(this,"getThumbnails",(function(){return new Promise((function(e){var t=i.player.config.previewThumbnails.src;if(Ke(t))throw new Error("Missing previewThumbnails.src config attribute");var n=function(){i.thumbnails.sort((function(e,t){return e.height-t.height})),i.player.debug.log("Preview thumbnails",i.thumbnails),e()};if(qe(t))t((function(e){i.thumbnails=e,n()}));else{var o=(ze(t)?[t]:t).map((function(e){return i.getThumbnail(e)}));Promise.all(o).then(n)}}))})),o(this,"getThumbnail",(function(e){return new Promise((function(t){J(e).then((function(n){var o,r,a={frames:(o=n,r=[],o.split(/\r\n\r\n|\n\n|\r\r/).forEach((function(e){var t={};e.split(/\r\n|\n|\r/).forEach((function(e){if(Pe(t.startTime)){if(!Ke(e.trim())&&Ke(t.text)){var n=e.trim().split("#xywh="),i=l(n,1);if(t.text=i[0],n[1]){var o=l(n[1].split(","),4);t.x=o[0],t.y=o[1],t.w=o[2],t.h=o[3]}}}else{var r=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);r&&(t.startTime=60*Number(r[1]||0)*60+60*Number(r[2])+Number(r[3])+Number("0.".concat(r[4])),t.endTime=60*Number(r[6]||0)*60+60*Number(r[7])+Number(r[8])+Number("0.".concat(r[9])))}})),t.text&&r.push(t)})),r),height:null,urlPrefix:""};a.frames[0].text.startsWith("/")||a.frames[0].text.startsWith("http://")||a.frames[0].text.startsWith("https://")||(a.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));var s=new Image;s.onload=function(){a.height=s.naturalHeight,a.width=s.naturalWidth,i.thumbnails.push(a),t()},s.src=a.urlPrefix+a.frames[0].text}))}))})),o(this,"startMove",(function(e){if(i.loaded&&We(e)&&["touchmove","mousemove"].includes(e.type)&&i.player.media.duration){if("touchmove"===e.type)i.seekTime=i.player.media.duration*(i.player.elements.inputs.seek.value/100);else{var t=i.player.elements.progress.getBoundingClientRect(),n=100/t.width*(e.pageX-t.left);i.seekTime=i.player.media.duration*(n/100),i.seekTime<0&&(i.seekTime=0),i.seekTime>i.player.media.duration-1&&(i.seekTime=i.player.media.duration-1),i.mousePosX=e.pageX,i.elements.thumb.time.innerText=ee(i.seekTime)}i.showImageAtCurrentTime()}})),o(this,"endMove",(function(){i.toggleThumbContainer(!1,!0)})),o(this,"startScrubbing",(function(e){(Me(e.button)||!1===e.button||0===e.button)&&(i.mouseDown=!0,i.player.media.duration&&(i.toggleScrubbingContainer(!0),i.toggleThumbContainer(!1,!0),i.showImageAtCurrentTime()))})),o(this,"endScrubbing",(function(){i.mouseDown=!1,Math.ceil(i.lastTime)===Math.ceil(i.player.media.currentTime)?i.toggleScrubbingContainer(!1):z.call(i.player,i.player.media,"timeupdate",(function(){i.mouseDown||i.toggleScrubbingContainer(!1)}))})),o(this,"listeners",(function(){i.player.on("play",(function(){i.toggleThumbContainer(!1,!0)})),i.player.on("seeked",(function(){i.toggleThumbContainer(!1)})),i.player.on("timeupdate",(function(){i.lastTime=i.player.media.currentTime}))})),o(this,"render",(function(){i.elements.thumb.container=C("div",{class:i.player.config.classNames.previewThumbnails.thumbContainer}),i.elements.thumb.imageContainer=C("div",{class:i.player.config.classNames.previewThumbnails.imageContainer}),i.elements.thumb.container.appendChild(i.elements.thumb.imageContainer);var e=C("div",{class:i.player.config.classNames.previewThumbnails.timeContainer});i.elements.thumb.time=C("span",{},"00:00"),e.appendChild(i.elements.thumb.time),i.elements.thumb.container.appendChild(e),Ue(i.player.elements.progress)&&i.player.elements.progress.appendChild(i.elements.thumb.container),i.elements.scrubbing.container=C("div",{class:i.player.config.classNames.previewThumbnails.scrubbingContainer}),i.player.elements.wrapper.appendChild(i.elements.scrubbing.container)})),o(this,"destroy",(function(){i.elements.thumb.container&&i.elements.thumb.container.remove(),i.elements.scrubbing.container&&i.elements.scrubbing.container.remove()})),o(this,"showImageAtCurrentTime",(function(){i.mouseDown?i.setScrubbingContainerSize():i.setThumbContainerSizeAndPos();var e=i.thumbnails[0].frames.findIndex((function(e){return i.seekTime>=e.startTime&&i.seekTime<=e.endTime})),t=e>=0,n=0;i.mouseDown||i.toggleThumbContainer(t),t&&(i.thumbnails.forEach((function(t,o){i.loadedImages.includes(t.frames[e].text)&&(n=o)})),e!==i.showingThumb&&(i.showingThumb=e,i.loadImage(n)))})),o(this,"loadImage",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=i.showingThumb,n=i.thumbnails[e],o=n.urlPrefix,r=n.frames[t],a=n.frames[t].text,s=o+a;if(i.currentImageElement&&i.currentImageElement.dataset.filename===a)i.showImage(i.currentImageElement,r,e,t,a,!1),i.currentImageElement.dataset.index=t,i.removeOldImages(i.currentImageElement);else{i.loadingImage&&i.usingSprites&&(i.loadingImage.onload=null);var l=new Image;l.src=s,l.dataset.index=t,l.dataset.filename=a,i.showingThumbFilename=a,i.player.debug.log("Loading image: ".concat(s)),l.onload=function(){return i.showImage(l,r,e,t,a,!0)},i.loadingImage=l,i.removeOldImages(l)}})),o(this,"showImage",(function(e,t,n,o,r){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];i.player.debug.log("Showing thumb: ".concat(r,". num: ").concat(o,". qual: ").concat(n,". newimg: ").concat(a)),i.setImageSizeAndOffset(e,t),a&&(i.currentImageContainer.appendChild(e),i.currentImageElement=e,i.loadedImages.includes(r)||i.loadedImages.push(r)),i.preloadNearby(o,!0).then(i.preloadNearby(o,!1)).then(i.getHigherQuality(n,e,t,r))})),o(this,"removeOldImages",(function(e){Array.from(i.currentImageContainer.children).forEach((function(t){if("img"===t.tagName.toLowerCase()){var n=i.usingSprites?500:1e3;if(t.dataset.index!==e.dataset.index&&!t.dataset.deleting){t.dataset.deleting=!0;var o=i.currentImageContainer;setTimeout((function(){o.removeChild(t),i.player.debug.log("Removing thumb: ".concat(t.dataset.filename))}),n)}}}))})),o(this,"preloadNearby",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(n){setTimeout((function(){var o=i.thumbnails[0].frames[e].text;if(i.showingThumbFilename===o){var r;r=t?i.thumbnails[0].frames.slice(e):i.thumbnails[0].frames.slice(0,e).reverse();var a=!1;r.forEach((function(e){var t=e.text;if(t!==o&&!i.loadedImages.includes(t)){a=!0,i.player.debug.log("Preloading thumb filename: ".concat(t));var r=i.thumbnails[0].urlPrefix+t,s=new Image;s.src=r,s.onload=function(){i.player.debug.log("Preloaded thumb filename: ".concat(t)),i.loadedImages.includes(t)||i.loadedImages.push(t),n()}}})),a||n()}}),300)}))})),o(this,"getHigherQuality",(function(e,t,n,o){if(e<i.thumbnails.length-1){var r=t.naturalHeight;i.usingSprites&&(r=n.h),r<i.thumbContainerHeight&&setTimeout((function(){i.showingThumbFilename===o&&(i.player.debug.log("Showing higher quality thumb for: ".concat(o)),i.loadImage(e+1))}),300)}})),o(this,"toggleThumbContainer",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=i.player.config.classNames.previewThumbnails.thumbContainerShown;i.elements.thumb.container.classList.toggle(n,e),!e&&t&&(i.showingThumb=null,i.showingThumbFilename=null)})),o(this,"toggleScrubbingContainer",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=i.player.config.classNames.previewThumbnails.scrubbingContainerShown;i.elements.scrubbing.container.classList.toggle(t,e),e||(i.showingThumb=null,i.showingThumbFilename=null)})),o(this,"determineContainerAutoSizing",(function(){(i.elements.thumb.imageContainer.clientHeight>20||i.elements.thumb.imageContainer.clientWidth>20)&&(i.sizeSpecifiedInCSS=!0)})),o(this,"setThumbContainerSizeAndPos",(function(){if(i.sizeSpecifiedInCSS){if(i.elements.thumb.imageContainer.clientHeight>20&&i.elements.thumb.imageContainer.clientWidth<20){var e=Math.floor(i.elements.thumb.imageContainer.clientHeight*i.thumbAspectRatio);i.elements.thumb.imageContainer.style.width="".concat(e,"px")}else if(i.elements.thumb.imageContainer.clientHeight<20&&i.elements.thumb.imageContainer.clientWidth>20){var t=Math.floor(i.elements.thumb.imageContainer.clientWidth/i.thumbAspectRatio);i.elements.thumb.imageContainer.style.height="".concat(t,"px")}}else{var n=Math.floor(i.thumbContainerHeight*i.thumbAspectRatio);i.elements.thumb.imageContainer.style.height="".concat(i.thumbContainerHeight,"px"),i.elements.thumb.imageContainer.style.width="".concat(n,"px")}i.setThumbContainerPos()})),o(this,"setThumbContainerPos",(function(){var e=i.player.elements.progress.getBoundingClientRect(),t=i.player.elements.container.getBoundingClientRect(),n=i.elements.thumb.container,o=t.left-e.left+10,r=t.right-e.left-n.clientWidth-10,a=i.mousePosX-e.left-n.clientWidth/2;a<o&&(a=o),a>r&&(a=r),n.style.left="".concat(a,"px")})),o(this,"setScrubbingContainerSize",(function(){var e=Dt(i.thumbAspectRatio,{width:i.player.media.clientWidth,height:i.player.media.clientHeight}),t=e.width,n=e.height;i.elements.scrubbing.container.style.width="".concat(t,"px"),i.elements.scrubbing.container.style.height="".concat(n,"px")})),o(this,"setImageSizeAndOffset",(function(e,t){if(i.usingSprites){var n=i.thumbContainerHeight/t.h;e.style.height="".concat(e.naturalHeight*n,"px"),e.style.width="".concat(e.naturalWidth*n,"px"),e.style.left="-".concat(t.x*n,"px"),e.style.top="-".concat(t.y*n,"px")}})),this.player=n,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}return i(e,[{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}},{key:"currentImageContainer",get:function(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}},{key:"usingSprites",get:function(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}},{key:"thumbAspectRatio",get:function(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}},{key:"thumbContainerHeight",get:function(){return this.mouseDown?Dt(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}).height:this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}},{key:"currentImageElement",get:function(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement},set:function(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}]),e}(),Lt={insertElements:function(e,t){var n=this;ze(t)?x(e,this.media,{src:t}):He(t)&&t.forEach((function(t){x(e,n.media,t)}))},change:function(e){var t=this;b(e,"sources.length")?(nt.cancelRequests.call(this),this.destroy.call(this,(function(){t.options.quality=[],T(t.media),t.media=null,Ue(t.elements.container)&&t.elements.container.removeAttribute("class");var n=e.sources,i=e.type,o=l(n,1)[0],r=o.provider,a=void 0===r?gt.html5:r,s=o.src,c="html5"===a?i:"div",d="html5"===a?{}:{src:s};Object.assign(t,{provider:a,type:i,supported:et.check(i,a,t.config.playsinline),media:C(c,d)}),t.elements.container.appendChild(t.media),Fe(e.autoplay)&&(t.config.autoplay=e.autoplay),t.isHTML5&&(t.config.crossorigin&&t.media.setAttribute("crossorigin",""),t.config.autoplay&&t.media.setAttribute("autoplay",""),Ke(e.poster)||(t.poster=e.poster),t.config.loop.active&&t.media.setAttribute("loop",""),t.config.muted&&t.media.setAttribute("muted",""),t.config.playsinline&&t.media.setAttribute("playsinline","")),kt.addStyleHook.call(t),t.isHTML5&&Lt.insertElements.call(t,"source",n),t.config.title=e.title,$t.setup.call(t),t.isHTML5&&Object.keys(e).includes("tracks")&&Lt.insertElements.call(t,"track",e.tracks),(t.isHTML5||t.isEmbed&&!t.supported.ui)&&kt.build.call(t),t.isHTML5&&t.media.load(),Ke(e.previewThumbnails)||(Object.assign(t.config.previewThumbnails,e.previewThumbnails),t.previewThumbnails&&t.previewThumbnails.loaded&&(t.previewThumbnails.destroy(),t.previewThumbnails=null),t.config.previewThumbnails.enabled&&(t.previewThumbnails=new Ot(t))),t.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}},Nt=function(){function e(n,i){var r=this;if(t(this,e),o(this,"play",(function(){return qe(r.media.play)?(r.ads&&r.ads.enabled&&r.ads.managerPromise.then((function(){return r.ads.play()})).catch((function(){return B(r.media.play())})),r.media.play()):null})),o(this,"pause",(function(){return r.playing&&qe(r.media.pause)?r.media.pause():null})),o(this,"togglePlay",(function(e){return(Fe(e)?e:!r.playing)?r.play():r.pause()})),o(this,"stop",(function(){r.isHTML5?(r.pause(),r.restart()):qe(r.media.stop)&&r.media.stop()})),o(this,"restart",(function(){r.currentTime=0})),o(this,"rewind",(function(e){r.currentTime-=Pe(e)?e:r.config.seekTime})),o(this,"forward",(function(e){r.currentTime+=Pe(e)?e:r.config.seekTime})),o(this,"increaseVolume",(function(e){var t=r.media.muted?0:r.volume;r.volume=t+(Pe(e)?e:0)})),o(this,"decreaseVolume",(function(e){r.increaseVolume(-e)})),o(this,"airplay",(function(){et.airplay&&r.media.webkitShowPlaybackTargetPicker()})),o(this,"toggleControls",(function(e){if(r.supported.ui&&!r.isAudio){var t=O(r.elements.container,r.config.classNames.hideControls),n=void 0===e?void 0:!e,i=D(r.elements.container,r.config.classNames.hideControls,n);if(i&&He(r.config.controls)&&r.config.controls.includes("settings")&&!Ke(r.config.settings)&&ut.toggleMenu.call(r,!1),i!==t){var o=i?"controlshidden":"controlsshown";F.call(r,r.media,o)}return!i}return!1})),o(this,"on",(function(e,t){I.call(r,r.elements.container,e,t)})),o(this,"once",(function(e,t){z.call(r,r.elements.container,e,t)})),o(this,"off",(function(e,t){P(r.elements.container,e,t)})),o(this,"destroy",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r.ready){var n=function(){document.body.style.overflow="",r.embed=null,t?(Object.keys(r.elements).length&&(T(r.elements.buttons.play),T(r.elements.captions),T(r.elements.controls),T(r.elements.wrapper),r.elements.buttons.play=null,r.elements.captions=null,r.elements.controls=null,r.elements.wrapper=null),qe(e)&&e()):(q.call(r),nt.cancelRequests.call(r),E(r.elements.original,r.elements.container),F.call(r,r.elements.original,"destroyed",!0),qe(e)&&e.call(r.elements.original),r.ready=!1,setTimeout((function(){r.elements=null,r.media=null}),200))};r.stop(),clearTimeout(r.timers.loading),clearTimeout(r.timers.controls),clearTimeout(r.timers.resized),r.isHTML5?(kt.toggleNativeControls.call(r,!0),n()):r.isYouTube?(clearInterval(r.timers.buffering),clearInterval(r.timers.playing),null!==r.embed&&qe(r.embed.destroy)&&r.embed.destroy(),n()):r.isVimeo&&(null!==r.embed&&r.embed.unload().then(n),setTimeout(n,200))}})),o(this,"supports",(function(e){return et.mime.call(r,e)})),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=et.touch,this.media=n,ze(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||Be(this.media)||He(this.media))&&(this.media=this.media[0]),this.config=_({},pt,e.defaults,i||{},function(){try{return JSON.parse(r.media.getAttribute("data-plyr-config"))}catch(e){return{}}}()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new _t(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",et),!Me(this.media)&&Ue(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(et.check().api){var a=this.media.cloneNode(!0);a.autoplay=!1,this.elements.original=a;var s=this.media.tagName.toLowerCase(),l=null,c=null;switch(s){case"div":if(l=this.media.querySelector("iframe"),Ue(l)){if(c=te(l.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?gt.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?gt.vimeo:null}(c.toString()),this.elements.container=this.media,this.media=l,this.elements.container.className="",c.search.length){var d=["1","true"];d.includes(c.searchParams.get("autoplay"))&&(this.config.autoplay=!0),d.includes(c.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=d.includes(c.searchParams.get("playsinline")),this.config.youtube.hl=c.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(Ke(this.provider)||!Object.values(gt).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=yt;break;case"video":case"audio":this.type=s,this.provider=gt.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=et.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new Ct(this),this.storage=new st(this),this.media.plyr=this,Ue(this.elements.container)||(this.elements.container=C("div",{tabindex:0}),w(this.media,this.elements.container)),kt.migrateStyles.call(this),kt.addStyleHook.call(this),$t.setup.call(this),this.config.debug&&I.call(this,this.elements.container,this.config.events.join(" "),(function(e){r.debug.log("event: ".concat(e.type))})),this.fullscreen=new wt(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&kt.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new At(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",(function(){return B(r.play())})),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Ot(this))):this.debug.error("Setup failed: no support")
}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return i(e,[{key:"toggleCaptions",value:function(e){ht.toggle.call(this,e,!1)}},{key:"isHTML5",get:function(){return this.provider===gt.html5}},{key:"isEmbed",get:function(){return this.isYouTube||this.isVimeo}},{key:"isYouTube",get:function(){return this.provider===gt.youtube}},{key:"isVimeo",get:function(){return this.provider===gt.vimeo}},{key:"isVideo",get:function(){return this.type===yt}},{key:"isAudio",get:function(){return this.type===vt}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(e){if(this.duration){var t=Pe(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var e=this.media.buffered;return Pe(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var e=parseFloat(this.config.duration),t=(this.media||{}).duration,n=Pe(t)&&t!==1/0?t:0;return e||n}},{key:"volume",set:function(e){var t=e;ze(t)&&(t=Number(t)),Pe(t)||(t=this.storage.get("volume")),Pe(t)||(t=this.config.volume),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!Ke(e)&&this.muted&&t>0&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(e){var t=e;Fe(t)||(t=this.storage.get("muted")),Fe(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(e){var t=this,n=null;Pe(e)&&(n=e),Pe(n)||(n=this.storage.get("speed")),Pe(n)||(n=this.config.speed.selected);var i=this.minimumSpeed,o=this.maximumSpeed;n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255;return Math.min(Math.max(e,t),n)}(n,i,o),this.config.speed.selected=n,setTimeout((function(){t.media.playbackRate=n}),0)},get:function(){return Number(this.media.playbackRate)}},{key:"minimumSpeed",get:function(){return this.isYouTube?Math.min.apply(Math,c(this.options.speed)):this.isVimeo?.5:.0625}},{key:"maximumSpeed",get:function(){return this.isYouTube?Math.max.apply(Math,c(this.options.speed)):this.isVimeo?2:16}},{key:"quality",set:function(e){var t=this.config.quality,n=this.options.quality;if(n.length){var i=[!Ke(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(Pe),o=!0;if(!n.includes(i)){var r=function(e,t){return He(e)&&e.length?e.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e})):null}(n,i);this.debug.warn("Unsupported quality option: ".concat(i,", using ").concat(r," instead")),i=r,o=!1}t.selected=i,this.media.quality=i,o&&this.storage.set({quality:i})}},get:function(){return this.media.quality}},{key:"loop",set:function(e){var t=Fe(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(e){Lt.change.call(this,e)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var e=this.config.urls.download;return Xe(e)?e:this.source},set:function(e){Xe(e)&&(this.config.urls.download=e,ut.setDownloadUrl.call(this))}},{key:"poster",set:function(e){this.isVideo?kt.setPoster.call(this,e,!1).catch((function(){})):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}},{key:"ratio",get:function(){if(!this.isVideo)return null;var e=W(V.call(this));return He(e)?e.join(":"):e},set:function(e){this.isVideo?ze(e)&&U(e)?(this.config.ratio=e,Q.call(this)):this.debug.error("Invalid aspect ratio specified (".concat(e,")")):this.debug.warn("Aspect ratio can only be set for video")}},{key:"autoplay",set:function(e){var t=Fe(e)?e:this.config.autoplay;this.config.autoplay=t},get:function(){return Boolean(this.config.autoplay)}},{key:"currentTrack",set:function(e){ht.set.call(this,e,!1)},get:function(){var e=this.captions,t=e.toggled,n=e.currentTrack;return t?n:-1}},{key:"language",set:function(e){ht.setLanguage.call(this,e,!1)},get:function(){return(ht.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(e){if(et.pip){var t=Fe(e)?e:!this.pip;qe(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?ft:mt),qe(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}},get:function(){return et.pip?Ke(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===ft:null}}],[{key:"supported",value:function(e,t,n){return et.check(e,t,n)}},{key:"loadSprite",value:function(e,t){return Z(e,t)}},{key:"setup",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null;return ze(t)?i=Array.from(document.querySelectorAll(t)):Be(t)?i=Array.from(t):He(t)&&(i=t.filter(Ue)),Ke(i)?null:i.map((function(t){return new e(t,n)}))}}]),e}();return Nt.defaults=(xt=pt,JSON.parse(JSON.stringify(xt))),Nt}));var FileUploader=function(){function e(){i&&i.removeAllFiles()}function t(){var e=[];if(i){var t=i.getAcceptedFiles();t.length&&t.forEach((function(t){var n=JSON.parse(t.xhr.response);e.push(n.file+":"+n.file_name)}))}return e}function n(e,t,n){Dropzone.autoDiscover=!1,void 0===n&&"attachment"===t?n=o:void 0===n&&"asset"===t&&(n=r);var s=Object.assign(a,n);if($(e).length)return i=new Dropzone(e,s),$(".dz-hidden-input").css("left",""),i}var i,o={method:"post",url:"/attachment/new",maxFiles:10,maxFilesize:100,createImageThumbnails:!0,acceptedFiles:".3gp,.7z,.7zip,.a,.ai,.apk,.ar,.avi,.bin,.bmp,.bz2,.cab,.cpio,.crx,.css,.csv,.deb,.dll,.dmg,.doc,.docx,.egg,.flv,.gif,.gz,.h264,.htm,.html,.ia,.icns,.ico,.ini,.iso,.jar,.jpeg,.jpg,.key,.lha,.m4v,.mar,.markdown,.md,.mdb,.mkv,.mov,.mp3,.mp4,.mpa,.mpeg,.mpg,.mpga,.octet-stream,.odp,.ods,.odt,.ogg,.otf,.pak,.pdf,.pea,.png,.pps,.ppt,.pptx,.psd,.rar,.rm,.rpm,.rss,.rtf,.s7z,.shar,.sql,.svg,.tar,.tar.gz,.tbz2,.tex,.tgz,.tif,.tiff,.tlz,.ttf,.txt,.vob,.war,.wav,.whl,.wma,.wmv,.xhtml,.xlr,.xls,.xlsx,.xml,.xpi,.xz,.z,.zip,.zipx,.cad",previewTemplate:'<div class="uploaded-image dz-preview"><div class="o-media"><div class="o-media__right u-no--margin p0 perview-block"><img data-dz-thumbnail style="min-width: 80px;" /></div><div class="o-media__body pt-2 u-padding-right"><div class="row"><div class="col-sm-9 col-12"><h5 class="u-margin-bottom--small"><span class="dz-success-mark u-clr--primary" style="display:none;"><i class="fa fa-check-circle-o"></i></span><span data-dz-name></span><span class="dz-size"> \u062d\u062c\u0645 \u0627\u0644\u0645\u0644\u0641: <span data-dz-size=""></span></span></h5><div class="dz-error-message" data-dz-errormessage></div><div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div></div><div class="col-sm-3 col-12 text-sm-end text-xs-start text-md-end text-lg-end"><h5><span> <a data-dz-remove="" class="c-button c-button--danger dz-delete-button"><i class="fa fa-times"></i> \u062d\u0630\u0641</a></span></h5></div></div></div></div></div>',paramName:"attachment",clickable:".dropzone-box",dictInvalidFileType:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0644\u0641 \u063a\u064a\u0631 \u0645\u062f\u0639\u0648\u0645",init:function(){this.on("sending",(function(e,t,n){n.append("token",$("#user_token").val())})),this.on("queuecomplete",(function(){$("#commentable_form #commentable_submit").attr("disabled",!1),$("#commentable_form #commentable_submit").html("\u0623\u0631\u0633\u0644")})),this.on("processing",(function(e){$("#commentable_form #commentable_submit").attr("disabled",!0),$("#commentable_form #commentable_submit").html("\u062c\u0627\u0631\u064a \u0627\u0644\u0631\u0641\u0639 ..."),""==e.previewElement.querySelector("img").src&&(e.previewElement.querySelector("img").src="https://khamsat.hsoubcdn.com/assets/images/no-preview-94dcb24d78ef808136e2a6c4cfa8981377d9e4020e671718313018f1afede51e.png")})),this.on("success",(function(e){$(e.previewElement.querySelector(".dz-success-mark")).show()})),this.on("error",(function(e,t,n){n&&500==n.status?errorMessage="\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642":errorMessage=t.error,$(e.previewElement).find(".dz-error-message").text(errorMessage)}))}},r={method:"post",url:"/admin/uploads/new",maxFiles:10,maxFilesize:100,createImageThumbnails:!0,acceptedFiles:".apng,.avif,.gif,.jpg,.jpeg,.jfif,.pjpeg,.pjp,.png,.svg,.webp,.bmp,.ico,.cur,.tif,.tiff",previewTemplate:'<div class="uploaded-image dz-preview"><div class="o-media"><div class="o-media__right u-no--margin p0 perview-block"><img data-dz-thumbnail style="min-width: 80px;" /></div><div class="o-media__body pt-2 u-padding-right"><div class="row"><div class="col-sm-9 col-12"><h5 class="u-margin-bottom--small"><span class="dz-success-mark u-clr--primary" style="display:none;"><i class="fa fa-check-circle-o"></i></span><span data-dz-name></span><span class="dz-size"> \u062d\u062c\u0645 \u0627\u0644\u0645\u0644\u0641: <span data-dz-size=""></span></span></h5><div class="dz-error-message" data-dz-errormessage></div><div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div></div><div class="col-sm-3 col-12 text-sm-end text-xs-start text-md-end text-lg-end"><h5><span> <a data-dz-remove="" class="c-button c-button--danger dz-delete-button"><i class="fa fa-times"></i> \u062d\u0630\u0641</a></span></h5></div></div></div></div></div>',paramName:"asset",clickable:".dropzone-box",dictInvalidFileType:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0644\u0641 \u063a\u064a\u0631 \u0645\u062f\u0639\u0648\u0645",init:function(){this.on("sending",(function(e,t,n){n.append("token",$("#user_token").val())})),this.on("queuecomplete",(function(){$("#assets_form #assets_submit").attr("disabled",!1),$("#assets_form #assets_submit").html("\u0623\u0631\u0633\u0644")})),this.on("processing",(function(e){$("#assets_form #assets_submit").attr("disabled",!0),$("#assets_form #assets_submit").html("\u062c\u0627\u0631\u064a \u0627\u0644\u0631\u0641\u0639 ..."),""==e.previewElement.querySelector("img").src&&(e.previewElement.querySelector("img").src="https://khamsat.hsoubcdn.com/assets/images/no-preview-94dcb24d78ef808136e2a6c4cfa8981377d9e4020e671718313018f1afede51e.png")})),this.on("success",(function(e){$(e.previewElement.querySelector(".dz-success-mark")).show()})),this.on("error",(function(e,t,n){n&&500==n.status?errorMessage="\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642":errorMessage=t.error,$(e.previewElement).find(".dz-error-message").text(errorMessage)}))}},a={timeout:15e5,parallelUploads:2,dictDefaultMessage:" \u0627\u0636\u063a\u0637 \u0647\u0646\u0627 \u0623\u0648 \u0642\u0645 \u0628\u0633\u062d\u0628 \u0627\u0644\u0635\u0648\u0631 \u0623\u0648 \u0627\u0644\u0641\u064a\u062f\u064a\u0648  \u0627\u0644\u0630\u064a \u062a\u0631\u064a\u062f \u0625\u0636\u0627\u0641\u062a\u0647\u0627 \u0625\u0644\u0649 \u0647\u0646\u0627",dictFallbackMessage:"\u0647\u0630\u0627 \u0627\u0644\u0645\u062a\u0635\u0641\u062d \u0644\u0627 \u064a\u062f\u0639\u0645 \u0628\u0639\u0636 \u0648 \u0638\u0627\u0626\u0641 \u0633\u0648\u0634\u064a\u0627\u0644 \u0648\u0648\u0644\u0641 \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629",dictFallbackText:"",dictFileTooBig:"\u062d\u062c\u0645 \u0627\u0644\u0645\u0644\u0641 \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0645\u0633\u0645\u0648\u062d \u0628\u0647",dictResponseError:"\u062e\u0637\u0623 {{statusCode}}",dictCancelUpload:"\u0627\u0644\u063a\u0627\u0621",dictCancelUploadConfirmation:"\u0647\u0644 \u062a\u0648\u062f \u0628\u0627\u0644\u0641\u0639\u0644 \u0627\u0644\u063a\u0627\u0621 \u0631\u0641\u0639 \u0627\u0644\u0645\u0644\u0641\u061f",dictRemoveFile:"\u062d\u0630\u0641",dictRemoveFileConfirmation:"\u0647\u0644 \u062a\u0648\u062f \u0628\u0627\u0644\u0641\u0639\u0644 \u062d\u0630\u0641 \u0627\u0644\u0645\u0644\u0641\u061f",dictMaxFilesExceeded:"\u063a\u064a\u0631 \u0645\u0633\u0645\u0648\u062d \u0628\u0623\u0643\u062b\u0631 \u0645\u0646 {{maxFiles}} \u0645\u0644\u0641\u0627\u062a",dictFileSizeUnits:{tb:"\u062a\u064a\u0631\u0627",gb:"\u063a\u064a\u063a\u0627",mb:"\u0645\u064a\u063a\u0627",kb:"\u0643\u064a\u0644\u0648 \u0628\u0627\u064a\u062a",b:"\u0628\u0627\u064a\u062a"}};return{init:n,reset_dropzone:e,get_files:t}}(),VoiceMessageUploader=function(){function e(){i(),a(),t()}function t(){$(document).on("click","a.voicerecord-delete-button",(function(){alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u062d\u0630\u0641 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0635\u0648\u062a\u064a\u0629\u061f \u0644\u0646 \u062a\u062a\u0645\u0643\u0646 \u0645\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0630\u0644\u0643 \u0644\u0627\u062d\u0642\u0627.").setting("title","\u062a\u0623\u0643\u064a\u062f \u062d\u0630\u0641 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0635\u0648\u062a\u064a\u0629").set("onok",(function(){$('input[name="voicemessage"]').val(""),c(""),$(".voicerecord-delete-button").hide(),r($("#voicemessage-title"))})),alertsControl.clear_style()})),$(document).on("change",'[name="voicemessage"]',(function(){$(this).val()?$(".voicerecord-delete-button").show():$(".voicerecord-delete-button").hide()}))}function n(){v(!0),$('input[name="voicemessage"]').val(""),$(".voicerecord-delete-button").hide(),c(""),r($("#voicemessage-title"))}function i(){$(document).on("click","#btn-start-recording",(function(){$('input[name="voicemessage"]').val().length?(alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u062d\u0630\u0641 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0635\u0648\u062a\u064a\u0629 \u0648\u062a\u0633\u062c\u064a\u0644 \u0631\u0633\u0627\u0644\u0629 \u062c\u062f\u064a\u062f\u0629\u061f \u0644\u0646 \u062a\u062a\u0645\u0643\u0646 \u0645\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0630\u0644\u0643 \u0644\u0627\u062d\u0642\u0627.").setting("title","\u062a\u0623\u0643\u064a\u062f \u062d\u0630\u0641 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0635\u0648\u062a\u064a\u0629").set("onok",(function(){o()})),alertsControl.clear_style()):o()}))}function o(){if($('[name="voicemessage"]').val("").change(),w){$("#btn-start-recording").hide(),$("#btn-stop-recording").show(),r("#voicemessage-recording"),c(),audio.muted=!0,audio.srcObject=w;var e=d();_&&(_.destroy(),_=null),(_=RecordRTC(w,e)).startRecording(),k.disabled=!1}else l((function(e){if(w=e,x)return c(),audio.muted=!0,audio.srcObject=w,void r("#voicemessage-click");f(document.getElementById("btn-start-recording"))}))}function r(e){var t=["#voicemessage-title","#voicemessage-recording","#voicemessage-uploading","#voicemessage-capture-permission","#voicemessage-listen","#voicemessage-click"];Array.from(t).map((function(e){$(e).hide()})),$(e).show(),"voicemessage-listen"==$(e).attr("id")?($("#voicemessage_meta-send").show(),$("#voicemessage_meta-title").hide()):($("#voicemessage_meta-send").hide(),$("#voicemessage_meta-title").show())}function a(){$(document).on("click","#btn-stop-recording",(function(){$("#btn-stop-recording").hide(),$("#btn-start-recording").show(),r("#voicemessage-uploading"),_.stopRecording(u)}))}function s(e,t){t=void 0===t||t;var n={iconUrl:"https://khamsat.hsoubcdn.com/assets/images/plyr-74659570e7ea771a2671c58786c0d10ab7e3fd325d0229844758b30c2fa73f5f.svg",invertTime:!1,autopause:!0,i18n:{restart:"\u0625\u0639\u0627\u062f\u0629",rewind:"Rewind {seektime} secs",play:"\u062a\u0634\u063a\u064a\u0644",pause:"\u0627\u064a\u0642\u0627\u0641 \u0645\u0624\u0642\u062a",fastForward:"Forward {seektime} secs",seek:"Seek",played:"Played",buffered:"Buffered",currentTime:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u062d\u0627\u0644\u064a",duration:"\u0627\u0644\u0645\u062f\u0629 \u0627\u0644\u0632\u0645\u0646\u064a\u0629",volume:"\u0627\u0644\u0635\u0648\u062a",mute:"\u0635\u0627\u0645\u062a",unmute:"\u063a\u064a\u0631 \u0635\u0627\u0645\u062a",enableCaptions:"Enable captions",disableCaptions:"Disable captions",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",speed:"\u0627\u0644\u0633\u0631\u0639\u0629",normal:"\u0637\u0628\u064a\u0639\u0649",quality:"\u0627\u0644\u062c\u0648\u062f\u0629",loop:"\u062a\u0643\u0631\u0627\u0631",start:"\u0628\u062f\u0627\u064a\u0629",end:"\u0646\u0647\u0627\u064a\u0629",all:"\u0627\u0644\u0643\u0644",reset:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646",disabled:"\u0645\u0639\u0637\u0651\u0644",advertisement:"Ad"},controls:["play","progress","current-time","volume","settings"]};if(n.enable=t,void 0!==e)return new Plyr(e,n);Array.from($('[data-type="audio-player"]')).map((function(e){var t=e.parentElement;new Plyr(e,n),t.style.visibility="visible"}))}function l(e){w?e(w):(void 0!==navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||(alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0639\u0641\u0648\u0627\u060c \u0647\u0630\u0627 \u0627\u0644\u0645\u062a\u0635\u0641\u062d \u0644\u0627 \u064a\u062f\u0639\u0645 \u062a\u0642\u0646\u064a\u0629 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0629."),navigator.getUserMedia&&alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u064a\u0628\u062f\u0648 \u0623\u0646 \u0647\u0630\u0627 \u0627\u0644\u0645\u062a\u0635\u0641\u062d \u064a\u062f\u0639\u0645 \u0648\u0627\u062c\u0647\u0629 \u0628\u0631\u0645\u062c\u0629 \u062a\u0637\u0628\u064a\u0642\u0627\u062a \u0642\u062f\u064a\u0645\u0629\u060c \u064a\u062c\u0628 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u062a\u0635\u0641\u062d.")),navigator.mediaDevices.getUserMedia({audio:!0}).then((function(t){e(t)})).catch((function(e){$("#voicemessage-capture-permission").html("\u0627\u0644\u0645\u062a\u0635\u0641\u062d \u063a\u064a\u0631 \u0642\u0627\u062f\u0631 \u0639\u0644\u0649 \u0627\u0644\u0648\u0635\u0648\u0644 \u0627\u0644\u0649 \u0627\u0644\u0645\u064a\u0643\u0631\u0648\u0641\u0648\u0646. \u0623\u0639\u062f \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0635\u0641\u062d\u0629"),r("#voicemessage-capture-permission"),alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0627\u0644\u0645\u062a\u0635\u0641\u062d \u063a\u064a\u0631 \u0642\u0627\u062f\u0631 \u0639\u0644\u0649 \u0627\u0644\u0648\u0635\u0648\u0644 \u0627\u0644\u0649 \u0627\u0644\u0645\u064a\u0643\u0631\u0648\u0641\u0648\u0646 \u0627\u0644\u062e\u0627\u0635 \u0628\u0643."),console.error(e)})))}function c(e){var t=document.createElement("audio");t.setAttribute("data-type","audio-player"),t.setAttribute("crossorigin",!0),t.controls=!0,t.controlsList="nodownload",e?(t.src=e,v(!1)):v();var n=$('[data-container="voicemessage-audio"]');n.html(""),n.html(t),audio=t,s(n.find("audio"),!1)}function d(){var e={type:"audio",recorderType:MediaStreamRecorder,checkForInactiveTracks:!0,disableLogs:!0};return(x||C)&&(e.recorderType=StereoAudioRecorder),e}function u(){c(URL.createObjectURL(_.getBlob())),w&&(w.stop(),w=null),h()}function h(){var e=_.getBlob(),t=g(e.type.split("/")[1]),n=new File([e],t,{type:e.type}),i=new FormData;i.append("attachment",n),i.append("token",$("#user_token").val()),p(i)}function p(e){y(),$.ajax({url:"/attachment/new",data:e,cache:!1,contentType:!1,processData:!1,type:"POST",statusCode:{405:function(){p(e)},422:function(){setTimeout((function(){h()}),2e3)}},success:function(e){if(e){var t=e.file+":"+e.file_name;$('[name="voicemessage"]').val(t).change(),v(!1),$(".voicerecord-delete-button").show(),r($("#voicemessage-listen")),b()}else alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642.")},fail:function(){p(e)}})}function f(e){e.disabled=!1;var t=document.createEvent("Event");t.initEvent("click",!0,!0),e.dispatchEvent(t)}function m(){return(Math.random()*(new Date).getTime()).toString(5).replace(/\./g,"")}function g(e){var t=new Date;return"voicemessage-"+t.getFullYear()+t.getMonth()+t.getDate()+"-"+m()+"."+e}function v(e){return(e=void 0===e||1==e)?$(".voicemessage-recorder-player").hide():$(".voicemessage-recorder-player").show()}function y(){$("#commentable_form #commentable_submit").attr("disabled",!0),$("#commentable_form #commentable_submit").html("\u062c\u0627\u0631\u064a \u0627\u0644\u0631\u0641\u0639 ...")}function b(){$("#commentable_form #commentable_submit").attr("disabled",!1),$("#commentable_form #commentable_submit").html("\u0623\u0631\u0633\u0644")}$("#btn-start-recording");var _,w,k=$("#btn-stop-recording"),C=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveOrOpenBlob&&!navigator.msSaveBlob),x=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return{init:e,clear_recorder:n}}();